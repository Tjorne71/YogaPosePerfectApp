"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/app/pose_detection/index.js":
/*!*****************************************!*\
  !*** ./src/app/pose_detection/index.js ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   app: function() { return /* binding */ app; }\n/* harmony export */ });\n/* harmony import */ var _tensorflow_tfjs_backend_webgl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tensorflow/tfjs-backend-webgl */ \"(app-pages-browser)/./node_modules/@tensorflow/tfjs-backend-webgl/dist/index.js\");\n/* harmony import */ var _tensorflow_tfjs_backend_webgpu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tensorflow/tfjs-backend-webgpu */ \"(app-pages-browser)/./node_modules/@tensorflow/tfjs-backend-webgpu/dist/index.js\");\n/* harmony import */ var _mediapipe_pose__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mediapipe/pose */ \"(app-pages-browser)/./node_modules/@mediapipe/pose/pose.js\");\n/* harmony import */ var _mediapipe_pose__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_mediapipe_pose__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _tensorflow_tfjs_backend_wasm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tensorflow/tfjs-backend-wasm */ \"(app-pages-browser)/./node_modules/@tensorflow/tfjs-backend-wasm/dist/index.js\");\n/* harmony import */ var _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tensorflow/tfjs-core */ \"(app-pages-browser)/./node_modules/@tensorflow/tfjs-core/dist/index.js\");\n/* harmony import */ var _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tensorflow-models/pose-detection */ \"(app-pages-browser)/./node_modules/@tensorflow-models/pose-detection/dist/pose-detection.esm.js\");\n/* harmony import */ var _camera__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./camera */ \"(app-pages-browser)/./src/app/pose_detection/camera.js\");\n/* harmony import */ var _renderer_webgpu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./renderer_webgpu */ \"(app-pages-browser)/./src/app/pose_detection/renderer_webgpu.js\");\n/* harmony import */ var _renderer_canvas2d__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./renderer_canvas2d */ \"(app-pages-browser)/./src/app/pose_detection/renderer_canvas2d.js\");\n/* harmony import */ var _option_panel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./option_panel */ \"(app-pages-browser)/./src/app/pose_detection/option_panel.js\");\n/* harmony import */ var _params__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./params */ \"(app-pages-browser)/./src/app/pose_detection/params.js\");\n/* harmony import */ var _stats_panel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./stats_panel */ \"(app-pages-browser)/./src/app/pose_detection/stats_panel.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./util */ \"(app-pages-browser)/./src/app/pose_detection/util.js\");\n/**\n * @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */ \n\n\n\n\n_tensorflow_tfjs_backend_wasm__WEBPACK_IMPORTED_MODULE_2__.setWasmPaths(\"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm@\".concat(_tensorflow_tfjs_backend_wasm__WEBPACK_IMPORTED_MODULE_2__.version_wasm, \"/dist/\"));\n\n\n\n\n\n\n\n\nlet detector, camera, stats;\nlet startInferenceTime, numInferences = 0;\nlet inferenceTimeSum = 0, lastPanelUpdate = 0;\nlet rafId;\nlet renderer = null;\nlet useGpuRenderer = false;\nasync function createDetector() {\n    switch(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.model){\n        case _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.SupportedModels.PoseNet:\n            return _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.createDetector(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.model, {\n                quantBytes: 4,\n                architecture: \"MobileNetV1\",\n                outputStride: 16,\n                inputResolution: {\n                    width: 500,\n                    height: 500\n                },\n                multiplier: 0.75\n            });\n        case _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.SupportedModels.BlazePose:\n            const runtime = _params__WEBPACK_IMPORTED_MODULE_9__.STATE.backend.split(\"-\")[0];\n            if (runtime === \"mediapipe\") {\n                return _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.createDetector(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.model, {\n                    runtime,\n                    modelType: _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.type,\n                    solutionPath: \"https://cdn.jsdelivr.net/npm/@mediapipe/pose@\".concat(_mediapipe_pose__WEBPACK_IMPORTED_MODULE_12__.VERSION)\n                });\n            } else if (runtime === \"tfjs\") {\n                return _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.createDetector(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.model, {\n                    runtime,\n                    modelType: _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.type\n                });\n            }\n        case _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.SupportedModels.MoveNet:\n            let modelType;\n            if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.type == \"lightning\") {\n                modelType = _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.movenet.modelType.SINGLEPOSE_LIGHTNING;\n            } else if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.type == \"thunder\") {\n                modelType = _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.movenet.modelType.SINGLEPOSE_THUNDER;\n            } else if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.type == \"multipose\") {\n                modelType = _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.movenet.modelType.MULTIPOSE_LIGHTNING;\n            }\n            const modelConfig = {\n                modelType\n            };\n            if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.customModel !== \"\") {\n                modelConfig.modelUrl = _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.customModel;\n            }\n            if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.type === \"multipose\") {\n                modelConfig.enableTracking = _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.enableTracking;\n            }\n            return _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.createDetector(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.model, modelConfig);\n    }\n}\nasync function checkGuiUpdate() {\n    if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.isTargetFPSChanged || _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isSizeOptionChanged) {\n        camera = await _camera__WEBPACK_IMPORTED_MODULE_5__.Camera.setupCamera(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.camera);\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isTargetFPSChanged = false;\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isSizeOptionChanged = false;\n    }\n    if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.isModelChanged || _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isFlagChanged || _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isBackendChanged) {\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isModelChanged = true;\n        window.cancelAnimationFrame(rafId);\n        if (detector != null) {\n            detector.dispose();\n        }\n        if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.isFlagChanged || _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isBackendChanged) {\n            await (0,_util__WEBPACK_IMPORTED_MODULE_11__.setBackendAndEnvFlags)(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.flags, _params__WEBPACK_IMPORTED_MODULE_9__.STATE.backend);\n        }\n        try {\n            detector = await createDetector(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.model);\n        } catch (error) {\n            detector = null;\n            alert(error);\n        }\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isFlagChanged = false;\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isBackendChanged = false;\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isModelChanged = false;\n    }\n}\nfunction beginEstimatePosesStats() {\n    startInferenceTime = (performance || Date).now();\n}\nfunction endEstimatePosesStats() {\n    const endInferenceTime = (performance || Date).now();\n    inferenceTimeSum += endInferenceTime - startInferenceTime;\n    ++numInferences;\n    const panelUpdateMilliseconds = 1000;\n    if (endInferenceTime - lastPanelUpdate >= panelUpdateMilliseconds) {\n        const averageInferenceTime = inferenceTimeSum / numInferences;\n        inferenceTimeSum = 0;\n        numInferences = 0;\n        stats.customFpsPanel.update(1000.0 / averageInferenceTime, 120 /* maxValue */ );\n        lastPanelUpdate = endInferenceTime;\n    }\n}\nasync function renderResult() {\n    if (camera.video.readyState < 2) {\n        await new Promise((resolve)=>{\n            camera.video.onloadeddata = ()=>{\n                resolve(video);\n            };\n        });\n    }\n    let poses = null;\n    let canvasInfo = null;\n    // Detector can be null if initialization failed (for example when loading\n    // from a URL that does not exist).\n    if (detector != null) {\n        // FPS only counts the time it takes to finish estimatePoses.\n        beginEstimatePosesStats();\n        if (useGpuRenderer && _params__WEBPACK_IMPORTED_MODULE_9__.STATE.model !== \"PoseNet\") {\n            throw new Error(\"Only PoseNet supports GPU renderer!\");\n        }\n        // Detectors can throw errors, for example when using custom URLs that\n        // contain a model that doesn't provide the expected output.\n        try {\n            if (useGpuRenderer) {\n                const [posesTemp, canvasInfoTemp] = await detector.estimatePosesGPU(camera.video, {\n                    maxPoses: _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.maxPoses,\n                    flipHorizontal: false\n                }, true);\n                poses = posesTemp;\n                canvasInfo = canvasInfoTemp;\n            } else {\n                poses = await detector.estimatePoses(camera.video, {\n                    maxPoses: _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.maxPoses,\n                    flipHorizontal: false\n                });\n            }\n        } catch (error) {\n            detector.dispose();\n            detector = null;\n            alert(error);\n        }\n        endEstimatePosesStats();\n    }\n    const rendererParams = useGpuRenderer ? [\n        camera.video,\n        poses,\n        canvasInfo,\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.scoreThreshold\n    ] : [\n        camera.video,\n        poses,\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isModelChanged\n    ];\n    renderer.draw(rendererParams);\n}\nasync function renderPrediction() {\n    await checkGuiUpdate();\n    if (!_params__WEBPACK_IMPORTED_MODULE_9__.STATE.isModelChanged) {\n        await renderResult();\n    }\n    rafId = requestAnimationFrame(renderPrediction);\n}\n;\nasync function app() {\n    // Gui content will change depending on which model is in the query string.\n    const urlParams = new URLSearchParams(window.location.search);\n    if (!urlParams.has(\"model\")) {\n        alert(\"Cannot find model in the query string.\");\n        return;\n    }\n    //await setupDatGui(urlParams);\n    stats = (0,_stats_panel__WEBPACK_IMPORTED_MODULE_10__.setupStats)();\n    const isWebGPU = _params__WEBPACK_IMPORTED_MODULE_9__.STATE.backend === \"tfjs-webgpu\";\n    const importVideo = urlParams.get(\"importVideo\") === \"true\" && isWebGPU;\n    camera = await _camera__WEBPACK_IMPORTED_MODULE_5__.Camera.setup(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.camera);\n    await (0,_util__WEBPACK_IMPORTED_MODULE_11__.setBackendAndEnvFlags)(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.flags, _params__WEBPACK_IMPORTED_MODULE_9__.STATE.backend);\n    await _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_3__.ready();\n    detector = await createDetector();\n    const canvas = document.getElementById(\"output\");\n    canvas.width = camera.video.width;\n    canvas.height = camera.video.height;\n    useGpuRenderer = urlParams.get(\"gpuRenderer\") === \"true\" && isWebGPU;\n    if (useGpuRenderer) {\n        renderer = new _renderer_webgpu__WEBPACK_IMPORTED_MODULE_6__.RendererWebGPU(canvas, importVideo);\n    } else {\n        renderer = new _renderer_canvas2d__WEBPACK_IMPORTED_MODULE_7__.RendererCanvas2d(canvas);\n    }\n    renderPrediction();\n}\n;\napp();\nif (useGpuRenderer) {\n    renderer.dispose();\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvcG9zZV9kZXRlY3Rpb24vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7OztDQWVDLEdBRXVDO0FBQ0M7QUFFQztBQUNnQjtBQUNkO0FBRTVDQyx1RUFBcUIsQ0FDakIsOERBQzBCLE9BQXRCQSx1RUFBcUIsRUFBQztBQUVxQztBQUVuQztBQUNpQjtBQUNJO0FBQ1Y7QUFDWjtBQUNVO0FBQ0k7QUFFN0MsSUFBSVksVUFBVUMsUUFBUUM7QUFDdEIsSUFBSUMsb0JBQW9CQyxnQkFBZ0I7QUFDeEMsSUFBSUMsbUJBQW1CLEdBQUdDLGtCQUFrQjtBQUM1QyxJQUFJQztBQUNKLElBQUlDLFdBQVc7QUFDZixJQUFJQyxpQkFBaUI7QUFFckIsZUFBZUM7SUFDYixPQUFRYiwwQ0FBS0EsQ0FBQ2MsS0FBSztRQUNqQixLQUFLbkIsOEVBQTZCLENBQUNxQixPQUFPO1lBQ3hDLE9BQU9yQiw2RUFBNEIsQ0FBQ0ssMENBQUtBLENBQUNjLEtBQUssRUFBRTtnQkFDL0NHLFlBQVk7Z0JBQ1pDLGNBQWM7Z0JBQ2RDLGNBQWM7Z0JBQ2RDLGlCQUFpQjtvQkFBQ0MsT0FBTztvQkFBS0MsUUFBUTtnQkFBRztnQkFDekNDLFlBQVk7WUFDZDtRQUNGLEtBQUs1Qiw4RUFBNkIsQ0FBQzZCLFNBQVM7WUFDMUMsTUFBTUMsVUFBVXpCLDBDQUFLQSxDQUFDMEIsT0FBTyxDQUFDQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDM0MsSUFBSUYsWUFBWSxhQUFhO2dCQUMzQixPQUFPOUIsNkVBQTRCLENBQUNLLDBDQUFLQSxDQUFDYyxLQUFLLEVBQUU7b0JBQy9DVztvQkFDQUcsV0FBVzVCLDBDQUFLQSxDQUFDNkIsV0FBVyxDQUFDQyxJQUFJO29CQUNqQ0MsY0FDSSxnREFBK0QsT0FBZnpDLHFEQUFjO2dCQUNwRTtZQUNGLE9BQU8sSUFBSW1DLFlBQVksUUFBUTtnQkFDN0IsT0FBTzlC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RCxJQUFJOUUsZ0JBQWdCO1FBQ2xCRCxXQUFXLElBQUlkLDREQUFjQSxDQUFDa0csUUFBUUo7SUFDeEMsT0FBTztRQUNMaEYsV0FBVyxJQUFJYixnRUFBZ0JBLENBQUNpRztJQUNsQztJQUVBYjtBQUNGOztBQUVBRTtBQUVBLElBQUl4RSxnQkFBZ0I7SUFDbEJELFNBQVN1QyxPQUFPO0FBQ2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvcG9zZV9kZXRlY3Rpb24vaW5kZXguanM/OWIyMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQgJ0B0ZW5zb3JmbG93L3RmanMtYmFja2VuZC13ZWJnbCc7XG5pbXBvcnQgJ0B0ZW5zb3JmbG93L3RmanMtYmFja2VuZC13ZWJncHUnO1xuXG5pbXBvcnQgKiBhcyBtcFBvc2UgZnJvbSAnQG1lZGlhcGlwZS9wb3NlJztcbmltcG9ydCAqIGFzIHRmanNXYXNtIGZyb20gJ0B0ZW5zb3JmbG93L3RmanMtYmFja2VuZC13YXNtJztcbmltcG9ydCAqIGFzIHRmIGZyb20gJ0B0ZW5zb3JmbG93L3RmanMtY29yZSc7XG5cbnRmanNXYXNtLnNldFdhc21QYXRocyhcbiAgICBgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9AdGVuc29yZmxvdy90ZmpzLWJhY2tlbmQtd2FzbUAke1xuICAgICAgICB0ZmpzV2FzbS52ZXJzaW9uX3dhc219L2Rpc3QvYCk7XG5cbmltcG9ydCAqIGFzIHBvc2VkZXRlY3Rpb24gZnJvbSAnQHRlbnNvcmZsb3ctbW9kZWxzL3Bvc2UtZGV0ZWN0aW9uJztcblxuaW1wb3J0IHtDYW1lcmF9IGZyb20gJy4vY2FtZXJhJztcbmltcG9ydCB7UmVuZGVyZXJXZWJHUFV9IGZyb20gJy4vcmVuZGVyZXJfd2ViZ3B1JztcbmltcG9ydCB7UmVuZGVyZXJDYW52YXMyZH0gZnJvbSAnLi9yZW5kZXJlcl9jYW52YXMyZCc7XG5pbXBvcnQge3NldHVwRGF0R3VpfSBmcm9tICcuL29wdGlvbl9wYW5lbCc7XG5pbXBvcnQge1NUQVRFfSBmcm9tICcuL3BhcmFtcyc7XG5pbXBvcnQge3NldHVwU3RhdHN9IGZyb20gJy4vc3RhdHNfcGFuZWwnO1xuaW1wb3J0IHtzZXRCYWNrZW5kQW5kRW52RmxhZ3N9IGZyb20gJy4vdXRpbCc7XG5cbmxldCBkZXRlY3RvciwgY2FtZXJhLCBzdGF0cztcbmxldCBzdGFydEluZmVyZW5jZVRpbWUsIG51bUluZmVyZW5jZXMgPSAwO1xubGV0IGluZmVyZW5jZVRpbWVTdW0gPSAwLCBsYXN0UGFuZWxVcGRhdGUgPSAwO1xubGV0IHJhZklkO1xubGV0IHJlbmRlcmVyID0gbnVsbDtcbmxldCB1c2VHcHVSZW5kZXJlciA9IGZhbHNlO1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVEZXRlY3RvcigpIHtcbiAgc3dpdGNoIChTVEFURS5tb2RlbCkge1xuICAgIGNhc2UgcG9zZWRldGVjdGlvbi5TdXBwb3J0ZWRNb2RlbHMuUG9zZU5ldDpcbiAgICAgIHJldHVybiBwb3NlZGV0ZWN0aW9uLmNyZWF0ZURldGVjdG9yKFNUQVRFLm1vZGVsLCB7XG4gICAgICAgIHF1YW50Qnl0ZXM6IDQsXG4gICAgICAgIGFyY2hpdGVjdHVyZTogJ01vYmlsZU5ldFYxJyxcbiAgICAgICAgb3V0cHV0U3RyaWRlOiAxNixcbiAgICAgICAgaW5wdXRSZXNvbHV0aW9uOiB7d2lkdGg6IDUwMCwgaGVpZ2h0OiA1MDB9LFxuICAgICAgICBtdWx0aXBsaWVyOiAwLjc1XG4gICAgICB9KTtcbiAgICBjYXNlIHBvc2VkZXRlY3Rpb24uU3VwcG9ydGVkTW9kZWxzLkJsYXplUG9zZTpcbiAgICAgIGNvbnN0IHJ1bnRpbWUgPSBTVEFURS5iYWNrZW5kLnNwbGl0KCctJylbMF07XG4gICAgICBpZiAocnVudGltZSA9PT0gJ21lZGlhcGlwZScpIHtcbiAgICAgICAgcmV0dXJuIHBvc2VkZXRlY3Rpb24uY3JlYXRlRGV0ZWN0b3IoU1RBVEUubW9kZWwsIHtcbiAgICAgICAgICBydW50aW1lLFxuICAgICAgICAgIG1vZGVsVHlwZTogU1RBVEUubW9kZWxDb25maWcudHlwZSxcbiAgICAgICAgICBzb2x1dGlvblBhdGg6XG4gICAgICAgICAgICAgIGBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0BtZWRpYXBpcGUvcG9zZUAke21wUG9zZS5WRVJTSU9OfWBcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHJ1bnRpbWUgPT09ICd0ZmpzJykge1xuICAgICAgICByZXR1cm4gcG9zZWRldGVjdGlvbi5jcmVhdGVEZXRlY3RvcihcbiAgICAgICAgICAgIFNUQVRFLm1vZGVsLCB7cnVudGltZSwgbW9kZWxUeXBlOiBTVEFURS5tb2RlbENvbmZpZy50eXBlfSk7XG4gICAgICB9XG4gICAgY2FzZSBwb3NlZGV0ZWN0aW9uLlN1cHBvcnRlZE1vZGVscy5Nb3ZlTmV0OlxuICAgICAgbGV0IG1vZGVsVHlwZTtcbiAgICAgIGlmIChTVEFURS5tb2RlbENvbmZpZy50eXBlID09ICdsaWdodG5pbmcnKSB7XG4gICAgICAgIG1vZGVsVHlwZSA9IHBvc2VkZXRlY3Rpb24ubW92ZW5ldC5tb2RlbFR5cGUuU0lOR0xFUE9TRV9MSUdIVE5JTkc7XG4gICAgICB9IGVsc2UgaWYgKFNUQVRFLm1vZGVsQ29uZmlnLnR5cGUgPT0gJ3RodW5kZXInKSB7XG4gICAgICAgIG1vZGVsVHlwZSA9IHBvc2VkZXRlY3Rpb24ubW92ZW5ldC5tb2RlbFR5cGUuU0lOR0xFUE9TRV9USFVOREVSO1xuICAgICAgfSBlbHNlIGlmIChTVEFURS5tb2RlbENvbmZpZy50eXBlID09ICdtdWx0aXBvc2UnKSB7XG4gICAgICAgIG1vZGVsVHlwZSA9IHBvc2VkZXRlY3Rpb24ubW92ZW5ldC5tb2RlbFR5cGUuTVVMVElQT1NFX0xJR0hUTklORztcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1vZGVsQ29uZmlnID0ge21vZGVsVHlwZX07XG5cbiAgICAgIGlmIChTVEFURS5tb2RlbENvbmZpZy5jdXN0b21Nb2RlbCAhPT0gJycpIHtcbiAgICAgICAgbW9kZWxDb25maWcubW9kZWxVcmwgPSBTVEFURS5tb2RlbENvbmZpZy5jdXN0b21Nb2RlbDtcbiAgICAgIH1cbiAgICAgIGlmIChTVEFURS5tb2RlbENvbmZpZy50eXBlID09PSAnbXVsdGlwb3NlJykge1xuICAgICAgICBtb2RlbENvbmZpZy5lbmFibGVUcmFja2luZyA9IFNUQVRFLm1vZGVsQ29uZmlnLmVuYWJsZVRyYWNraW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBvc2VkZXRlY3Rpb24uY3JlYXRlRGV0ZWN0b3IoU1RBVEUubW9kZWwsIG1vZGVsQ29uZmlnKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBjaGVja0d1aVVwZGF0ZSgpIHtcbiAgaWYgKFNUQVRFLmlzVGFyZ2V0RlBTQ2hhbmdlZCB8fCBTVEFURS5pc1NpemVPcHRpb25DaGFuZ2VkKSB7XG4gICAgY2FtZXJhID0gYXdhaXQgQ2FtZXJhLnNldHVwQ2FtZXJhKFNUQVRFLmNhbWVyYSk7XG4gICAgU1RBVEUuaXNUYXJnZXRGUFNDaGFuZ2VkID0gZmFsc2U7XG4gICAgU1RBVEUuaXNTaXplT3B0aW9uQ2hhbmdlZCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKFNUQVRFLmlzTW9kZWxDaGFuZ2VkIHx8IFNUQVRFLmlzRmxhZ0NoYW5nZWQgfHwgU1RBVEUuaXNCYWNrZW5kQ2hhbmdlZCkge1xuICAgIFNUQVRFLmlzTW9kZWxDaGFuZ2VkID0gdHJ1ZTtcblxuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShyYWZJZCk7XG5cbiAgICBpZiAoZGV0ZWN0b3IgIT0gbnVsbCkge1xuICAgICAgZGV0ZWN0b3IuZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIGlmIChTVEFURS5pc0ZsYWdDaGFuZ2VkIHx8IFNUQVRFLmlzQmFja2VuZENoYW5nZWQpIHtcbiAgICAgIGF3YWl0IHNldEJhY2tlbmRBbmRFbnZGbGFncyhTVEFURS5mbGFncywgU1RBVEUuYmFja2VuZCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGRldGVjdG9yID0gYXdhaXQgY3JlYXRlRGV0ZWN0b3IoU1RBVEUubW9kZWwpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBkZXRlY3RvciA9IG51bGw7XG4gICAgICBhbGVydChlcnJvcik7XG4gICAgfVxuXG4gICAgU1RBVEUuaXNGbGFnQ2hhbmdlZCA9IGZhbHNlO1xuICAgIFNUQVRFLmlzQmFja2VuZENoYW5nZWQgPSBmYWxzZTtcbiAgICBTVEFURS5pc01vZGVsQ2hhbmdlZCA9IGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJlZ2luRXN0aW1hdGVQb3Nlc1N0YXRzKCkge1xuICBzdGFydEluZmVyZW5jZVRpbWUgPSAocGVyZm9ybWFuY2UgfHwgRGF0ZSkubm93KCk7XG59XG5cbmZ1bmN0aW9uIGVuZEVzdGltYXRlUG9zZXNTdGF0cygpIHtcbiAgY29uc3QgZW5kSW5mZXJlbmNlVGltZSA9IChwZXJmb3JtYW5jZSB8fCBEYXRlKS5ub3coKTtcbiAgaW5mZXJlbmNlVGltZVN1bSArPSBlbmRJbmZlcmVuY2VUaW1lIC0gc3RhcnRJbmZlcmVuY2VUaW1lO1xuICArK251bUluZmVyZW5jZXM7XG5cbiAgY29uc3QgcGFuZWxVcGRhdGVNaWxsaXNlY29uZHMgPSAxMDAwO1xuICBpZiAoZW5kSW5mZXJlbmNlVGltZSAtIGxhc3RQYW5lbFVwZGF0ZSA+PSBwYW5lbFVwZGF0ZU1pbGxpc2Vjb25kcykge1xuICAgIGNvbnN0IGF2ZXJhZ2VJbmZlcmVuY2VUaW1lID0gaW5mZXJlbmNlVGltZVN1bSAvIG51bUluZmVyZW5jZXM7XG4gICAgaW5mZXJlbmNlVGltZVN1bSA9IDA7XG4gICAgbnVtSW5mZXJlbmNlcyA9IDA7XG4gICAgc3RhdHMuY3VzdG9tRnBzUGFuZWwudXBkYXRlKFxuICAgICAgICAxMDAwLjAgLyBhdmVyYWdlSW5mZXJlbmNlVGltZSwgMTIwIC8qIG1heFZhbHVlICovKTtcbiAgICBsYXN0UGFuZWxVcGRhdGUgPSBlbmRJbmZlcmVuY2VUaW1lO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlbmRlclJlc3VsdCgpIHtcbiAgaWYgKGNhbWVyYS52aWRlby5yZWFkeVN0YXRlIDwgMikge1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBjYW1lcmEudmlkZW8ub25sb2FkZWRkYXRhID0gKCkgPT4ge1xuICAgICAgICByZXNvbHZlKHZpZGVvKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBsZXQgcG9zZXMgPSBudWxsO1xuICBsZXQgY2FudmFzSW5mbyA9IG51bGw7XG5cbiAgLy8gRGV0ZWN0b3IgY2FuIGJlIG51bGwgaWYgaW5pdGlhbGl6YXRpb24gZmFpbGVkIChmb3IgZXhhbXBsZSB3aGVuIGxvYWRpbmdcbiAgLy8gZnJvbSBhIFVSTCB0aGF0IGRvZXMgbm90IGV4aXN0KS5cbiAgaWYgKGRldGVjdG9yICE9IG51bGwpIHtcbiAgICAvLyBGUFMgb25seSBjb3VudHMgdGhlIHRpbWUgaXQgdGFrZXMgdG8gZmluaXNoIGVzdGltYXRlUG9zZXMuXG4gICAgYmVnaW5Fc3RpbWF0ZVBvc2VzU3RhdHMoKTtcblxuICAgIGlmICh1c2VHcHVSZW5kZXJlciAmJiBTVEFURS5tb2RlbCAhPT0gJ1Bvc2VOZXQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgUG9zZU5ldCBzdXBwb3J0cyBHUFUgcmVuZGVyZXIhJyk7XG4gICAgfVxuICAgIC8vIERldGVjdG9ycyBjYW4gdGhyb3cgZXJyb3JzLCBmb3IgZXhhbXBsZSB3aGVuIHVzaW5nIGN1c3RvbSBVUkxzIHRoYXRcbiAgICAvLyBjb250YWluIGEgbW9kZWwgdGhhdCBkb2Vzbid0IHByb3ZpZGUgdGhlIGV4cGVjdGVkIG91dHB1dC5cbiAgICB0cnkge1xuICAgICAgaWYgKHVzZUdwdVJlbmRlcmVyKSB7XG4gICAgICAgIGNvbnN0IFtwb3Nlc1RlbXAsIGNhbnZhc0luZm9UZW1wXSA9IGF3YWl0IGRldGVjdG9yLmVzdGltYXRlUG9zZXNHUFUoXG4gICAgICAgICAgICBjYW1lcmEudmlkZW8sXG4gICAgICAgICAgICB7bWF4UG9zZXM6IFNUQVRFLm1vZGVsQ29uZmlnLm1heFBvc2VzLCBmbGlwSG9yaXpvbnRhbDogZmFsc2V9LFxuICAgICAgICAgICAgdHJ1ZSk7XG4gICAgICAgIHBvc2VzID0gcG9zZXNUZW1wO1xuICAgICAgICBjYW52YXNJbmZvID0gY2FudmFzSW5mb1RlbXA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwb3NlcyA9IGF3YWl0IGRldGVjdG9yLmVzdGltYXRlUG9zZXMoXG4gICAgICAgICAgICBjYW1lcmEudmlkZW8sXG4gICAgICAgICAgICB7bWF4UG9zZXM6IFNUQVRFLm1vZGVsQ29uZmlnLm1heFBvc2VzLCBmbGlwSG9yaXpvbnRhbDogZmFsc2V9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZGV0ZWN0b3IuZGlzcG9zZSgpO1xuICAgICAgZGV0ZWN0b3IgPSBudWxsO1xuICAgICAgYWxlcnQoZXJyb3IpO1xuICAgIH1cblxuICAgIGVuZEVzdGltYXRlUG9zZXNTdGF0cygpO1xuICB9XG4gIGNvbnN0IHJlbmRlcmVyUGFyYW1zID0gdXNlR3B1UmVuZGVyZXIgP1xuICAgICAgW2NhbWVyYS52aWRlbywgcG9zZXMsIGNhbnZhc0luZm8sIFNUQVRFLm1vZGVsQ29uZmlnLnNjb3JlVGhyZXNob2xkXSA6XG4gICAgICBbY2FtZXJhLnZpZGVvLCBwb3NlcywgU1RBVEUuaXNNb2RlbENoYW5nZWRdO1xuICByZW5kZXJlci5kcmF3KHJlbmRlcmVyUGFyYW1zKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVuZGVyUHJlZGljdGlvbigpIHtcbiAgYXdhaXQgY2hlY2tHdWlVcGRhdGUoKTtcblxuICBpZiAoIVNUQVRFLmlzTW9kZWxDaGFuZ2VkKSB7XG4gICAgYXdhaXQgcmVuZGVyUmVzdWx0KCk7XG4gIH1cblxuICByYWZJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXJQcmVkaWN0aW9uKTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHAoKSB7XG4gIC8vIEd1aSBjb250ZW50IHdpbGwgY2hhbmdlIGRlcGVuZGluZyBvbiB3aGljaCBtb2RlbCBpcyBpbiB0aGUgcXVlcnkgc3RyaW5nLlxuICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICBpZiAoIXVybFBhcmFtcy5oYXMoJ21vZGVsJykpIHtcbiAgICBhbGVydCgnQ2Fubm90IGZpbmQgbW9kZWwgaW4gdGhlIHF1ZXJ5IHN0cmluZy4nKTtcbiAgICByZXR1cm47XG4gIH1cbiAgLy9hd2FpdCBzZXR1cERhdEd1aSh1cmxQYXJhbXMpO1xuXG4gIHN0YXRzID0gc2V0dXBTdGF0cygpO1xuICBjb25zdCBpc1dlYkdQVSA9IFNUQVRFLmJhY2tlbmQgPT09ICd0ZmpzLXdlYmdwdSc7XG4gIGNvbnN0IGltcG9ydFZpZGVvID0gKHVybFBhcmFtcy5nZXQoJ2ltcG9ydFZpZGVvJykgPT09ICd0cnVlJykgJiYgaXNXZWJHUFU7XG5cbiAgY2FtZXJhID0gYXdhaXQgQ2FtZXJhLnNldHVwKFNUQVRFLmNhbWVyYSk7XG5cbiAgYXdhaXQgc2V0QmFja2VuZEFuZEVudkZsYWdzKFNUQVRFLmZsYWdzLCBTVEFURS5iYWNrZW5kKTtcbiAgYXdhaXQgdGYucmVhZHkoKTtcbiAgZGV0ZWN0b3IgPSBhd2FpdCBjcmVhdGVEZXRlY3RvcigpO1xuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3V0cHV0Jyk7XG4gIGNhbnZhcy53aWR0aCA9IGNhbWVyYS52aWRlby53aWR0aDtcbiAgY2FudmFzLmhlaWdodCA9IGNhbWVyYS52aWRlby5oZWlnaHQ7XG4gIHVzZUdwdVJlbmRlcmVyID0gKHVybFBhcmFtcy5nZXQoJ2dwdVJlbmRlcmVyJykgPT09ICd0cnVlJykgJiYgaXNXZWJHUFU7XG4gIGlmICh1c2VHcHVSZW5kZXJlcikge1xuICAgIHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyV2ViR1BVKGNhbnZhcywgaW1wb3J0VmlkZW8pO1xuICB9IGVsc2Uge1xuICAgIHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyQ2FudmFzMmQoY2FudmFzKTtcbiAgfVxuXG4gIHJlbmRlclByZWRpY3Rpb24oKTtcbn07XG5cbmFwcCgpO1xuXG5pZiAodXNlR3B1UmVuZGVyZXIpIHtcbiAgcmVuZGVyZXIuZGlzcG9zZSgpO1xufVxuIl0sIm5hbWVzIjpbIm1wUG9zZSIsInRmanNXYXNtIiwidGYiLCJzZXRXYXNtUGF0aHMiLCJ2ZXJzaW9uX3dhc20iLCJwb3NlZGV0ZWN0aW9uIiwiQ2FtZXJhIiwiUmVuZGVyZXJXZWJHUFUiLCJSZW5kZXJlckNhbnZhczJkIiwic2V0dXBEYXRHdWkiLCJTVEFURSIsInNldHVwU3RhdHMiLCJzZXRCYWNrZW5kQW5kRW52RmxhZ3MiLCJkZXRlY3RvciIsImNhbWVyYSIsInN0YXRzIiwic3RhcnRJbmZlcmVuY2VUaW1lIiwibnVtSW5mZXJlbmNlcyIsImluZmVyZW5jZVRpbWVTdW0iLCJsYXN0UGFuZWxVcGRhdGUiLCJyYWZJZCIsInJlbmRlcmVyIiwidXNlR3B1UmVuZGVyZXIiLCJjcmVhdGVEZXRlY3RvciIsIm1vZGVsIiwiU3VwcG9ydGVkTW9kZWxzIiwiUG9zZU5ldCIsInF1YW50Qnl0ZXMiLCJhcmNoaXRlY3R1cmUiLCJvdXRwdXRTdHJpZGUiLCJpbnB1dFJlc29sdXRpb24iLCJ3aWR0aCIsImhlaWdodCIsIm11bHRpcGxpZXIiLCJCbGF6ZVBvc2UiLCJydW50aW1lIiwiYmFja2VuZCIsInNwbGl0IiwibW9kZWxUeXBlIiwibW9kZWxDb25maWciLCJ0eXBlIiwic29sdXRpb25QYXRoIiwiVkVSU0lPTiIsIk1vdmVOZXQiLCJtb3ZlbmV0IiwiU0lOR0xFUE9TRV9MSUdIVE5JTkciLCJTSU5HTEVQT1NFX1RIVU5ERVIiLCJNVUxUSVBPU0VfTElHSFROSU5HIiwiY3VzdG9tTW9kZWwiLCJtb2RlbFVybCIsImVuYWJsZVRyYWNraW5nIiwiY2hlY2tHdWlVcGRhdGUiLCJpc1RhcmdldEZQU0NoYW5nZWQiLCJpc1NpemVPcHRpb25DaGFuZ2VkIiwic2V0dXBDYW1lcmEiLCJpc01vZGVsQ2hhbmdlZCIsImlzRmxhZ0NoYW5nZWQiLCJpc0JhY2tlbmRDaGFuZ2VkIiwid2luZG93IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJkaXNwb3NlIiwiZmxhZ3MiLCJlcnJvciIsImFsZXJ0IiwiYmVnaW5Fc3RpbWF0ZVBvc2VzU3RhdHMiLCJwZXJmb3JtYW5jZSIsIkRhdGUiLCJub3ciLCJlbmRFc3RpbWF0ZVBvc2VzU3RhdHMiLCJlbmRJbmZlcmVuY2VUaW1lIiwicGFuZWxVcGRhdGVNaWxsaXNlY29uZHMiLCJhdmVyYWdlSW5mZXJlbmNlVGltZSIsImN1c3RvbUZwc1BhbmVsIiwidXBkYXRlIiwicmVuZGVyUmVzdWx0IiwidmlkZW8iLCJyZWFkeVN0YXRlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvbmxvYWRlZGRhdGEiLCJwb3NlcyIsImNhbnZhc0luZm8iLCJFcnJvciIsInBvc2VzVGVtcCIsImNhbnZhc0luZm9UZW1wIiwiZXN0aW1hdGVQb3Nlc0dQVSIsIm1heFBvc2VzIiwiZmxpcEhvcml6b250YWwiLCJlc3RpbWF0ZVBvc2VzIiwicmVuZGVyZXJQYXJhbXMiLCJzY29yZVRocmVzaG9sZCIsImRyYXciLCJyZW5kZXJQcmVkaWN0aW9uIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYXBwIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJoYXMiLCJpc1dlYkdQVSIsImltcG9ydFZpZGVvIiwiZ2V0Iiwic2V0dXAiLCJyZWFkeSIsImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/pose_detection/index.js\n"));

/***/ })

});