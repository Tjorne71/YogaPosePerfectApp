"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/app/pose_detection/index.js":
/*!*****************************************!*\
  !*** ./src/app/pose_detection/index.js ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   app: function() { return /* binding */ app; }\n/* harmony export */ });\n/* harmony import */ var _tensorflow_tfjs_backend_webgl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tensorflow/tfjs-backend-webgl */ \"(app-pages-browser)/./node_modules/@tensorflow/tfjs-backend-webgl/dist/index.js\");\n/* harmony import */ var _tensorflow_tfjs_backend_webgpu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tensorflow/tfjs-backend-webgpu */ \"(app-pages-browser)/./node_modules/@tensorflow/tfjs-backend-webgpu/dist/index.js\");\n/* harmony import */ var _mediapipe_pose__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mediapipe/pose */ \"(app-pages-browser)/./node_modules/@mediapipe/pose/pose.js\");\n/* harmony import */ var _mediapipe_pose__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_mediapipe_pose__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _tensorflow_tfjs_backend_wasm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tensorflow/tfjs-backend-wasm */ \"(app-pages-browser)/./node_modules/@tensorflow/tfjs-backend-wasm/dist/index.js\");\n/* harmony import */ var _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tensorflow/tfjs-core */ \"(app-pages-browser)/./node_modules/@tensorflow/tfjs-core/dist/index.js\");\n/* harmony import */ var _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tensorflow-models/pose-detection */ \"(app-pages-browser)/./node_modules/@tensorflow-models/pose-detection/dist/pose-detection.esm.js\");\n/* harmony import */ var _camera__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./camera */ \"(app-pages-browser)/./src/app/pose_detection/camera.js\");\n/* harmony import */ var _renderer_webgpu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./renderer_webgpu */ \"(app-pages-browser)/./src/app/pose_detection/renderer_webgpu.js\");\n/* harmony import */ var _renderer_canvas2d__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./renderer_canvas2d */ \"(app-pages-browser)/./src/app/pose_detection/renderer_canvas2d.js\");\n/* harmony import */ var _option_panel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./option_panel */ \"(app-pages-browser)/./src/app/pose_detection/option_panel.js\");\n/* harmony import */ var _params__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./params */ \"(app-pages-browser)/./src/app/pose_detection/params.js\");\n/* harmony import */ var _stats_panel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./stats_panel */ \"(app-pages-browser)/./src/app/pose_detection/stats_panel.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./util */ \"(app-pages-browser)/./src/app/pose_detection/util.js\");\n/**\n * @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */ \n\n\n\n\n_tensorflow_tfjs_backend_wasm__WEBPACK_IMPORTED_MODULE_2__.setWasmPaths(\"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm@\".concat(_tensorflow_tfjs_backend_wasm__WEBPACK_IMPORTED_MODULE_2__.version_wasm, \"/dist/\"));\n\n\n\n\n\n\n\n\nlet detector, camera, stats;\nlet startInferenceTime, numInferences = 0;\nlet inferenceTimeSum = 0, lastPanelUpdate = 0;\nlet rafId;\nlet renderer = null;\nlet useGpuRenderer = false;\nasync function createDetector() {\n    switch(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.model){\n        case _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.SupportedModels.PoseNet:\n            return _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.createDetector(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.model, {\n                quantBytes: 4,\n                architecture: \"MobileNetV1\",\n                outputStride: 16,\n                inputResolution: {\n                    width: 500,\n                    height: 500\n                },\n                multiplier: 0.75\n            });\n        case _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.SupportedModels.BlazePose:\n            const runtime = _params__WEBPACK_IMPORTED_MODULE_9__.STATE.backend.split(\"-\")[0];\n            if (runtime === \"mediapipe\") {\n                return _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.createDetector(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.model, {\n                    runtime,\n                    modelType: _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.type,\n                    solutionPath: \"https://cdn.jsdelivr.net/npm/@mediapipe/pose@\".concat(_mediapipe_pose__WEBPACK_IMPORTED_MODULE_12__.VERSION)\n                });\n            } else if (runtime === \"tfjs\") {\n                return _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.createDetector(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.model, {\n                    runtime,\n                    modelType: _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.type\n                });\n            }\n        case _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.SupportedModels.MoveNet:\n            let modelType;\n            if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.type == \"lightning\") {\n                modelType = _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.movenet.modelType.SINGLEPOSE_LIGHTNING;\n            } else if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.type == \"thunder\") {\n                modelType = _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.movenet.modelType.SINGLEPOSE_THUNDER;\n            } else if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.type == \"multipose\") {\n                modelType = _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.movenet.modelType.MULTIPOSE_LIGHTNING;\n            }\n            const modelConfig = {\n                modelType\n            };\n            if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.customModel !== \"\") {\n                modelConfig.modelUrl = _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.customModel;\n            }\n            if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.type === \"multipose\") {\n                modelConfig.enableTracking = _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.enableTracking;\n            }\n            return _tensorflow_models_pose_detection__WEBPACK_IMPORTED_MODULE_4__.createDetector(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.model, modelConfig);\n    }\n}\nasync function checkGuiUpdate() {\n    if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.isTargetFPSChanged || _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isSizeOptionChanged) {\n        camera = await _camera__WEBPACK_IMPORTED_MODULE_5__.Camera.setupCamera(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.camera);\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isTargetFPSChanged = false;\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isSizeOptionChanged = false;\n    }\n    if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.isModelChanged || _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isFlagChanged || _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isBackendChanged) {\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isModelChanged = true;\n        window.cancelAnimationFrame(rafId);\n        if (detector != null) {\n            detector.dispose();\n        }\n        if (_params__WEBPACK_IMPORTED_MODULE_9__.STATE.isFlagChanged || _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isBackendChanged) {\n            await (0,_util__WEBPACK_IMPORTED_MODULE_11__.setBackendAndEnvFlags)(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.flags, _params__WEBPACK_IMPORTED_MODULE_9__.STATE.backend);\n        }\n        try {\n            detector = await createDetector(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.model);\n        } catch (error) {\n            detector = null;\n            alert(error);\n        }\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isFlagChanged = false;\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isBackendChanged = false;\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isModelChanged = false;\n    }\n}\nfunction beginEstimatePosesStats() {\n    startInferenceTime = (performance || Date).now();\n}\nfunction endEstimatePosesStats() {\n    const endInferenceTime = (performance || Date).now();\n    inferenceTimeSum += endInferenceTime - startInferenceTime;\n    ++numInferences;\n    const panelUpdateMilliseconds = 1000;\n    if (endInferenceTime - lastPanelUpdate >= panelUpdateMilliseconds) {\n        const averageInferenceTime = inferenceTimeSum / numInferences;\n        inferenceTimeSum = 0;\n        numInferences = 0;\n        stats.customFpsPanel.update(1000.0 / averageInferenceTime, 120 /* maxValue */ );\n        lastPanelUpdate = endInferenceTime;\n    }\n}\nasync function renderResult() {\n    if (camera.video.readyState < 2) {\n        await new Promise((resolve)=>{\n            camera.video.onloadeddata = ()=>{\n                resolve(video);\n            };\n        });\n    }\n    let poses = null;\n    let canvasInfo = null;\n    // Detector can be null if initialization failed (for example when loading\n    // from a URL that does not exist).\n    if (detector != null) {\n        // FPS only counts the time it takes to finish estimatePoses.\n        beginEstimatePosesStats();\n        if (useGpuRenderer && _params__WEBPACK_IMPORTED_MODULE_9__.STATE.model !== \"PoseNet\") {\n            throw new Error(\"Only PoseNet supports GPU renderer!\");\n        }\n        // Detectors can throw errors, for example when using custom URLs that\n        // contain a model that doesn't provide the expected output.\n        try {\n            if (useGpuRenderer) {\n                const [posesTemp, canvasInfoTemp] = await detector.estimatePosesGPU(camera.video, {\n                    maxPoses: _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.maxPoses,\n                    flipHorizontal: false\n                }, true);\n                poses = posesTemp;\n                canvasInfo = canvasInfoTemp;\n            } else {\n                poses = await detector.estimatePoses(camera.video, {\n                    maxPoses: _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.maxPoses,\n                    flipHorizontal: false\n                });\n            }\n        } catch (error) {\n            detector.dispose();\n            detector = null;\n            alert(error);\n        }\n        endEstimatePosesStats();\n    }\n    const rendererParams = useGpuRenderer ? [\n        camera.video,\n        poses,\n        canvasInfo,\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.modelConfig.scoreThreshold\n    ] : [\n        camera.video,\n        poses,\n        _params__WEBPACK_IMPORTED_MODULE_9__.STATE.isModelChanged\n    ];\n    renderer.draw(rendererParams);\n}\nasync function renderPrediction() {\n    await checkGuiUpdate();\n    if (!_params__WEBPACK_IMPORTED_MODULE_9__.STATE.isModelChanged) {\n        await renderResult();\n    }\n    rafId = requestAnimationFrame(renderPrediction);\n}\n;\nasync function app() {\n    // Gui content will change depending on which model is in the query string.\n    const urlParams = new URLSearchParams(window.location.search);\n    if (!urlParams.has(\"model\")) {\n        alert(\"Cannot find model in the query string.\");\n        return;\n    }\n    await (0,_option_panel__WEBPACK_IMPORTED_MODULE_8__.setupDatGui)(urlParams);\n    stats = (0,_stats_panel__WEBPACK_IMPORTED_MODULE_10__.setupStats)();\n    const isWebGPU = _params__WEBPACK_IMPORTED_MODULE_9__.STATE.backend === \"tfjs-webgpu\";\n    const importVideo = urlParams.get(\"importVideo\") === \"true\" && isWebGPU;\n    camera = await _camera__WEBPACK_IMPORTED_MODULE_5__.Camera.setup(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.camera);\n    await (0,_util__WEBPACK_IMPORTED_MODULE_11__.setBackendAndEnvFlags)(_params__WEBPACK_IMPORTED_MODULE_9__.STATE.flags, _params__WEBPACK_IMPORTED_MODULE_9__.STATE.backend);\n    await _tensorflow_tfjs_core__WEBPACK_IMPORTED_MODULE_3__.ready();\n    detector = await createDetector();\n    const canvas = document.getElementById(\"output\");\n    canvas.width = camera.video.width;\n    canvas.height = camera.video.height;\n    useGpuRenderer = urlParams.get(\"gpuRenderer\") === \"true\" && isWebGPU;\n    if (useGpuRenderer) {\n        renderer = new _renderer_webgpu__WEBPACK_IMPORTED_MODULE_6__.RendererWebGPU(canvas, importVideo);\n    } else {\n        renderer = new _renderer_canvas2d__WEBPACK_IMPORTED_MODULE_7__.RendererCanvas2d(canvas);\n    }\n    renderPrediction();\n}\n;\napp();\nif (useGpuRenderer) {\n    renderer.dispose();\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvcG9zZV9kZXRlY3Rpb24vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7OztDQWVDLEdBRXVDO0FBQ0M7QUFFQztBQUNnQjtBQUNkO0FBRTVDQyx1RUFBcUIsQ0FDakIsOERBQzBCLE9BQXRCQSx1RUFBcUIsRUFBQztBQUVxQztBQUVuQztBQUNpQjtBQUNJO0FBQ1Y7QUFDWjtBQUNVO0FBQ0k7QUFFN0MsSUFBSVksVUFBVUMsUUFBUUM7QUFDdEIsSUFBSUMsb0JBQW9CQyxnQkFBZ0I7QUFDeEMsSUFBSUMsbUJBQW1CLEdBQUdDLGtCQUFrQjtBQUM1QyxJQUFJQztBQUNKLElBQUlDLFdBQVc7QUFDZixJQUFJQyxpQkFBaUI7QUFFckIsZUFBZUM7SUFDYixPQUFRYiwwQ0FBS0EsQ0FBQ2MsS0FBSztRQUNqQixLQUFLbkIsOEVBQTZCLENBQUNxQixPQUFPO1lBQ3hDLE9BQU9yQiw2RUFBNEIsQ0FBQ0ssMENBQUtBLENBQUNjLEtBQUssRUFBRTtnQkFDL0NHLFlBQVk7Z0JBQ1pDLGNBQWM7Z0JBQ2RDLGNBQWM7Z0JBQ2RDLGlCQUFpQjtvQkFBQ0MsT0FBTztvQkFBS0MsUUFBUTtnQkFBRztnQkFDekNDLFlBQVk7WUFDZDtRQUNGLEtBQUs1Qiw4RUFBNkIsQ0FBQzZCLFNBQVM7WUFDMUMsTUFBTUMsVUFBVXpCLDBDQUFLQSxDQUFDMEIsT0FBTyxDQUFDQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDM0MsSUFBSUYsWUFBWSxhQUFhO2dCQUMzQixPQUFPOUIsNkVBQTRCLENBQUNLLDBDQUFLQSxDQUFDYyxLQUFLLEVBQUU7b0JBQy9DVztvQkFDQUcsV0FBVzVCLDBDQUFLQSxDQUFDNkIsV0FBVyxDQUFDQyxJQUFJO29CQUNqQ0MsY0FDSSxnREFBK0QsT0FBZnpDLHFEQUFjO2dCQUNwRTtZQUNGLE9BQU8sSUFBSW1DLFlBQVksUUFBUTtnQkFDN0IsT0FBTzlC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QW1CLFVBQVdGO0lBQzlELElBQUk5RSxnQkFBZ0I7UUFDbEJELFdBQVcsSUFBSWQsNERBQWNBLENBQUNrRyxRQUFRSjtJQUN4QyxPQUFPO1FBQ0xoRixXQUFXLElBQUliLGdFQUFnQkEsQ0FBQ2lHO0lBQ2xDO0lBRUFiO0FBQ0Y7O0FBRUFFO0FBRUEsSUFBSXhFLGdCQUFnQjtJQUNsQkQsU0FBU3VDLE9BQU87QUFDbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2FwcC9wb3NlX2RldGVjdGlvbi9pbmRleC5qcz85YjIwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCAnQHRlbnNvcmZsb3cvdGZqcy1iYWNrZW5kLXdlYmdsJztcbmltcG9ydCAnQHRlbnNvcmZsb3cvdGZqcy1iYWNrZW5kLXdlYmdwdSc7XG5cbmltcG9ydCAqIGFzIG1wUG9zZSBmcm9tICdAbWVkaWFwaXBlL3Bvc2UnO1xuaW1wb3J0ICogYXMgdGZqc1dhc20gZnJvbSAnQHRlbnNvcmZsb3cvdGZqcy1iYWNrZW5kLXdhc20nO1xuaW1wb3J0ICogYXMgdGYgZnJvbSAnQHRlbnNvcmZsb3cvdGZqcy1jb3JlJztcblxudGZqc1dhc20uc2V0V2FzbVBhdGhzKFxuICAgIGBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0B0ZW5zb3JmbG93L3RmanMtYmFja2VuZC13YXNtQCR7XG4gICAgICAgIHRmanNXYXNtLnZlcnNpb25fd2FzbX0vZGlzdC9gKTtcblxuaW1wb3J0ICogYXMgcG9zZWRldGVjdGlvbiBmcm9tICdAdGVuc29yZmxvdy1tb2RlbHMvcG9zZS1kZXRlY3Rpb24nO1xuXG5pbXBvcnQge0NhbWVyYX0gZnJvbSAnLi9jYW1lcmEnO1xuaW1wb3J0IHtSZW5kZXJlcldlYkdQVX0gZnJvbSAnLi9yZW5kZXJlcl93ZWJncHUnO1xuaW1wb3J0IHtSZW5kZXJlckNhbnZhczJkfSBmcm9tICcuL3JlbmRlcmVyX2NhbnZhczJkJztcbmltcG9ydCB7c2V0dXBEYXRHdWl9IGZyb20gJy4vb3B0aW9uX3BhbmVsJztcbmltcG9ydCB7U1RBVEV9IGZyb20gJy4vcGFyYW1zJztcbmltcG9ydCB7c2V0dXBTdGF0c30gZnJvbSAnLi9zdGF0c19wYW5lbCc7XG5pbXBvcnQge3NldEJhY2tlbmRBbmRFbnZGbGFnc30gZnJvbSAnLi91dGlsJztcblxubGV0IGRldGVjdG9yLCBjYW1lcmEsIHN0YXRzO1xubGV0IHN0YXJ0SW5mZXJlbmNlVGltZSwgbnVtSW5mZXJlbmNlcyA9IDA7XG5sZXQgaW5mZXJlbmNlVGltZVN1bSA9IDAsIGxhc3RQYW5lbFVwZGF0ZSA9IDA7XG5sZXQgcmFmSWQ7XG5sZXQgcmVuZGVyZXIgPSBudWxsO1xubGV0IHVzZUdwdVJlbmRlcmVyID0gZmFsc2U7XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZURldGVjdG9yKCkge1xuICBzd2l0Y2ggKFNUQVRFLm1vZGVsKSB7XG4gICAgY2FzZSBwb3NlZGV0ZWN0aW9uLlN1cHBvcnRlZE1vZGVscy5Qb3NlTmV0OlxuICAgICAgcmV0dXJuIHBvc2VkZXRlY3Rpb24uY3JlYXRlRGV0ZWN0b3IoU1RBVEUubW9kZWwsIHtcbiAgICAgICAgcXVhbnRCeXRlczogNCxcbiAgICAgICAgYXJjaGl0ZWN0dXJlOiAnTW9iaWxlTmV0VjEnLFxuICAgICAgICBvdXRwdXRTdHJpZGU6IDE2LFxuICAgICAgICBpbnB1dFJlc29sdXRpb246IHt3aWR0aDogNTAwLCBoZWlnaHQ6IDUwMH0sXG4gICAgICAgIG11bHRpcGxpZXI6IDAuNzVcbiAgICAgIH0pO1xuICAgIGNhc2UgcG9zZWRldGVjdGlvbi5TdXBwb3J0ZWRNb2RlbHMuQmxhemVQb3NlOlxuICAgICAgY29uc3QgcnVudGltZSA9IFNUQVRFLmJhY2tlbmQuc3BsaXQoJy0nKVswXTtcbiAgICAgIGlmIChydW50aW1lID09PSAnbWVkaWFwaXBlJykge1xuICAgICAgICByZXR1cm4gcG9zZWRldGVjdGlvbi5jcmVhdGVEZXRlY3RvcihTVEFURS5tb2RlbCwge1xuICAgICAgICAgIHJ1bnRpbWUsXG4gICAgICAgICAgbW9kZWxUeXBlOiBTVEFURS5tb2RlbENvbmZpZy50eXBlLFxuICAgICAgICAgIHNvbHV0aW9uUGF0aDpcbiAgICAgICAgICAgICAgYGh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQG1lZGlhcGlwZS9wb3NlQCR7bXBQb3NlLlZFUlNJT059YFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocnVudGltZSA9PT0gJ3RmanMnKSB7XG4gICAgICAgIHJldHVybiBwb3NlZGV0ZWN0aW9uLmNyZWF0ZURldGVjdG9yKFxuICAgICAgICAgICAgU1RBVEUubW9kZWwsIHtydW50aW1lLCBtb2RlbFR5cGU6IFNUQVRFLm1vZGVsQ29uZmlnLnR5cGV9KTtcbiAgICAgIH1cbiAgICBjYXNlIHBvc2VkZXRlY3Rpb24uU3VwcG9ydGVkTW9kZWxzLk1vdmVOZXQ6XG4gICAgICBsZXQgbW9kZWxUeXBlO1xuICAgICAgaWYgKFNUQVRFLm1vZGVsQ29uZmlnLnR5cGUgPT0gJ2xpZ2h0bmluZycpIHtcbiAgICAgICAgbW9kZWxUeXBlID0gcG9zZWRldGVjdGlvbi5tb3ZlbmV0Lm1vZGVsVHlwZS5TSU5HTEVQT1NFX0xJR0hUTklORztcbiAgICAgIH0gZWxzZSBpZiAoU1RBVEUubW9kZWxDb25maWcudHlwZSA9PSAndGh1bmRlcicpIHtcbiAgICAgICAgbW9kZWxUeXBlID0gcG9zZWRldGVjdGlvbi5tb3ZlbmV0Lm1vZGVsVHlwZS5TSU5HTEVQT1NFX1RIVU5ERVI7XG4gICAgICB9IGVsc2UgaWYgKFNUQVRFLm1vZGVsQ29uZmlnLnR5cGUgPT0gJ211bHRpcG9zZScpIHtcbiAgICAgICAgbW9kZWxUeXBlID0gcG9zZWRldGVjdGlvbi5tb3ZlbmV0Lm1vZGVsVHlwZS5NVUxUSVBPU0VfTElHSFROSU5HO1xuICAgICAgfVxuICAgICAgY29uc3QgbW9kZWxDb25maWcgPSB7bW9kZWxUeXBlfTtcblxuICAgICAgaWYgKFNUQVRFLm1vZGVsQ29uZmlnLmN1c3RvbU1vZGVsICE9PSAnJykge1xuICAgICAgICBtb2RlbENvbmZpZy5tb2RlbFVybCA9IFNUQVRFLm1vZGVsQ29uZmlnLmN1c3RvbU1vZGVsO1xuICAgICAgfVxuICAgICAgaWYgKFNUQVRFLm1vZGVsQ29uZmlnLnR5cGUgPT09ICdtdWx0aXBvc2UnKSB7XG4gICAgICAgIG1vZGVsQ29uZmlnLmVuYWJsZVRyYWNraW5nID0gU1RBVEUubW9kZWxDb25maWcuZW5hYmxlVHJhY2tpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gcG9zZWRldGVjdGlvbi5jcmVhdGVEZXRlY3RvcihTVEFURS5tb2RlbCwgbW9kZWxDb25maWcpO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNoZWNrR3VpVXBkYXRlKCkge1xuICBpZiAoU1RBVEUuaXNUYXJnZXRGUFNDaGFuZ2VkIHx8IFNUQVRFLmlzU2l6ZU9wdGlvbkNoYW5nZWQpIHtcbiAgICBjYW1lcmEgPSBhd2FpdCBDYW1lcmEuc2V0dXBDYW1lcmEoU1RBVEUuY2FtZXJhKTtcbiAgICBTVEFURS5pc1RhcmdldEZQU0NoYW5nZWQgPSBmYWxzZTtcbiAgICBTVEFURS5pc1NpemVPcHRpb25DaGFuZ2VkID0gZmFsc2U7XG4gIH1cblxuICBpZiAoU1RBVEUuaXNNb2RlbENoYW5nZWQgfHwgU1RBVEUuaXNGbGFnQ2hhbmdlZCB8fCBTVEFURS5pc0JhY2tlbmRDaGFuZ2VkKSB7XG4gICAgU1RBVEUuaXNNb2RlbENoYW5nZWQgPSB0cnVlO1xuXG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZklkKTtcblxuICAgIGlmIChkZXRlY3RvciAhPSBudWxsKSB7XG4gICAgICBkZXRlY3Rvci5kaXNwb3NlKCk7XG4gICAgfVxuXG4gICAgaWYgKFNUQVRFLmlzRmxhZ0NoYW5nZWQgfHwgU1RBVEUuaXNCYWNrZW5kQ2hhbmdlZCkge1xuICAgICAgYXdhaXQgc2V0QmFja2VuZEFuZEVudkZsYWdzKFNUQVRFLmZsYWdzLCBTVEFURS5iYWNrZW5kKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgZGV0ZWN0b3IgPSBhd2FpdCBjcmVhdGVEZXRlY3RvcihTVEFURS5tb2RlbCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGRldGVjdG9yID0gbnVsbDtcbiAgICAgIGFsZXJ0KGVycm9yKTtcbiAgICB9XG5cbiAgICBTVEFURS5pc0ZsYWdDaGFuZ2VkID0gZmFsc2U7XG4gICAgU1RBVEUuaXNCYWNrZW5kQ2hhbmdlZCA9IGZhbHNlO1xuICAgIFNUQVRFLmlzTW9kZWxDaGFuZ2VkID0gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gYmVnaW5Fc3RpbWF0ZVBvc2VzU3RhdHMoKSB7XG4gIHN0YXJ0SW5mZXJlbmNlVGltZSA9IChwZXJmb3JtYW5jZSB8fCBEYXRlKS5ub3coKTtcbn1cblxuZnVuY3Rpb24gZW5kRXN0aW1hdGVQb3Nlc1N0YXRzKCkge1xuICBjb25zdCBlbmRJbmZlcmVuY2VUaW1lID0gKHBlcmZvcm1hbmNlIHx8IERhdGUpLm5vdygpO1xuICBpbmZlcmVuY2VUaW1lU3VtICs9IGVuZEluZmVyZW5jZVRpbWUgLSBzdGFydEluZmVyZW5jZVRpbWU7XG4gICsrbnVtSW5mZXJlbmNlcztcblxuICBjb25zdCBwYW5lbFVwZGF0ZU1pbGxpc2Vjb25kcyA9IDEwMDA7XG4gIGlmIChlbmRJbmZlcmVuY2VUaW1lIC0gbGFzdFBhbmVsVXBkYXRlID49IHBhbmVsVXBkYXRlTWlsbGlzZWNvbmRzKSB7XG4gICAgY29uc3QgYXZlcmFnZUluZmVyZW5jZVRpbWUgPSBpbmZlcmVuY2VUaW1lU3VtIC8gbnVtSW5mZXJlbmNlcztcbiAgICBpbmZlcmVuY2VUaW1lU3VtID0gMDtcbiAgICBudW1JbmZlcmVuY2VzID0gMDtcbiAgICBzdGF0cy5jdXN0b21GcHNQYW5lbC51cGRhdGUoXG4gICAgICAgIDEwMDAuMCAvIGF2ZXJhZ2VJbmZlcmVuY2VUaW1lLCAxMjAgLyogbWF4VmFsdWUgKi8pO1xuICAgIGxhc3RQYW5lbFVwZGF0ZSA9IGVuZEluZmVyZW5jZVRpbWU7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVuZGVyUmVzdWx0KCkge1xuICBpZiAoY2FtZXJhLnZpZGVvLnJlYWR5U3RhdGUgPCAyKSB7XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGNhbWVyYS52aWRlby5vbmxvYWRlZGRhdGEgPSAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUodmlkZW8pO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGxldCBwb3NlcyA9IG51bGw7XG4gIGxldCBjYW52YXNJbmZvID0gbnVsbDtcblxuICAvLyBEZXRlY3RvciBjYW4gYmUgbnVsbCBpZiBpbml0aWFsaXphdGlvbiBmYWlsZWQgKGZvciBleGFtcGxlIHdoZW4gbG9hZGluZ1xuICAvLyBmcm9tIGEgVVJMIHRoYXQgZG9lcyBub3QgZXhpc3QpLlxuICBpZiAoZGV0ZWN0b3IgIT0gbnVsbCkge1xuICAgIC8vIEZQUyBvbmx5IGNvdW50cyB0aGUgdGltZSBpdCB0YWtlcyB0byBmaW5pc2ggZXN0aW1hdGVQb3Nlcy5cbiAgICBiZWdpbkVzdGltYXRlUG9zZXNTdGF0cygpO1xuXG4gICAgaWYgKHVzZUdwdVJlbmRlcmVyICYmIFNUQVRFLm1vZGVsICE9PSAnUG9zZU5ldCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBQb3NlTmV0IHN1cHBvcnRzIEdQVSByZW5kZXJlciEnKTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0b3JzIGNhbiB0aHJvdyBlcnJvcnMsIGZvciBleGFtcGxlIHdoZW4gdXNpbmcgY3VzdG9tIFVSTHMgdGhhdFxuICAgIC8vIGNvbnRhaW4gYSBtb2RlbCB0aGF0IGRvZXNuJ3QgcHJvdmlkZSB0aGUgZXhwZWN0ZWQgb3V0cHV0LlxuICAgIHRyeSB7XG4gICAgICBpZiAodXNlR3B1UmVuZGVyZXIpIHtcbiAgICAgICAgY29uc3QgW3Bvc2VzVGVtcCwgY2FudmFzSW5mb1RlbXBdID0gYXdhaXQgZGV0ZWN0b3IuZXN0aW1hdGVQb3Nlc0dQVShcbiAgICAgICAgICAgIGNhbWVyYS52aWRlbyxcbiAgICAgICAgICAgIHttYXhQb3NlczogU1RBVEUubW9kZWxDb25maWcubWF4UG9zZXMsIGZsaXBIb3Jpem9udGFsOiBmYWxzZX0sXG4gICAgICAgICAgICB0cnVlKTtcbiAgICAgICAgcG9zZXMgPSBwb3Nlc1RlbXA7XG4gICAgICAgIGNhbnZhc0luZm8gPSBjYW52YXNJbmZvVGVtcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvc2VzID0gYXdhaXQgZGV0ZWN0b3IuZXN0aW1hdGVQb3NlcyhcbiAgICAgICAgICAgIGNhbWVyYS52aWRlbyxcbiAgICAgICAgICAgIHttYXhQb3NlczogU1RBVEUubW9kZWxDb25maWcubWF4UG9zZXMsIGZsaXBIb3Jpem9udGFsOiBmYWxzZX0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBkZXRlY3Rvci5kaXNwb3NlKCk7XG4gICAgICBkZXRlY3RvciA9IG51bGw7XG4gICAgICBhbGVydChlcnJvcik7XG4gICAgfVxuXG4gICAgZW5kRXN0aW1hdGVQb3Nlc1N0YXRzKCk7XG4gIH1cbiAgY29uc3QgcmVuZGVyZXJQYXJhbXMgPSB1c2VHcHVSZW5kZXJlciA/XG4gICAgICBbY2FtZXJhLnZpZGVvLCBwb3NlcywgY2FudmFzSW5mbywgU1RBVEUubW9kZWxDb25maWcuc2NvcmVUaHJlc2hvbGRdIDpcbiAgICAgIFtjYW1lcmEudmlkZW8sIHBvc2VzLCBTVEFURS5pc01vZGVsQ2hhbmdlZF07XG4gIHJlbmRlcmVyLmRyYXcocmVuZGVyZXJQYXJhbXMpO1xufVxuXG5hc3luYyBmdW5jdGlvbiByZW5kZXJQcmVkaWN0aW9uKCkge1xuICBhd2FpdCBjaGVja0d1aVVwZGF0ZSgpO1xuXG4gIGlmICghU1RBVEUuaXNNb2RlbENoYW5nZWQpIHtcbiAgICBhd2FpdCByZW5kZXJSZXN1bHQoKTtcbiAgfVxuXG4gIHJhZklkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlclByZWRpY3Rpb24pO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwcCgpIHtcbiAgLy8gR3VpIGNvbnRlbnQgd2lsbCBjaGFuZ2UgZGVwZW5kaW5nIG9uIHdoaWNoIG1vZGVsIGlzIGluIHRoZSBxdWVyeSBzdHJpbmcuXG4gIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gIGlmICghdXJsUGFyYW1zLmhhcygnbW9kZWwnKSkge1xuICAgIGFsZXJ0KCdDYW5ub3QgZmluZCBtb2RlbCBpbiB0aGUgcXVlcnkgc3RyaW5nLicpO1xuICAgIHJldHVybjtcbiAgfVxuICBhd2FpdCBzZXR1cERhdEd1aSh1cmxQYXJhbXMpO1xuXG4gIHN0YXRzID0gc2V0dXBTdGF0cygpO1xuICBjb25zdCBpc1dlYkdQVSA9IFNUQVRFLmJhY2tlbmQgPT09ICd0ZmpzLXdlYmdwdSc7XG4gIGNvbnN0IGltcG9ydFZpZGVvID0gKHVybFBhcmFtcy5nZXQoJ2ltcG9ydFZpZGVvJykgPT09ICd0cnVlJykgJiYgaXNXZWJHUFU7XG5cbiAgY2FtZXJhID0gYXdhaXQgQ2FtZXJhLnNldHVwKFNUQVRFLmNhbWVyYSk7XG5cbiAgYXdhaXQgc2V0QmFja2VuZEFuZEVudkZsYWdzKFNUQVRFLmZsYWdzLCBTVEFURS5iYWNrZW5kKTtcbiAgYXdhaXQgdGYucmVhZHkoKTtcbiAgZGV0ZWN0b3IgPSBhd2FpdCBjcmVhdGVEZXRlY3RvcigpO1xuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3V0cHV0Jyk7XG4gIGNhbnZhcy53aWR0aCA9IGNhbWVyYS52aWRlby53aWR0aDtcbiAgY2FudmFzLmhlaWdodCA9IGNhbWVyYS52aWRlby5oZWlnaHQ7XG4gIHVzZUdwdVJlbmRlcmVyID0gKHVybFBhcmFtcy5nZXQoJ2dwdVJlbmRlcmVyJykgPT09ICd0cnVlJykgJiYgaXNXZWJHUFU7XG4gIGlmICh1c2VHcHVSZW5kZXJlcikge1xuICAgIHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyV2ViR1BVKGNhbnZhcywgaW1wb3J0VmlkZW8pO1xuICB9IGVsc2Uge1xuICAgIHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyQ2FudmFzMmQoY2FudmFzKTtcbiAgfVxuXG4gIHJlbmRlclByZWRpY3Rpb24oKTtcbn07XG5cbmFwcCgpO1xuXG5pZiAodXNlR3B1UmVuZGVyZXIpIHtcbiAgcmVuZGVyZXIuZGlzcG9zZSgpO1xufVxuIl0sIm5hbWVzIjpbIm1wUG9zZSIsInRmanNXYXNtIiwidGYiLCJzZXRXYXNtUGF0aHMiLCJ2ZXJzaW9uX3dhc20iLCJwb3NlZGV0ZWN0aW9uIiwiQ2FtZXJhIiwiUmVuZGVyZXJXZWJHUFUiLCJSZW5kZXJlckNhbnZhczJkIiwic2V0dXBEYXRHdWkiLCJTVEFURSIsInNldHVwU3RhdHMiLCJzZXRCYWNrZW5kQW5kRW52RmxhZ3MiLCJkZXRlY3RvciIsImNhbWVyYSIsInN0YXRzIiwic3RhcnRJbmZlcmVuY2VUaW1lIiwibnVtSW5mZXJlbmNlcyIsImluZmVyZW5jZVRpbWVTdW0iLCJsYXN0UGFuZWxVcGRhdGUiLCJyYWZJZCIsInJlbmRlcmVyIiwidXNlR3B1UmVuZGVyZXIiLCJjcmVhdGVEZXRlY3RvciIsIm1vZGVsIiwiU3VwcG9ydGVkTW9kZWxzIiwiUG9zZU5ldCIsInF1YW50Qnl0ZXMiLCJhcmNoaXRlY3R1cmUiLCJvdXRwdXRTdHJpZGUiLCJpbnB1dFJlc29sdXRpb24iLCJ3aWR0aCIsImhlaWdodCIsIm11bHRpcGxpZXIiLCJCbGF6ZVBvc2UiLCJydW50aW1lIiwiYmFja2VuZCIsInNwbGl0IiwibW9kZWxUeXBlIiwibW9kZWxDb25maWciLCJ0eXBlIiwic29sdXRpb25QYXRoIiwiVkVSU0lPTiIsIk1vdmVOZXQiLCJtb3ZlbmV0IiwiU0lOR0xFUE9TRV9MSUdIVE5JTkciLCJTSU5HTEVQT1NFX1RIVU5ERVIiLCJNVUxUSVBPU0VfTElHSFROSU5HIiwiY3VzdG9tTW9kZWwiLCJtb2RlbFVybCIsImVuYWJsZVRyYWNraW5nIiwiY2hlY2tHdWlVcGRhdGUiLCJpc1RhcmdldEZQU0NoYW5nZWQiLCJpc1NpemVPcHRpb25DaGFuZ2VkIiwic2V0dXBDYW1lcmEiLCJpc01vZGVsQ2hhbmdlZCIsImlzRmxhZ0NoYW5nZWQiLCJpc0JhY2tlbmRDaGFuZ2VkIiwid2luZG93IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJkaXNwb3NlIiwiZmxhZ3MiLCJlcnJvciIsImFsZXJ0IiwiYmVnaW5Fc3RpbWF0ZVBvc2VzU3RhdHMiLCJwZXJmb3JtYW5jZSIsIkRhdGUiLCJub3ciLCJlbmRFc3RpbWF0ZVBvc2VzU3RhdHMiLCJlbmRJbmZlcmVuY2VUaW1lIiwicGFuZWxVcGRhdGVNaWxsaXNlY29uZHMiLCJhdmVyYWdlSW5mZXJlbmNlVGltZSIsImN1c3RvbUZwc1BhbmVsIiwidXBkYXRlIiwicmVuZGVyUmVzdWx0IiwidmlkZW8iLCJyZWFkeVN0YXRlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvbmxvYWRlZGRhdGEiLCJwb3NlcyIsImNhbnZhc0luZm8iLCJFcnJvciIsInBvc2VzVGVtcCIsImNhbnZhc0luZm9UZW1wIiwiZXN0aW1hdGVQb3Nlc0dQVSIsIm1heFBvc2VzIiwiZmxpcEhvcml6b250YWwiLCJlc3RpbWF0ZVBvc2VzIiwicmVuZGVyZXJQYXJhbXMiLCJzY29yZVRocmVzaG9sZCIsImRyYXciLCJyZW5kZXJQcmVkaWN0aW9uIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYXBwIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJoYXMiLCJpc1dlYkdQVSIsImltcG9ydFZpZGVvIiwiZ2V0Iiwic2V0dXAiLCJyZWFkeSIsImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/pose_detection/index.js\n"));

/***/ })

});