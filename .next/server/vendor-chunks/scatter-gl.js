"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/scatter-gl";
exports.ids = ["vendor-chunks/scatter-gl"];
exports.modules = {

/***/ "(ssr)/./node_modules/scatter-gl/dist/color.js":
/*!***********************************************!*\
  !*** ./node_modules/scatter-gl/dist/color.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar __read = (void 0) && (void 0).__read || function(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);\n    } catch (error) {\n        e = {\n            error: error\n        };\n    } finally{\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally{\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar THREE = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\nvar cache = new Map();\nvar regex = /^(rgba|hsla)\\((\\d+),\\s*(\\d+%?),\\s*(\\d+%?)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/;\nfunction parseOpacity(colorString) {\n    var result = regex.exec(colorString);\n    if (result) {\n        var _a = __read(result, 6), _ = _a[0], rgbaOrHsla = _a[1], rh = _a[2], gs = _a[3], bl = _a[4], opacity = _a[5];\n        var colorString_1 = rgbaOrHsla.replace(\"a\", \"\") + \"(\" + rh + \",\" + gs + \",\" + bl + \")\";\n        return {\n            colorString: colorString_1,\n            opacity: parseFloat(opacity)\n        };\n    }\n    return {\n        colorString: colorString,\n        opacity: 1\n    };\n}\nfunction parseColor(inputColorString) {\n    if (cache.has(inputColorString)) return cache.get(inputColorString);\n    var _a = parseOpacity(inputColorString), colorString = _a.colorString, opacity = _a.opacity;\n    var color = new THREE.Color(colorString);\n    var r = color.r, g = color.g, b = color.b;\n    var item = {\n        r: r,\n        g: g,\n        b: b,\n        opacity: opacity\n    };\n    cache.set(inputColorString, item);\n    return item;\n}\nexports.parseColor = parseColor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L2NvbG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsSUFBSUEsU0FBUyxDQUFDLE1BQUcsS0FBSyxPQUFHLEVBQUVBLE1BQU0sSUFBSyxTQUFVQyxDQUFDLEVBQUVDLENBQUM7SUFDaEQsSUFBSUMsSUFBSSxPQUFPQyxXQUFXLGNBQWNILENBQUMsQ0FBQ0csT0FBT0MsUUFBUSxDQUFDO0lBQzFELElBQUksQ0FBQ0YsR0FBRyxPQUFPRjtJQUNmLElBQUlLLElBQUlILEVBQUVJLElBQUksQ0FBQ04sSUFBSU8sR0FBR0MsS0FBSyxFQUFFLEVBQUVDO0lBQy9CLElBQUk7UUFDQSxNQUFPLENBQUNSLE1BQU0sS0FBSyxLQUFLQSxNQUFNLE1BQU0sQ0FBQyxDQUFDTSxJQUFJRixFQUFFSyxJQUFJLEVBQUMsRUFBR0MsSUFBSSxDQUFFSCxHQUFHSSxJQUFJLENBQUNMLEVBQUVNLEtBQUs7SUFDN0UsRUFDQSxPQUFPQyxPQUFPO1FBQUVMLElBQUk7WUFBRUssT0FBT0E7UUFBTTtJQUFHLFNBQzlCO1FBQ0osSUFBSTtZQUNBLElBQUlQLEtBQUssQ0FBQ0EsRUFBRUksSUFBSSxJQUFLVCxDQUFBQSxJQUFJRyxDQUFDLENBQUMsU0FBUyxHQUFHSCxFQUFFSSxJQUFJLENBQUNEO1FBQ2xELFNBQ1E7WUFBRSxJQUFJSSxHQUFHLE1BQU1BLEVBQUVLLEtBQUs7UUFBRTtJQUNwQztJQUNBLE9BQU9OO0FBQ1g7QUFDQU8sOENBQTZDO0lBQUVGLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0QsSUFBSUssUUFBUUMsbUJBQU9BLENBQUMsK0RBQU87QUFDM0IsSUFBSUMsUUFBUSxJQUFJQztBQUNoQixJQUFJQyxRQUFRO0FBQ1osU0FBU0MsYUFBYUMsV0FBVztJQUM3QixJQUFJQyxTQUFTSCxNQUFNSSxJQUFJLENBQUNGO0lBQ3hCLElBQUlDLFFBQVE7UUFDUixJQUFJRSxLQUFLNUIsT0FBTzBCLFFBQVEsSUFBSUcsSUFBSUQsRUFBRSxDQUFDLEVBQUUsRUFBRUUsYUFBYUYsRUFBRSxDQUFDLEVBQUUsRUFBRUcsS0FBS0gsRUFBRSxDQUFDLEVBQUUsRUFBRUksS0FBS0osRUFBRSxDQUFDLEVBQUUsRUFBRUssS0FBS0wsRUFBRSxDQUFDLEVBQUUsRUFBRU0sVUFBVU4sRUFBRSxDQUFDLEVBQUU7UUFDOUcsSUFBSU8sZ0JBQWdCTCxXQUFXTSxPQUFPLENBQUMsS0FBSyxNQUFNLE1BQU1MLEtBQUssTUFBTUMsS0FBSyxNQUFNQyxLQUFLO1FBQ25GLE9BQU87WUFBRVIsYUFBYVU7WUFBZUQsU0FBU0csV0FBV0g7UUFBUztJQUN0RTtJQUNBLE9BQU87UUFBRVQsYUFBYUE7UUFBYVMsU0FBUztJQUFFO0FBQ2xEO0FBQ0EsU0FBU0ksV0FBV0MsZ0JBQWdCO0lBQ2hDLElBQUlsQixNQUFNbUIsR0FBRyxDQUFDRCxtQkFDVixPQUFPbEIsTUFBTW9CLEdBQUcsQ0FBQ0Y7SUFDckIsSUFBSVgsS0FBS0osYUFBYWUsbUJBQW1CZCxjQUFjRyxHQUFHSCxXQUFXLEVBQUVTLFVBQVVOLEdBQUdNLE9BQU87SUFDM0YsSUFBSVEsUUFBUSxJQUFJdkIsTUFBTXdCLEtBQUssQ0FBQ2xCO0lBQzVCLElBQUlqQixJQUFJa0MsTUFBTWxDLENBQUMsRUFBRW9DLElBQUlGLE1BQU1FLENBQUMsRUFBRUMsSUFBSUgsTUFBTUcsQ0FBQztJQUN6QyxJQUFJQyxPQUFPO1FBQUV0QyxHQUFHQTtRQUFHb0MsR0FBR0E7UUFBR0MsR0FBR0E7UUFBR1gsU0FBU0E7SUFBUTtJQUNoRGIsTUFBTTBCLEdBQUcsQ0FBQ1Isa0JBQWtCTztJQUM1QixPQUFPQTtBQUNYO0FBQ0E1QixrQkFBa0IsR0FBR29CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veW9nYXBvc2VwZXJmZWN0Ly4vbm9kZV9tb2R1bGVzL3NjYXR0ZXItZ2wvZGlzdC9jb2xvci5qcz83M2U3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFRIUkVFID0gcmVxdWlyZShcInRocmVlXCIpO1xudmFyIGNhY2hlID0gbmV3IE1hcCgpO1xudmFyIHJlZ2V4ID0gL14ocmdiYXxoc2xhKVxcKChcXGQrKSxcXHMqKFxcZCslPyksXFxzKihcXGQrJT8pKD86LFxccyooXFxkKyg/OlxcLlxcZCspPykpP1xcKSQvO1xuZnVuY3Rpb24gcGFyc2VPcGFjaXR5KGNvbG9yU3RyaW5nKSB7XG4gICAgdmFyIHJlc3VsdCA9IHJlZ2V4LmV4ZWMoY29sb3JTdHJpbmcpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgdmFyIF9hID0gX19yZWFkKHJlc3VsdCwgNiksIF8gPSBfYVswXSwgcmdiYU9ySHNsYSA9IF9hWzFdLCByaCA9IF9hWzJdLCBncyA9IF9hWzNdLCBibCA9IF9hWzRdLCBvcGFjaXR5ID0gX2FbNV07XG4gICAgICAgIHZhciBjb2xvclN0cmluZ18xID0gcmdiYU9ySHNsYS5yZXBsYWNlKCdhJywgJycpICsgXCIoXCIgKyByaCArIFwiLFwiICsgZ3MgKyBcIixcIiArIGJsICsgXCIpXCI7XG4gICAgICAgIHJldHVybiB7IGNvbG9yU3RyaW5nOiBjb2xvclN0cmluZ18xLCBvcGFjaXR5OiBwYXJzZUZsb2F0KG9wYWNpdHkpIH07XG4gICAgfVxuICAgIHJldHVybiB7IGNvbG9yU3RyaW5nOiBjb2xvclN0cmluZywgb3BhY2l0eTogMSB9O1xufVxuZnVuY3Rpb24gcGFyc2VDb2xvcihpbnB1dENvbG9yU3RyaW5nKSB7XG4gICAgaWYgKGNhY2hlLmhhcyhpbnB1dENvbG9yU3RyaW5nKSlcbiAgICAgICAgcmV0dXJuIGNhY2hlLmdldChpbnB1dENvbG9yU3RyaW5nKTtcbiAgICB2YXIgX2EgPSBwYXJzZU9wYWNpdHkoaW5wdXRDb2xvclN0cmluZyksIGNvbG9yU3RyaW5nID0gX2EuY29sb3JTdHJpbmcsIG9wYWNpdHkgPSBfYS5vcGFjaXR5O1xuICAgIHZhciBjb2xvciA9IG5ldyBUSFJFRS5Db2xvcihjb2xvclN0cmluZyk7XG4gICAgdmFyIHIgPSBjb2xvci5yLCBnID0gY29sb3IuZywgYiA9IGNvbG9yLmI7XG4gICAgdmFyIGl0ZW0gPSB7IHI6IHIsIGc6IGcsIGI6IGIsIG9wYWNpdHk6IG9wYWNpdHkgfTtcbiAgICBjYWNoZS5zZXQoaW5wdXRDb2xvclN0cmluZywgaXRlbSk7XG4gICAgcmV0dXJuIGl0ZW07XG59XG5leHBvcnRzLnBhcnNlQ29sb3IgPSBwYXJzZUNvbG9yO1xuIl0sIm5hbWVzIjpbIl9fcmVhZCIsIm8iLCJuIiwibSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiaSIsImNhbGwiLCJyIiwiYXIiLCJlIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJlcnJvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsIlRIUkVFIiwicmVxdWlyZSIsImNhY2hlIiwiTWFwIiwicmVnZXgiLCJwYXJzZU9wYWNpdHkiLCJjb2xvclN0cmluZyIsInJlc3VsdCIsImV4ZWMiLCJfYSIsIl8iLCJyZ2JhT3JIc2xhIiwicmgiLCJncyIsImJsIiwib3BhY2l0eSIsImNvbG9yU3RyaW5nXzEiLCJyZXBsYWNlIiwicGFyc2VGbG9hdCIsInBhcnNlQ29sb3IiLCJpbnB1dENvbG9yU3RyaW5nIiwiaGFzIiwiZ2V0IiwiY29sb3IiLCJDb2xvciIsImciLCJiIiwiaXRlbSIsInNldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/color.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/constants.js":
/*!***************************************************!*\
  !*** ./node_modules/scatter-gl/dist/constants.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.RGB_NUM_ELEMENTS = 3;\nexports.RGBA_NUM_ELEMENTS = 4;\nexports.XYZ_NUM_ELEMENTS = 3;\nexports.UV_NUM_ELEMENTS = 2;\nexports.INDEX_NUM_ELEMENTS = 1;\nexports.SCATTER_PLOT_CUBE_LENGTH = 2;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiQSw4Q0FBNkM7SUFBRUcsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3REQsd0JBQXdCLEdBQUc7QUFDM0JBLHlCQUF5QixHQUFHO0FBQzVCQSx3QkFBd0IsR0FBRztBQUMzQkEsdUJBQXVCLEdBQUc7QUFDMUJBLDBCQUEwQixHQUFHO0FBQzdCQSxnQ0FBZ0MsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL3lvZ2Fwb3NlcGVyZmVjdC8uL25vZGVfbW9kdWxlcy9zY2F0dGVyLWdsL2Rpc3QvY29uc3RhbnRzLmpzP2FjZTciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJHQl9OVU1fRUxFTUVOVFMgPSAzO1xuZXhwb3J0cy5SR0JBX05VTV9FTEVNRU5UUyA9IDQ7XG5leHBvcnRzLlhZWl9OVU1fRUxFTUVOVFMgPSAzO1xuZXhwb3J0cy5VVl9OVU1fRUxFTUVOVFMgPSAyO1xuZXhwb3J0cy5JTkRFWF9OVU1fRUxFTUVOVFMgPSAxO1xuZXhwb3J0cy5TQ0FUVEVSX1BMT1RfQ1VCRV9MRU5HVEggPSAyO1xuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiUkdCX05VTV9FTEVNRU5UUyIsIlJHQkFfTlVNX0VMRU1FTlRTIiwiWFlaX05VTV9FTEVNRU5UUyIsIlVWX05VTV9FTEVNRU5UUyIsIklOREVYX05VTV9FTEVNRU5UUyIsIlNDQVRURVJfUExPVF9DVUJFX0xFTkdUSCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/data.js":
/*!**********************************************!*\
  !*** ./node_modules/scatter-gl/dist/data.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nvar __values = (void 0) && (void 0).__values || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar DIMENSIONALITY_ERROR_MESSAGE = \"Points must be an array of either 2 or 3 dimensional number arrays\";\nvar Dataset = function() {\n    function Dataset(points, metadata) {\n        var e_1, _a;\n        if (metadata === void 0) {\n            metadata = [];\n        }\n        this.points = points;\n        this.metadata = metadata;\n        var dimensions = points[0].length;\n        if (!(dimensions === 2 || dimensions === 3)) {\n            throw new Error(DIMENSIONALITY_ERROR_MESSAGE);\n        }\n        try {\n            for(var points_1 = __values(points), points_1_1 = points_1.next(); !points_1_1.done; points_1_1 = points_1.next()){\n                var point = points_1_1.value;\n                if (dimensions !== point.length) {\n                    throw new Error(DIMENSIONALITY_ERROR_MESSAGE);\n                }\n            }\n        } catch (e_1_1) {\n            e_1 = {\n                error: e_1_1\n            };\n        } finally{\n            try {\n                if (points_1_1 && !points_1_1.done && (_a = points_1.return)) _a.call(points_1);\n            } finally{\n                if (e_1) throw e_1.error;\n            }\n        }\n        this.dimensions = dimensions;\n    }\n    Dataset.prototype.setSpriteMetadata = function(spriteMetadata) {\n        this.spriteMetadata = spriteMetadata;\n    };\n    return Dataset;\n}();\nexports.Dataset = Dataset;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L2RhdGEuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxXQUFXLENBQUMsTUFBRyxLQUFLLE9BQUcsRUFBRUEsUUFBUSxJQUFLLFNBQVNDLENBQUM7SUFDaEQsSUFBSUMsSUFBSSxPQUFPQyxXQUFXLGNBQWNBLE9BQU9DLFFBQVEsRUFBRUMsSUFBSUgsS0FBS0QsQ0FBQyxDQUFDQyxFQUFFLEVBQUVJLElBQUk7SUFDNUUsSUFBSUQsR0FBRyxPQUFPQSxFQUFFRSxJQUFJLENBQUNOO0lBQ3JCLElBQUlBLEtBQUssT0FBT0EsRUFBRU8sTUFBTSxLQUFLLFVBQVUsT0FBTztRQUMxQ0MsTUFBTTtZQUNGLElBQUlSLEtBQUtLLEtBQUtMLEVBQUVPLE1BQU0sRUFBRVAsSUFBSSxLQUFLO1lBQ2pDLE9BQU87Z0JBQUVTLE9BQU9ULEtBQUtBLENBQUMsQ0FBQ0ssSUFBSTtnQkFBRUssTUFBTSxDQUFDVjtZQUFFO1FBQzFDO0lBQ0o7SUFDQSxNQUFNLElBQUlXLFVBQVVWLElBQUksNEJBQTRCO0FBQ3hEO0FBQ0FXLDhDQUE2QztJQUFFSCxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdELElBQUlNLCtCQUErQjtBQUNuQyxJQUFJQyxVQUFXO0lBQ1gsU0FBU0EsUUFBUUMsTUFBTSxFQUFFQyxRQUFRO1FBQzdCLElBQUlDLEtBQUtDO1FBQ1QsSUFBSUYsYUFBYSxLQUFLLEdBQUc7WUFBRUEsV0FBVyxFQUFFO1FBQUU7UUFDMUMsSUFBSSxDQUFDRCxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxRQUFRLEdBQUdBO1FBQ2hCLElBQUlHLGFBQWFKLE1BQU0sQ0FBQyxFQUFFLENBQUNWLE1BQU07UUFDakMsSUFBSSxDQUFFYyxDQUFBQSxlQUFlLEtBQUtBLGVBQWUsSUFBSTtZQUN6QyxNQUFNLElBQUlDLE1BQU1QO1FBQ3BCO1FBQ0EsSUFBSTtZQUNBLElBQUssSUFBSVEsV0FBV3hCLFNBQVNrQixTQUFTTyxhQUFhRCxTQUFTZixJQUFJLElBQUksQ0FBQ2dCLFdBQVdkLElBQUksRUFBRWMsYUFBYUQsU0FBU2YsSUFBSSxHQUFJO2dCQUNoSCxJQUFJaUIsUUFBUUQsV0FBV2YsS0FBSztnQkFDNUIsSUFBSVksZUFBZUksTUFBTWxCLE1BQU0sRUFBRTtvQkFDN0IsTUFBTSxJQUFJZSxNQUFNUDtnQkFDcEI7WUFDSjtRQUNKLEVBQ0EsT0FBT1csT0FBTztZQUFFUCxNQUFNO2dCQUFFUSxPQUFPRDtZQUFNO1FBQUcsU0FDaEM7WUFDSixJQUFJO2dCQUNBLElBQUlGLGNBQWMsQ0FBQ0EsV0FBV2QsSUFBSSxJQUFLVSxDQUFBQSxLQUFLRyxTQUFTSyxNQUFNLEdBQUdSLEdBQUdkLElBQUksQ0FBQ2lCO1lBQzFFLFNBQ1E7Z0JBQUUsSUFBSUosS0FBSyxNQUFNQSxJQUFJUSxLQUFLO1lBQUU7UUFDeEM7UUFDQSxJQUFJLENBQUNOLFVBQVUsR0FBR0E7SUFDdEI7SUFDQUwsUUFBUWEsU0FBUyxDQUFDQyxpQkFBaUIsR0FBRyxTQUFVQyxjQUFjO1FBQzFELElBQUksQ0FBQ0EsY0FBYyxHQUFHQTtJQUMxQjtJQUNBLE9BQU9mO0FBQ1g7QUFDQUYsZUFBZSxHQUFHRSIsInNvdXJjZXMiOlsid2VicGFjazovL3lvZ2Fwb3NlcGVyZmVjdC8uL25vZGVfbW9kdWxlcy9zY2F0dGVyLWdsL2Rpc3QvZGF0YS5qcz8xNzhhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIERJTUVOU0lPTkFMSVRZX0VSUk9SX01FU1NBR0UgPSAnUG9pbnRzIG11c3QgYmUgYW4gYXJyYXkgb2YgZWl0aGVyIDIgb3IgMyBkaW1lbnNpb25hbCBudW1iZXIgYXJyYXlzJztcbnZhciBEYXRhc2V0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEYXRhc2V0KHBvaW50cywgbWV0YWRhdGEpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIGlmIChtZXRhZGF0YSA9PT0gdm9pZCAwKSB7IG1ldGFkYXRhID0gW107IH1cbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSBwb2ludHNbMF0ubGVuZ3RoO1xuICAgICAgICBpZiAoIShkaW1lbnNpb25zID09PSAyIHx8IGRpbWVuc2lvbnMgPT09IDMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRElNRU5TSU9OQUxJVFlfRVJST1JfTUVTU0FHRSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIHBvaW50c18xID0gX192YWx1ZXMocG9pbnRzKSwgcG9pbnRzXzFfMSA9IHBvaW50c18xLm5leHQoKTsgIXBvaW50c18xXzEuZG9uZTsgcG9pbnRzXzFfMSA9IHBvaW50c18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBwb2ludCA9IHBvaW50c18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGRpbWVuc2lvbnMgIT09IHBvaW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRElNRU5TSU9OQUxJVFlfRVJST1JfTUVTU0FHRSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnRzXzFfMSAmJiAhcG9pbnRzXzFfMS5kb25lICYmIChfYSA9IHBvaW50c18xLnJldHVybikpIF9hLmNhbGwocG9pbnRzXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XG4gICAgfVxuICAgIERhdGFzZXQucHJvdG90eXBlLnNldFNwcml0ZU1ldGFkYXRhID0gZnVuY3Rpb24gKHNwcml0ZU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuc3ByaXRlTWV0YWRhdGEgPSBzcHJpdGVNZXRhZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBEYXRhc2V0O1xufSgpKTtcbmV4cG9ydHMuRGF0YXNldCA9IERhdGFzZXQ7XG4iXSwibmFtZXMiOlsiX192YWx1ZXMiLCJvIiwicyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibSIsImkiLCJjYWxsIiwibGVuZ3RoIiwibmV4dCIsInZhbHVlIiwiZG9uZSIsIlR5cGVFcnJvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsIkRJTUVOU0lPTkFMSVRZX0VSUk9SX01FU1NBR0UiLCJEYXRhc2V0IiwicG9pbnRzIiwibWV0YWRhdGEiLCJlXzEiLCJfYSIsImRpbWVuc2lvbnMiLCJFcnJvciIsInBvaW50c18xIiwicG9pbnRzXzFfMSIsInBvaW50IiwiZV8xXzEiLCJlcnJvciIsInJldHVybiIsInByb3RvdHlwZSIsInNldFNwcml0ZU1ldGFkYXRhIiwic3ByaXRlTWV0YWRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/data.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/index.js":
/*!***********************************************!*\
  !*** ./node_modules/scatter-gl/dist/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar scatter_gl_1 = __webpack_require__(/*! ./scatter_gl */ \"(ssr)/./node_modules/scatter-gl/dist/scatter_gl.js\");\nexports.ScatterGL = scatter_gl_1.ScatterGL;\nvar data_1 = __webpack_require__(/*! ./data */ \"(ssr)/./node_modules/scatter-gl/dist/data.js\");\nexports.Dataset = data_1.Dataset;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdELElBQUlDLGVBQWVDLG1CQUFPQSxDQUFDLHdFQUFjO0FBQ3pDSCxpQkFBaUIsR0FBR0UsYUFBYUUsU0FBUztBQUMxQyxJQUFJQyxTQUFTRixtQkFBT0EsQ0FBQyw0REFBUTtBQUM3QkgsZUFBZSxHQUFHSyxPQUFPQyxPQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veW9nYXBvc2VwZXJmZWN0Ly4vbm9kZV9tb2R1bGVzL3NjYXR0ZXItZ2wvZGlzdC9pbmRleC5qcz9mNjkxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHNjYXR0ZXJfZ2xfMSA9IHJlcXVpcmUoXCIuL3NjYXR0ZXJfZ2xcIik7XG5leHBvcnRzLlNjYXR0ZXJHTCA9IHNjYXR0ZXJfZ2xfMS5TY2F0dGVyR0w7XG52YXIgZGF0YV8xID0gcmVxdWlyZShcIi4vZGF0YVwiKTtcbmV4cG9ydHMuRGF0YXNldCA9IGRhdGFfMS5EYXRhc2V0O1xuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwic2NhdHRlcl9nbF8xIiwicmVxdWlyZSIsIlNjYXR0ZXJHTCIsImRhdGFfMSIsIkRhdGFzZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/label.js":
/*!***********************************************!*\
  !*** ./node_modules/scatter-gl/dist/label.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar CollisionGrid = function() {\n    function CollisionGrid(bound, cellWidth, cellHeight) {\n        this.bound = bound;\n        this.cellWidth = cellWidth;\n        this.cellHeight = cellHeight;\n        this.numHorizCells = Math.ceil(this.boundWidth(bound) / cellWidth);\n        this.numVertCells = Math.ceil(this.boundHeight(bound) / cellHeight);\n        this.grid = new Array(this.numHorizCells * this.numVertCells);\n    }\n    CollisionGrid.prototype.boundWidth = function(bound) {\n        return bound.hiX - bound.loX;\n    };\n    CollisionGrid.prototype.boundHeight = function(bound) {\n        return bound.hiY - bound.loY;\n    };\n    CollisionGrid.prototype.boundsIntersect = function(a, b) {\n        return !(a.loX > b.hiX || a.loY > b.hiY || a.hiX < b.loX || a.hiY < b.loY);\n    };\n    CollisionGrid.prototype.insert = function(bound, justTest) {\n        if (justTest === void 0) {\n            justTest = false;\n        }\n        if (bound.hiX < this.bound.loX || bound.loX > this.bound.hiX || bound.hiY < this.bound.loY || bound.loY > this.bound.hiY) {\n            return false;\n        }\n        var minCellX = this.getCellX(bound.loX);\n        var maxCellX = this.getCellX(bound.hiX);\n        var minCellY = this.getCellY(bound.loY);\n        var maxCellY = this.getCellY(bound.hiY);\n        var baseIdx = minCellY * this.numHorizCells + minCellX;\n        var idx = baseIdx;\n        for(var j = minCellY; j <= maxCellY; j++){\n            for(var i = minCellX; i <= maxCellX; i++){\n                var cell = this.grid[idx++];\n                if (cell) {\n                    for(var k = 0; k < cell.length; k++){\n                        if (this.boundsIntersect(bound, cell[k])) {\n                            return false;\n                        }\n                    }\n                }\n            }\n            idx += this.numHorizCells - (maxCellX - minCellX + 1);\n        }\n        if (justTest) {\n            return true;\n        }\n        idx = baseIdx;\n        for(var j = minCellY; j <= maxCellY; j++){\n            for(var i = minCellX; i <= maxCellX; i++){\n                if (!this.grid[idx]) {\n                    this.grid[idx] = [\n                        bound\n                    ];\n                } else {\n                    this.grid[idx].push(bound);\n                }\n                idx++;\n            }\n            idx += this.numHorizCells - (maxCellX - minCellX + 1);\n        }\n        return true;\n    };\n    CollisionGrid.prototype.getCellX = function(x) {\n        return Math.floor((x - this.bound.loX) / this.cellWidth);\n    };\n    CollisionGrid.prototype.getCellY = function(y) {\n        return Math.floor((y - this.bound.loY) / this.cellHeight);\n    };\n    return CollisionGrid;\n}();\nexports.CollisionGrid = CollisionGrid;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L2xhYmVsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdELElBQUlDLGdCQUFpQjtJQUNqQixTQUFTQSxjQUFjQyxLQUFLLEVBQUVDLFNBQVMsRUFBRUMsVUFBVTtRQUMvQyxJQUFJLENBQUNGLEtBQUssR0FBR0E7UUFDYixJQUFJLENBQUNDLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDQyxVQUFVLEdBQUdBO1FBQ2xCLElBQUksQ0FBQ0MsYUFBYSxHQUFHQyxLQUFLQyxJQUFJLENBQUMsSUFBSSxDQUFDQyxVQUFVLENBQUNOLFNBQVNDO1FBQ3hELElBQUksQ0FBQ00sWUFBWSxHQUFHSCxLQUFLQyxJQUFJLENBQUMsSUFBSSxDQUFDRyxXQUFXLENBQUNSLFNBQVNFO1FBQ3hELElBQUksQ0FBQ08sSUFBSSxHQUFHLElBQUlDLE1BQU0sSUFBSSxDQUFDUCxhQUFhLEdBQUcsSUFBSSxDQUFDSSxZQUFZO0lBQ2hFO0lBQ0FSLGNBQWNZLFNBQVMsQ0FBQ0wsVUFBVSxHQUFHLFNBQVVOLEtBQUs7UUFDaEQsT0FBT0EsTUFBTVksR0FBRyxHQUFHWixNQUFNYSxHQUFHO0lBQ2hDO0lBQ0FkLGNBQWNZLFNBQVMsQ0FBQ0gsV0FBVyxHQUFHLFNBQVVSLEtBQUs7UUFDakQsT0FBT0EsTUFBTWMsR0FBRyxHQUFHZCxNQUFNZSxHQUFHO0lBQ2hDO0lBQ0FoQixjQUFjWSxTQUFTLENBQUNLLGVBQWUsR0FBRyxTQUFVQyxDQUFDLEVBQUVDLENBQUM7UUFDcEQsT0FBTyxDQUFFRCxDQUFBQSxFQUFFSixHQUFHLEdBQUdLLEVBQUVOLEdBQUcsSUFBSUssRUFBRUYsR0FBRyxHQUFHRyxFQUFFSixHQUFHLElBQUlHLEVBQUVMLEdBQUcsR0FBR00sRUFBRUwsR0FBRyxJQUFJSSxFQUFFSCxHQUFHLEdBQUdJLEVBQUVILEdBQUc7SUFDN0U7SUFDQWhCLGNBQWNZLFNBQVMsQ0FBQ1EsTUFBTSxHQUFHLFNBQVVuQixLQUFLLEVBQUVvQixRQUFRO1FBQ3RELElBQUlBLGFBQWEsS0FBSyxHQUFHO1lBQUVBLFdBQVc7UUFBTztRQUM3QyxJQUFJcEIsTUFBTVksR0FBRyxHQUFHLElBQUksQ0FBQ1osS0FBSyxDQUFDYSxHQUFHLElBQzFCYixNQUFNYSxHQUFHLEdBQUcsSUFBSSxDQUFDYixLQUFLLENBQUNZLEdBQUcsSUFDMUJaLE1BQU1jLEdBQUcsR0FBRyxJQUFJLENBQUNkLEtBQUssQ0FBQ2UsR0FBRyxJQUMxQmYsTUFBTWUsR0FBRyxHQUFHLElBQUksQ0FBQ2YsS0FBSyxDQUFDYyxHQUFHLEVBQUU7WUFDNUIsT0FBTztRQUNYO1FBQ0EsSUFBSU8sV0FBVyxJQUFJLENBQUNDLFFBQVEsQ0FBQ3RCLE1BQU1hLEdBQUc7UUFDdEMsSUFBSVUsV0FBVyxJQUFJLENBQUNELFFBQVEsQ0FBQ3RCLE1BQU1ZLEdBQUc7UUFDdEMsSUFBSVksV0FBVyxJQUFJLENBQUNDLFFBQVEsQ0FBQ3pCLE1BQU1lLEdBQUc7UUFDdEMsSUFBSVcsV0FBVyxJQUFJLENBQUNELFFBQVEsQ0FBQ3pCLE1BQU1jLEdBQUc7UUFDdEMsSUFBSWEsVUFBVUgsV0FBVyxJQUFJLENBQUNyQixhQUFhLEdBQUdrQjtRQUM5QyxJQUFJTyxNQUFNRDtRQUNWLElBQUssSUFBSUUsSUFBSUwsVUFBVUssS0FBS0gsVUFBVUcsSUFBSztZQUN2QyxJQUFLLElBQUlDLElBQUlULFVBQVVTLEtBQUtQLFVBQVVPLElBQUs7Z0JBQ3ZDLElBQUlDLE9BQU8sSUFBSSxDQUFDdEIsSUFBSSxDQUFDbUIsTUFBTTtnQkFDM0IsSUFBSUcsTUFBTTtvQkFDTixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUQsS0FBS0UsTUFBTSxFQUFFRCxJQUFLO3dCQUNsQyxJQUFJLElBQUksQ0FBQ2hCLGVBQWUsQ0FBQ2hCLE9BQU8rQixJQUFJLENBQUNDLEVBQUUsR0FBRzs0QkFDdEMsT0FBTzt3QkFDWDtvQkFDSjtnQkFDSjtZQUNKO1lBQ0FKLE9BQU8sSUFBSSxDQUFDekIsYUFBYSxHQUFJb0IsQ0FBQUEsV0FBV0YsV0FBVztRQUN2RDtRQUNBLElBQUlELFVBQVU7WUFDVixPQUFPO1FBQ1g7UUFDQVEsTUFBTUQ7UUFDTixJQUFLLElBQUlFLElBQUlMLFVBQVVLLEtBQUtILFVBQVVHLElBQUs7WUFDdkMsSUFBSyxJQUFJQyxJQUFJVCxVQUFVUyxLQUFLUCxVQUFVTyxJQUFLO2dCQUN2QyxJQUFJLENBQUMsSUFBSSxDQUFDckIsSUFBSSxDQUFDbUIsSUFBSSxFQUFFO29CQUNqQixJQUFJLENBQUNuQixJQUFJLENBQUNtQixJQUFJLEdBQUc7d0JBQUM1QjtxQkFBTTtnQkFDNUIsT0FDSztvQkFDRCxJQUFJLENBQUNTLElBQUksQ0FBQ21CLElBQUksQ0FBQ00sSUFBSSxDQUFDbEM7Z0JBQ3hCO2dCQUNBNEI7WUFDSjtZQUNBQSxPQUFPLElBQUksQ0FBQ3pCLGFBQWEsR0FBSW9CLENBQUFBLFdBQVdGLFdBQVc7UUFDdkQ7UUFDQSxPQUFPO0lBQ1g7SUFDQXRCLGNBQWNZLFNBQVMsQ0FBQ1csUUFBUSxHQUFHLFNBQVVhLENBQUM7UUFDMUMsT0FBTy9CLEtBQUtnQyxLQUFLLENBQUMsQ0FBQ0QsSUFBSSxJQUFJLENBQUNuQyxLQUFLLENBQUNhLEdBQUcsSUFBSSxJQUFJLENBQUNaLFNBQVM7SUFDM0Q7SUFDQUYsY0FBY1ksU0FBUyxDQUFDYyxRQUFRLEdBQUcsU0FBVVksQ0FBQztRQUMxQyxPQUFPakMsS0FBS2dDLEtBQUssQ0FBQyxDQUFDQyxJQUFJLElBQUksQ0FBQ3JDLEtBQUssQ0FBQ2UsR0FBRyxJQUFJLElBQUksQ0FBQ2IsVUFBVTtJQUM1RDtJQUNBLE9BQU9IO0FBQ1g7QUFDQUYscUJBQXFCLEdBQUdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veW9nYXBvc2VwZXJmZWN0Ly4vbm9kZV9tb2R1bGVzL3NjYXR0ZXItZ2wvZGlzdC9sYWJlbC5qcz85ZmYwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbGxpc2lvbkdyaWQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbGxpc2lvbkdyaWQoYm91bmQsIGNlbGxXaWR0aCwgY2VsbEhlaWdodCkge1xuICAgICAgICB0aGlzLmJvdW5kID0gYm91bmQ7XG4gICAgICAgIHRoaXMuY2VsbFdpZHRoID0gY2VsbFdpZHRoO1xuICAgICAgICB0aGlzLmNlbGxIZWlnaHQgPSBjZWxsSGVpZ2h0O1xuICAgICAgICB0aGlzLm51bUhvcml6Q2VsbHMgPSBNYXRoLmNlaWwodGhpcy5ib3VuZFdpZHRoKGJvdW5kKSAvIGNlbGxXaWR0aCk7XG4gICAgICAgIHRoaXMubnVtVmVydENlbGxzID0gTWF0aC5jZWlsKHRoaXMuYm91bmRIZWlnaHQoYm91bmQpIC8gY2VsbEhlaWdodCk7XG4gICAgICAgIHRoaXMuZ3JpZCA9IG5ldyBBcnJheSh0aGlzLm51bUhvcml6Q2VsbHMgKiB0aGlzLm51bVZlcnRDZWxscyk7XG4gICAgfVxuICAgIENvbGxpc2lvbkdyaWQucHJvdG90eXBlLmJvdW5kV2lkdGggPSBmdW5jdGlvbiAoYm91bmQpIHtcbiAgICAgICAgcmV0dXJuIGJvdW5kLmhpWCAtIGJvdW5kLmxvWDtcbiAgICB9O1xuICAgIENvbGxpc2lvbkdyaWQucHJvdG90eXBlLmJvdW5kSGVpZ2h0ID0gZnVuY3Rpb24gKGJvdW5kKSB7XG4gICAgICAgIHJldHVybiBib3VuZC5oaVkgLSBib3VuZC5sb1k7XG4gICAgfTtcbiAgICBDb2xsaXNpb25HcmlkLnByb3RvdHlwZS5ib3VuZHNJbnRlcnNlY3QgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gIShhLmxvWCA+IGIuaGlYIHx8IGEubG9ZID4gYi5oaVkgfHwgYS5oaVggPCBiLmxvWCB8fCBhLmhpWSA8IGIubG9ZKTtcbiAgICB9O1xuICAgIENvbGxpc2lvbkdyaWQucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChib3VuZCwganVzdFRlc3QpIHtcbiAgICAgICAgaWYgKGp1c3RUZXN0ID09PSB2b2lkIDApIHsganVzdFRlc3QgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoYm91bmQuaGlYIDwgdGhpcy5ib3VuZC5sb1ggfHxcbiAgICAgICAgICAgIGJvdW5kLmxvWCA+IHRoaXMuYm91bmQuaGlYIHx8XG4gICAgICAgICAgICBib3VuZC5oaVkgPCB0aGlzLmJvdW5kLmxvWSB8fFxuICAgICAgICAgICAgYm91bmQubG9ZID4gdGhpcy5ib3VuZC5oaVkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluQ2VsbFggPSB0aGlzLmdldENlbGxYKGJvdW5kLmxvWCk7XG4gICAgICAgIHZhciBtYXhDZWxsWCA9IHRoaXMuZ2V0Q2VsbFgoYm91bmQuaGlYKTtcbiAgICAgICAgdmFyIG1pbkNlbGxZID0gdGhpcy5nZXRDZWxsWShib3VuZC5sb1kpO1xuICAgICAgICB2YXIgbWF4Q2VsbFkgPSB0aGlzLmdldENlbGxZKGJvdW5kLmhpWSk7XG4gICAgICAgIHZhciBiYXNlSWR4ID0gbWluQ2VsbFkgKiB0aGlzLm51bUhvcml6Q2VsbHMgKyBtaW5DZWxsWDtcbiAgICAgICAgdmFyIGlkeCA9IGJhc2VJZHg7XG4gICAgICAgIGZvciAodmFyIGogPSBtaW5DZWxsWTsgaiA8PSBtYXhDZWxsWTsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gbWluQ2VsbFg7IGkgPD0gbWF4Q2VsbFg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjZWxsID0gdGhpcy5ncmlkW2lkeCsrXTtcbiAgICAgICAgICAgICAgICBpZiAoY2VsbCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNlbGwubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kc0ludGVyc2VjdChib3VuZCwgY2VsbFtrXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZHggKz0gdGhpcy5udW1Ib3JpekNlbGxzIC0gKG1heENlbGxYIC0gbWluQ2VsbFggKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlkeCA9IGJhc2VJZHg7XG4gICAgICAgIGZvciAodmFyIGogPSBtaW5DZWxsWTsgaiA8PSBtYXhDZWxsWTsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gbWluQ2VsbFg7IGkgPD0gbWF4Q2VsbFg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5ncmlkW2lkeF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkW2lkeF0gPSBbYm91bmRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkW2lkeF0ucHVzaChib3VuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlkeCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWR4ICs9IHRoaXMubnVtSG9yaXpDZWxscyAtIChtYXhDZWxsWCAtIG1pbkNlbGxYICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBDb2xsaXNpb25HcmlkLnByb3RvdHlwZS5nZXRDZWxsWCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKCh4IC0gdGhpcy5ib3VuZC5sb1gpIC8gdGhpcy5jZWxsV2lkdGgpO1xuICAgIH07XG4gICAgQ29sbGlzaW9uR3JpZC5wcm90b3R5cGUuZ2V0Q2VsbFkgPSBmdW5jdGlvbiAoeSkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigoeSAtIHRoaXMuYm91bmQubG9ZKSAvIHRoaXMuY2VsbEhlaWdodCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29sbGlzaW9uR3JpZDtcbn0oKSk7XG5leHBvcnRzLkNvbGxpc2lvbkdyaWQgPSBDb2xsaXNpb25HcmlkO1xuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQ29sbGlzaW9uR3JpZCIsImJvdW5kIiwiY2VsbFdpZHRoIiwiY2VsbEhlaWdodCIsIm51bUhvcml6Q2VsbHMiLCJNYXRoIiwiY2VpbCIsImJvdW5kV2lkdGgiLCJudW1WZXJ0Q2VsbHMiLCJib3VuZEhlaWdodCIsImdyaWQiLCJBcnJheSIsInByb3RvdHlwZSIsImhpWCIsImxvWCIsImhpWSIsImxvWSIsImJvdW5kc0ludGVyc2VjdCIsImEiLCJiIiwiaW5zZXJ0IiwianVzdFRlc3QiLCJtaW5DZWxsWCIsImdldENlbGxYIiwibWF4Q2VsbFgiLCJtaW5DZWxsWSIsImdldENlbGxZIiwibWF4Q2VsbFkiLCJiYXNlSWR4IiwiaWR4IiwiaiIsImkiLCJjZWxsIiwiayIsImxlbmd0aCIsInB1c2giLCJ4IiwiZmxvb3IiLCJ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/label.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/render.js":
/*!************************************************!*\
  !*** ./node_modules/scatter-gl/dist/render.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar LabelRenderParams = function() {\n    function LabelRenderParams(pointIndices, labelStrings, scaleFactors, useSceneOpacityFlags, defaultFontSize, fillColors, strokeColors) {\n        this.pointIndices = pointIndices;\n        this.labelStrings = labelStrings;\n        this.scaleFactors = scaleFactors;\n        this.useSceneOpacityFlags = useSceneOpacityFlags;\n        this.defaultFontSize = defaultFontSize;\n        this.fillColors = fillColors;\n        this.strokeColors = strokeColors;\n    }\n    return LabelRenderParams;\n}();\nexports.LabelRenderParams = LabelRenderParams;\nvar CameraType;\n(function(CameraType) {\n    CameraType[CameraType[\"Perspective\"] = 0] = \"Perspective\";\n    CameraType[CameraType[\"Orthographic\"] = 1] = \"Orthographic\";\n})(CameraType = exports.CameraType || (exports.CameraType = {}));\nvar RenderContext = function() {\n    function RenderContext(camera, cameraType, cameraTarget, screenWidth, screenHeight, nearestCameraSpacePointZ, farthestCameraSpacePointZ, backgroundColor, pointColors, pointScaleFactors, labels, polylineColors, polylineOpacities, polylineWidths) {\n        this.camera = camera;\n        this.cameraType = cameraType;\n        this.cameraTarget = cameraTarget;\n        this.screenWidth = screenWidth;\n        this.screenHeight = screenHeight;\n        this.nearestCameraSpacePointZ = nearestCameraSpacePointZ;\n        this.farthestCameraSpacePointZ = farthestCameraSpacePointZ;\n        this.backgroundColor = backgroundColor;\n        this.pointColors = pointColors;\n        this.pointScaleFactors = pointScaleFactors;\n        this.labels = labels;\n        this.polylineColors = polylineColors;\n        this.polylineOpacities = polylineOpacities;\n        this.polylineWidths = polylineWidths;\n    }\n    return RenderContext;\n}();\nexports.RenderContext = RenderContext;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L3JlbmRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiQSw4Q0FBNkM7SUFBRUcsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3RCxJQUFJQyxvQkFBcUI7SUFDckIsU0FBU0Esa0JBQWtCQyxZQUFZLEVBQUVDLFlBQVksRUFBRUMsWUFBWSxFQUFFQyxvQkFBb0IsRUFBRUMsZUFBZSxFQUFFQyxVQUFVLEVBQUVDLFlBQVk7UUFDaEksSUFBSSxDQUFDTixZQUFZLEdBQUdBO1FBQ3BCLElBQUksQ0FBQ0MsWUFBWSxHQUFHQTtRQUNwQixJQUFJLENBQUNDLFlBQVksR0FBR0E7UUFDcEIsSUFBSSxDQUFDQyxvQkFBb0IsR0FBR0E7UUFDNUIsSUFBSSxDQUFDQyxlQUFlLEdBQUdBO1FBQ3ZCLElBQUksQ0FBQ0MsVUFBVSxHQUFHQTtRQUNsQixJQUFJLENBQUNDLFlBQVksR0FBR0E7SUFDeEI7SUFDQSxPQUFPUDtBQUNYO0FBQ0FGLHlCQUF5QixHQUFHRTtBQUM1QixJQUFJUTtBQUNILFVBQVVBLFVBQVU7SUFDakJBLFVBQVUsQ0FBQ0EsVUFBVSxDQUFDLGNBQWMsR0FBRyxFQUFFLEdBQUc7SUFDNUNBLFVBQVUsQ0FBQ0EsVUFBVSxDQUFDLGVBQWUsR0FBRyxFQUFFLEdBQUc7QUFDakQsR0FBR0EsYUFBYVYsUUFBUVUsVUFBVSxJQUFLVixDQUFBQSxrQkFBa0IsR0FBRyxDQUFDO0FBQzdELElBQUlXLGdCQUFpQjtJQUNqQixTQUFTQSxjQUFjQyxNQUFNLEVBQUVDLFVBQVUsRUFBRUMsWUFBWSxFQUFFQyxXQUFXLEVBQUVDLFlBQVksRUFBRUMsd0JBQXdCLEVBQUVDLHlCQUF5QixFQUFFQyxlQUFlLEVBQUVDLFdBQVcsRUFBRUMsaUJBQWlCLEVBQUVDLE1BQU0sRUFBRUMsY0FBYyxFQUFFQyxpQkFBaUIsRUFBRUMsY0FBYztRQUMvTyxJQUFJLENBQUNiLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNDLFVBQVUsR0FBR0E7UUFDbEIsSUFBSSxDQUFDQyxZQUFZLEdBQUdBO1FBQ3BCLElBQUksQ0FBQ0MsV0FBVyxHQUFHQTtRQUNuQixJQUFJLENBQUNDLFlBQVksR0FBR0E7UUFDcEIsSUFBSSxDQUFDQyx3QkFBd0IsR0FBR0E7UUFDaEMsSUFBSSxDQUFDQyx5QkFBeUIsR0FBR0E7UUFDakMsSUFBSSxDQUFDQyxlQUFlLEdBQUdBO1FBQ3ZCLElBQUksQ0FBQ0MsV0FBVyxHQUFHQTtRQUNuQixJQUFJLENBQUNDLGlCQUFpQixHQUFHQTtRQUN6QixJQUFJLENBQUNDLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNDLGNBQWMsR0FBR0E7UUFDdEIsSUFBSSxDQUFDQyxpQkFBaUIsR0FBR0E7UUFDekIsSUFBSSxDQUFDQyxjQUFjLEdBQUdBO0lBQzFCO0lBQ0EsT0FBT2Q7QUFDWDtBQUNBWCxxQkFBcUIsR0FBR1ciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly95b2dhcG9zZXBlcmZlY3QvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L3JlbmRlci5qcz9jY2FiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIExhYmVsUmVuZGVyUGFyYW1zID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMYWJlbFJlbmRlclBhcmFtcyhwb2ludEluZGljZXMsIGxhYmVsU3RyaW5ncywgc2NhbGVGYWN0b3JzLCB1c2VTY2VuZU9wYWNpdHlGbGFncywgZGVmYXVsdEZvbnRTaXplLCBmaWxsQ29sb3JzLCBzdHJva2VDb2xvcnMpIHtcbiAgICAgICAgdGhpcy5wb2ludEluZGljZXMgPSBwb2ludEluZGljZXM7XG4gICAgICAgIHRoaXMubGFiZWxTdHJpbmdzID0gbGFiZWxTdHJpbmdzO1xuICAgICAgICB0aGlzLnNjYWxlRmFjdG9ycyA9IHNjYWxlRmFjdG9ycztcbiAgICAgICAgdGhpcy51c2VTY2VuZU9wYWNpdHlGbGFncyA9IHVzZVNjZW5lT3BhY2l0eUZsYWdzO1xuICAgICAgICB0aGlzLmRlZmF1bHRGb250U2l6ZSA9IGRlZmF1bHRGb250U2l6ZTtcbiAgICAgICAgdGhpcy5maWxsQ29sb3JzID0gZmlsbENvbG9ycztcbiAgICAgICAgdGhpcy5zdHJva2VDb2xvcnMgPSBzdHJva2VDb2xvcnM7XG4gICAgfVxuICAgIHJldHVybiBMYWJlbFJlbmRlclBhcmFtcztcbn0oKSk7XG5leHBvcnRzLkxhYmVsUmVuZGVyUGFyYW1zID0gTGFiZWxSZW5kZXJQYXJhbXM7XG52YXIgQ2FtZXJhVHlwZTtcbihmdW5jdGlvbiAoQ2FtZXJhVHlwZSkge1xuICAgIENhbWVyYVR5cGVbQ2FtZXJhVHlwZVtcIlBlcnNwZWN0aXZlXCJdID0gMF0gPSBcIlBlcnNwZWN0aXZlXCI7XG4gICAgQ2FtZXJhVHlwZVtDYW1lcmFUeXBlW1wiT3J0aG9ncmFwaGljXCJdID0gMV0gPSBcIk9ydGhvZ3JhcGhpY1wiO1xufSkoQ2FtZXJhVHlwZSA9IGV4cG9ydHMuQ2FtZXJhVHlwZSB8fCAoZXhwb3J0cy5DYW1lcmFUeXBlID0ge30pKTtcbnZhciBSZW5kZXJDb250ZXh0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW5kZXJDb250ZXh0KGNhbWVyYSwgY2FtZXJhVHlwZSwgY2FtZXJhVGFyZ2V0LCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0LCBuZWFyZXN0Q2FtZXJhU3BhY2VQb2ludFosIGZhcnRoZXN0Q2FtZXJhU3BhY2VQb2ludFosIGJhY2tncm91bmRDb2xvciwgcG9pbnRDb2xvcnMsIHBvaW50U2NhbGVGYWN0b3JzLCBsYWJlbHMsIHBvbHlsaW5lQ29sb3JzLCBwb2x5bGluZU9wYWNpdGllcywgcG9seWxpbmVXaWR0aHMpIHtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XG4gICAgICAgIHRoaXMuY2FtZXJhVHlwZSA9IGNhbWVyYVR5cGU7XG4gICAgICAgIHRoaXMuY2FtZXJhVGFyZ2V0ID0gY2FtZXJhVGFyZ2V0O1xuICAgICAgICB0aGlzLnNjcmVlbldpZHRoID0gc2NyZWVuV2lkdGg7XG4gICAgICAgIHRoaXMuc2NyZWVuSGVpZ2h0ID0gc2NyZWVuSGVpZ2h0O1xuICAgICAgICB0aGlzLm5lYXJlc3RDYW1lcmFTcGFjZVBvaW50WiA9IG5lYXJlc3RDYW1lcmFTcGFjZVBvaW50WjtcbiAgICAgICAgdGhpcy5mYXJ0aGVzdENhbWVyYVNwYWNlUG9pbnRaID0gZmFydGhlc3RDYW1lcmFTcGFjZVBvaW50WjtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHRoaXMucG9pbnRDb2xvcnMgPSBwb2ludENvbG9ycztcbiAgICAgICAgdGhpcy5wb2ludFNjYWxlRmFjdG9ycyA9IHBvaW50U2NhbGVGYWN0b3JzO1xuICAgICAgICB0aGlzLmxhYmVscyA9IGxhYmVscztcbiAgICAgICAgdGhpcy5wb2x5bGluZUNvbG9ycyA9IHBvbHlsaW5lQ29sb3JzO1xuICAgICAgICB0aGlzLnBvbHlsaW5lT3BhY2l0aWVzID0gcG9seWxpbmVPcGFjaXRpZXM7XG4gICAgICAgIHRoaXMucG9seWxpbmVXaWR0aHMgPSBwb2x5bGluZVdpZHRocztcbiAgICB9XG4gICAgcmV0dXJuIFJlbmRlckNvbnRleHQ7XG59KCkpO1xuZXhwb3J0cy5SZW5kZXJDb250ZXh0ID0gUmVuZGVyQ29udGV4dDtcbiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkxhYmVsUmVuZGVyUGFyYW1zIiwicG9pbnRJbmRpY2VzIiwibGFiZWxTdHJpbmdzIiwic2NhbGVGYWN0b3JzIiwidXNlU2NlbmVPcGFjaXR5RmxhZ3MiLCJkZWZhdWx0Rm9udFNpemUiLCJmaWxsQ29sb3JzIiwic3Ryb2tlQ29sb3JzIiwiQ2FtZXJhVHlwZSIsIlJlbmRlckNvbnRleHQiLCJjYW1lcmEiLCJjYW1lcmFUeXBlIiwiY2FtZXJhVGFyZ2V0Iiwic2NyZWVuV2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJuZWFyZXN0Q2FtZXJhU3BhY2VQb2ludFoiLCJmYXJ0aGVzdENhbWVyYVNwYWNlUG9pbnRaIiwiYmFja2dyb3VuZENvbG9yIiwicG9pbnRDb2xvcnMiLCJwb2ludFNjYWxlRmFjdG9ycyIsImxhYmVscyIsInBvbHlsaW5lQ29sb3JzIiwicG9seWxpbmVPcGFjaXRpZXMiLCJwb2x5bGluZVdpZHRocyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/render.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/scatter_gl.js":
/*!****************************************************!*\
  !*** ./node_modules/scatter-gl/dist/scatter_gl.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar __read = (void 0) && (void 0).__read || function(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);\n    } catch (error) {\n        e = {\n            error: error\n        };\n    } finally{\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally{\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n};\nvar __spread = (void 0) && (void 0).__spread || function() {\n    for(var ar = [], i = 0; i < arguments.length; i++)ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (void 0) && (void 0).__values || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar scatter_plot_1 = __webpack_require__(/*! ./scatter_plot */ \"(ssr)/./node_modules/scatter-gl/dist/scatter_plot.js\");\nvar color_1 = __webpack_require__(/*! ./color */ \"(ssr)/./node_modules/scatter-gl/dist/color.js\");\nvar data_1 = __webpack_require__(/*! ./data */ \"(ssr)/./node_modules/scatter-gl/dist/data.js\");\nvar render_1 = __webpack_require__(/*! ./render */ \"(ssr)/./node_modules/scatter-gl/dist/render.js\");\nvar styles_1 = __webpack_require__(/*! ./styles */ \"(ssr)/./node_modules/scatter-gl/dist/styles.js\");\nvar util = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/scatter-gl/dist/util.js\");\nvar constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/scatter-gl/dist/constants.js\");\nvar scatter_plot_visualizer_3d_labels_1 = __webpack_require__(/*! ./scatter_plot_visualizer_3d_labels */ \"(ssr)/./node_modules/scatter-gl/dist/scatter_plot_visualizer_3d_labels.js\");\nvar scatter_plot_visualizer_sprites_1 = __webpack_require__(/*! ./scatter_plot_visualizer_sprites */ \"(ssr)/./node_modules/scatter-gl/dist/scatter_plot_visualizer_sprites.js\");\nvar scatter_plot_visualizer_canvas_labels_1 = __webpack_require__(/*! ./scatter_plot_visualizer_canvas_labels */ \"(ssr)/./node_modules/scatter-gl/dist/scatter_plot_visualizer_canvas_labels.js\");\nvar scatter_plot_visualizer_polylines_1 = __webpack_require__(/*! ./scatter_plot_visualizer_polylines */ \"(ssr)/./node_modules/scatter-gl/dist/scatter_plot_visualizer_polylines.js\");\nvar ScatterGL = function() {\n    function ScatterGL(containerElement, params) {\n        var _this = this;\n        if (params === void 0) {\n            params = {};\n        }\n        this.pointColorer = null;\n        this.sequences = [];\n        this.renderMode = \"POINT\";\n        this.rotateOnStart = true;\n        this.selectEnabled = true;\n        this.showLabelsOnHover = true;\n        this.hoverPointIndex = null;\n        this.selectedPointIndices = new Set();\n        this.clickCallback = function() {};\n        this.hoverCallback = function() {};\n        this.selectCallback = function() {};\n        this.cameraMoveCallback = function() {};\n        this.onHover = function(pointIndex) {\n            _this.hoverCallback(pointIndex);\n            _this.hoverPointIndex = pointIndex;\n            _this.updateScatterPlotAttributes();\n            _this.renderScatterPlot();\n        };\n        this.onClick = function(pointIndex) {\n            _this.clickCallback(pointIndex);\n        };\n        this.select = function(pointIndices) {\n            if (!_this.selectEnabled) return;\n            _this.selectedPointIndices = new Set(pointIndices);\n            _this.updateScatterPlotAttributes();\n            _this.renderScatterPlot();\n        };\n        this.onSelect = function(pointIndices) {\n            if (!_this.selectEnabled) return;\n            _this.selectCallback(pointIndices);\n            _this.select(pointIndices);\n        };\n        this.containerElement = containerElement;\n        this.styles = styles_1.makeStyles(params.styles);\n        this.setParameters(params);\n        this.scatterPlot = new scatter_plot_1.ScatterPlot(containerElement, {\n            camera: params.camera,\n            onClick: this.onClick,\n            onHover: this.onHover,\n            onSelect: this.onSelect,\n            selectEnabled: this.selectEnabled,\n            styles: this.styles,\n            orbitControlParams: params.orbitControls\n        });\n        this.scatterPlot.onCameraMove(this.cameraMoveCallback);\n    }\n    ScatterGL.prototype.setParameters = function(p) {\n        if (p.onClick !== undefined) this.clickCallback = p.onClick;\n        if (p.onHover !== undefined) this.hoverCallback = p.onHover;\n        if (p.onSelect !== undefined) this.selectCallback = p.onSelect;\n        if (p.onCameraMove !== undefined) this.cameraMoveCallback = p.onCameraMove;\n        if (p.pointColorer !== undefined) this.pointColorer = p.pointColorer;\n        if (p.renderMode !== undefined) this.renderMode = p.renderMode;\n        if (p.rotateOnStart !== undefined) this.rotateOnStart = p.rotateOnStart;\n        if (p.selectEnabled !== undefined) this.selectEnabled = p.selectEnabled;\n        if (p.showLabelsOnHover !== undefined) this.showLabelsOnHover = p.showLabelsOnHover;\n    };\n    ScatterGL.prototype.render = function(dataset) {\n        this.updateDataset(dataset);\n        this.clearVisualizers();\n        this.setVisualizers();\n        if (this.rotateOnStart) {\n            this.scatterPlot.startOrbitAnimation();\n        }\n    };\n    ScatterGL.prototype.clearVisualizers = function() {\n        this.canvasLabelsVisualizer = undefined;\n        this.labels3DVisualizer = undefined;\n        this.pointVisualizer = undefined;\n        this.polylineVisualizer = undefined;\n        this.spritesheetVisualizer = undefined;\n        this.scatterPlot.disposeAllVisualizers();\n    };\n    ScatterGL.prototype.renderScatterPlot = function() {\n        if (this.dataset) this.scatterPlot.render();\n    };\n    ScatterGL.prototype.resetZoom = function() {\n        this.scatterPlot.resetZoom();\n    };\n    ScatterGL.prototype.setRenderMode = function(renderMode) {\n        this.renderMode = renderMode;\n        this.setVisualizers();\n        this.updateScatterPlotAttributes();\n        this.updateScatterPlotPositions();\n    };\n    ScatterGL.prototype.setTextRenderMode = function() {\n        this.setRenderMode(\"TEXT\");\n        this.renderScatterPlot();\n    };\n    ScatterGL.prototype.setPointRenderMode = function() {\n        this.setRenderMode(\"POINT\");\n        this.renderScatterPlot();\n    };\n    ScatterGL.prototype.setSpriteRenderMode = function() {\n        if (this.dataset && this.dataset.spriteMetadata) {\n            this.setRenderMode(\"SPRITE\");\n            this.renderScatterPlot();\n        }\n    };\n    ScatterGL.prototype.setSequences = function(sequences) {\n        this.sequences = sequences;\n        this.updatePolylineAttributes();\n        this.setVisualizers();\n        this.renderScatterPlot();\n    };\n    ScatterGL.prototype.setPanMode = function() {\n        this.scatterPlot.setInteractionMode(\"PAN\");\n    };\n    ScatterGL.prototype.setSelectMode = function() {\n        this.scatterPlot.setInteractionMode(\"SELECT\");\n    };\n    ScatterGL.prototype.setDimensions = function(nDimensions) {\n        var outsideRange = nDimensions < 2 || nDimensions > 3;\n        var moreThanDataset = this.dataset && nDimensions > this.dataset.dimensions;\n        if (outsideRange || moreThanDataset) {\n            throw new RangeError(\"Setting invalid dimensionality\");\n        } else {\n            this.scatterPlot.setDimensions(nDimensions);\n            this.renderScatterPlot();\n        }\n    };\n    ScatterGL.prototype.setPointColorer = function(pointColorer) {\n        this.pointColorer = pointColorer;\n        this.updateScatterPlotAttributes();\n        this.renderScatterPlot();\n    };\n    ScatterGL.prototype.callPointColorer = function(pointColorer, index) {\n        return pointColorer(index, this.selectedPointIndices, this.hoverPointIndex);\n    };\n    ScatterGL.prototype.setHoverPointIndex = function(index) {\n        this.hoverPointIndex = index;\n        this.updateScatterPlotAttributes();\n        if (this.scatterPlot.orbitIsAnimating()) return;\n        this.renderScatterPlot();\n    };\n    ScatterGL.prototype.resize = function() {\n        this.scatterPlot.resize();\n    };\n    ScatterGL.prototype.updateDataset = function(dataset) {\n        this.setDataset(dataset);\n        this.scatterPlot.setDimensions(dataset.dimensions);\n        this.updateScatterPlotAttributes();\n        this.updateScatterPlotPositions();\n        this.renderScatterPlot();\n    };\n    ScatterGL.prototype.isOrbiting = function() {\n        return this.scatterPlot.orbitIsAnimating();\n    };\n    ScatterGL.prototype.startOrbitAnimation = function() {\n        this.scatterPlot.startOrbitAnimation();\n    };\n    ScatterGL.prototype.stopOrbitAnimation = function() {\n        this.scatterPlot.stopOrbitAnimation();\n    };\n    ScatterGL.prototype.setDataset = function(dataset) {\n        this.dataset = dataset;\n        if (this.labels3DVisualizer) {\n            this.labels3DVisualizer.setLabelStrings(this.generate3DLabelsArray());\n        }\n    };\n    ScatterGL.prototype.updateScatterPlotPositions = function() {\n        var dataset = this.dataset;\n        if (!dataset) return;\n        var newPositions = this.generatePointPositionArray(dataset);\n        this.scatterPlot.setPointPositions(newPositions);\n    };\n    ScatterGL.prototype.updateScatterPlotAttributes = function() {\n        var dataset = this.dataset;\n        if (!dataset) return;\n        var pointColors = this.generatePointColorArray(dataset);\n        var pointScaleFactors = this.generatePointScaleFactorArray(dataset);\n        var labels = this.generateVisibleLabelRenderParams();\n        this.scatterPlot.setPointColors(pointColors);\n        this.scatterPlot.setPointScaleFactors(pointScaleFactors);\n        this.scatterPlot.setLabels(labels);\n    };\n    ScatterGL.prototype.updatePolylineAttributes = function() {\n        var dataset = this.dataset;\n        if (!dataset) return;\n        var polylineColors = this.generateLineSegmentColorMap(dataset);\n        var polylineOpacities = this.generateLineSegmentOpacityArray(dataset);\n        var polylineWidths = this.generateLineSegmentWidthArray(dataset);\n        this.scatterPlot.setPolylineColors(polylineColors);\n        this.scatterPlot.setPolylineOpacities(polylineOpacities);\n        this.scatterPlot.setPolylineWidths(polylineWidths);\n    };\n    ScatterGL.prototype.generatePointPositionArray = function(dataset) {\n        var xExtent = [\n            0,\n            0\n        ];\n        var yExtent = [\n            0,\n            0\n        ];\n        var zExtent = [\n            0,\n            0\n        ];\n        xExtent = util.extent(dataset.points.map(function(p) {\n            return p[0];\n        }));\n        yExtent = util.extent(dataset.points.map(function(p) {\n            return p[1];\n        }));\n        if (dataset.dimensions === 3) {\n            zExtent = util.extent(dataset.points.map(function(p) {\n                return p[2];\n            }));\n        }\n        var getRange = function(extent) {\n            return Math.abs(extent[1] - extent[0]);\n        };\n        var xRange = getRange(xExtent);\n        var yRange = getRange(yExtent);\n        var zRange = getRange(zExtent);\n        var maxRange = Math.max(xRange, yRange, zRange);\n        var halfCube = constants_1.SCATTER_PLOT_CUBE_LENGTH / 2;\n        var makeScaleRange = function(range, base) {\n            return [\n                -base * (range / maxRange),\n                base * (range / maxRange)\n            ];\n        };\n        var xScale = makeScaleRange(xRange, halfCube);\n        var yScale = makeScaleRange(yRange, halfCube);\n        var zScale = makeScaleRange(zRange, halfCube);\n        var positions = new Float32Array(dataset.points.length * 3);\n        var dst = 0;\n        dataset.points.forEach(function(d, i) {\n            var vector = dataset.points[i];\n            positions[dst++] = util.scaleLinear(vector[0], xExtent, xScale);\n            positions[dst++] = util.scaleLinear(vector[1], yExtent, yScale);\n            if (dataset.dimensions === 3) {\n                positions[dst++] = util.scaleLinear(vector[2], zExtent, zScale);\n            } else {\n                positions[dst++] = 0.0;\n            }\n        });\n        return positions;\n    };\n    ScatterGL.prototype.generateVisibleLabelRenderParams = function() {\n        var _a = this, hoverPointIndex = _a.hoverPointIndex, selectedPointIndices = _a.selectedPointIndices, styles = _a.styles;\n        var n = hoverPointIndex !== null ? 1 : 0;\n        var visibleLabels = new Uint32Array(n);\n        var scale = new Float32Array(n);\n        var opacityFlags = new Int8Array(n);\n        var fillColors = new Uint8Array(n * 3);\n        var strokeColors = new Uint8Array(n * 3);\n        var labelStrings = [];\n        scale.fill(styles.label.scaleDefault);\n        opacityFlags.fill(1);\n        var dst = 0;\n        if (hoverPointIndex !== null) {\n            labelStrings.push(this.getLabelText(hoverPointIndex));\n            visibleLabels[dst] = hoverPointIndex;\n            scale[dst] = styles.label.scaleLarge;\n            opacityFlags[dst] = 0;\n            var fillRgb = util.styleRgbFromHexColor(styles.label.fillColorHover);\n            util.packRgbIntoUint8Array(fillColors, dst, fillRgb[0], fillRgb[1], fillRgb[2]);\n            var strokeRgb = util.styleRgbFromHexColor(styles.label.strokeColorHover);\n            util.packRgbIntoUint8Array(strokeColors, dst, strokeRgb[0], strokeRgb[1], strokeRgb[1]);\n            ++dst;\n        }\n        {\n            var fillRgb = util.styleRgbFromHexColor(styles.label.fillColorSelected);\n            var strokeRgb = util.styleRgbFromHexColor(styles.label.strokeColorSelected);\n            if (selectedPointIndices.size === 1) {\n                var labelIndex = __spread(selectedPointIndices)[0];\n                labelStrings.push(this.getLabelText(labelIndex));\n                visibleLabels[dst] = labelIndex;\n                scale[dst] = styles.label.scaleLarge;\n                opacityFlags[dst] = 0;\n                util.packRgbIntoUint8Array(fillColors, dst, fillRgb[0], fillRgb[1], fillRgb[2]);\n                util.packRgbIntoUint8Array(strokeColors, dst, strokeRgb[0], strokeRgb[1], strokeRgb[2]);\n            }\n        }\n        return new render_1.LabelRenderParams(new Float32Array(visibleLabels), labelStrings, scale, opacityFlags, styles.label.fontSize, fillColors, strokeColors);\n    };\n    ScatterGL.prototype.generatePointScaleFactorArray = function(dataset) {\n        var e_1, _a;\n        var _b = this, hoverPointIndex = _b.hoverPointIndex, selectedPointIndices = _b.selectedPointIndices, styles = _b.styles;\n        var _c = styles.point, scaleDefault = _c.scaleDefault, scaleSelected = _c.scaleSelected, scaleHover = _c.scaleHover;\n        var scale = new Float32Array(dataset.points.length);\n        scale.fill(scaleDefault);\n        var selectedPointCount = selectedPointIndices.size;\n        {\n            try {\n                for(var _d = __values(selectedPointIndices.values()), _e = _d.next(); !_e.done; _e = _d.next()){\n                    var p = _e.value;\n                    scale[p] = scaleSelected;\n                }\n            } catch (e_1_1) {\n                e_1 = {\n                    error: e_1_1\n                };\n            } finally{\n                try {\n                    if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n                } finally{\n                    if (e_1) throw e_1.error;\n                }\n            }\n        }\n        if (hoverPointIndex != null) {\n            scale[hoverPointIndex] = scaleHover;\n        }\n        return scale;\n    };\n    ScatterGL.prototype.generatePointColorArray = function(dataset) {\n        var e_2, _a;\n        var _b = this, hoverPointIndex = _b.hoverPointIndex, pointColorer = _b.pointColorer, selectedPointIndices = _b.selectedPointIndices, styles = _b.styles;\n        var _c = styles.point, colorHover = _c.colorHover, colorNoSelection = _c.colorNoSelection, colorSelected = _c.colorSelected, colorUnselected = _c.colorUnselected;\n        var colors = new Float32Array(dataset.points.length * constants_1.RGBA_NUM_ELEMENTS);\n        var unselectedColor = colorUnselected;\n        var noSelectionColor = colorNoSelection;\n        if (this.renderMode === \"TEXT\") {\n            unselectedColor = this.styles.label3D.colorUnselected;\n            noSelectionColor = this.styles.label3D.colorNoSelection;\n        }\n        if (this.renderMode === \"SPRITE\") {\n            unselectedColor = this.styles.sprites.colorUnselected;\n            noSelectionColor = this.styles.sprites.colorNoSelection;\n        }\n        var n = dataset.points.length;\n        var selectedPointCount = this.selectedPointIndices.size;\n        if (pointColorer) {\n            var dst = 0;\n            for(var i = 0; i < n; ++i){\n                var c = color_1.parseColor(this.callPointColorer(pointColorer, i) || noSelectionColor);\n                colors[dst++] = c.r;\n                colors[dst++] = c.g;\n                colors[dst++] = c.b;\n                colors[dst++] = c.opacity;\n            }\n        } else {\n            var dst = 0;\n            var c = selectedPointCount > 0 ? color_1.parseColor(unselectedColor) : color_1.parseColor(noSelectionColor);\n            for(var i = 0; i < n; ++i){\n                colors[dst++] = c.r;\n                colors[dst++] = c.g;\n                colors[dst++] = c.b;\n                colors[dst++] = c.opacity;\n            }\n            c = color_1.parseColor(colorSelected);\n            try {\n                for(var _d = __values(selectedPointIndices.values()), _e = _d.next(); !_e.done; _e = _d.next()){\n                    var selectedPointIndex = _e.value;\n                    var dst_1 = selectedPointIndex * constants_1.RGBA_NUM_ELEMENTS;\n                    colors[dst_1++] = c.r;\n                    colors[dst_1++] = c.g;\n                    colors[dst_1++] = c.b;\n                    colors[dst_1++] = c.opacity;\n                }\n            } catch (e_2_1) {\n                e_2 = {\n                    error: e_2_1\n                };\n            } finally{\n                try {\n                    if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n                } finally{\n                    if (e_2) throw e_2.error;\n                }\n            }\n            if (hoverPointIndex != null) {\n                var c_1 = color_1.parseColor(colorHover);\n                var dst_2 = hoverPointIndex * constants_1.RGBA_NUM_ELEMENTS;\n                colors[dst_2++] = c_1.r;\n                colors[dst_2++] = c_1.g;\n                colors[dst_2++] = c_1.b;\n                colors[dst_2++] = c_1.opacity;\n            }\n        }\n        return colors;\n    };\n    ScatterGL.prototype.generate3DLabelsArray = function() {\n        var dataset = this.dataset;\n        if (!dataset) return [];\n        var labels = [];\n        var n = dataset.points.length;\n        for(var i = 0; i < n; ++i){\n            labels.push(this.getLabelText(i));\n        }\n        return labels;\n    };\n    ScatterGL.prototype.generateLineSegmentColorMap = function(dataset) {\n        var _a = this, pointColorer = _a.pointColorer, styles = _a.styles;\n        var polylineColorArrayMap = {};\n        for(var i = 0; i < this.sequences.length; i++){\n            var sequence = this.sequences[i];\n            var colors = new Float32Array(2 * (sequence.indices.length - 1) * 3);\n            var colorIndex = 0;\n            if (pointColorer) {\n                for(var j = 0; j < sequence.indices.length - 1; j++){\n                    var c1 = color_1.parseColor(this.callPointColorer(pointColorer, sequence.indices[j]));\n                    var c2 = color_1.parseColor(this.callPointColorer(pointColorer, sequence.indices[j + 1]));\n                    colors[colorIndex++] = c1.r;\n                    colors[colorIndex++] = c1.g;\n                    colors[colorIndex++] = c1.b;\n                    colors[colorIndex++] = c2.r;\n                    colors[colorIndex++] = c2.g;\n                    colors[colorIndex++] = c2.b;\n                }\n            } else {\n                for(var j = 0; j < sequence.indices.length - 1; j++){\n                    var c1 = util.getDefaultPointInPolylineColor(j, sequence.indices.length, styles.polyline.startHue, styles.polyline.endHue, styles.polyline.saturation, styles.polyline.lightness);\n                    var c2 = util.getDefaultPointInPolylineColor(j + 1, sequence.indices.length, styles.polyline.startHue, styles.polyline.endHue, styles.polyline.saturation, styles.polyline.lightness);\n                    colors[colorIndex++] = c1.r;\n                    colors[colorIndex++] = c1.g;\n                    colors[colorIndex++] = c1.b;\n                    colors[colorIndex++] = c2.r;\n                    colors[colorIndex++] = c2.g;\n                    colors[colorIndex++] = c2.b;\n                }\n            }\n            polylineColorArrayMap[i] = colors;\n        }\n        return polylineColorArrayMap;\n    };\n    ScatterGL.prototype.generateLineSegmentOpacityArray = function(dataset) {\n        var _a = this, selectedPointIndices = _a.selectedPointIndices, styles = _a.styles;\n        var opacities = new Float32Array(this.sequences.length);\n        var selectedPointCount = selectedPointIndices.size;\n        if (selectedPointCount > 0) {\n            opacities.fill(styles.polyline.deselectedOpacity);\n            var i = this.polylineVisualizer.getPointSequenceIndex(__spread(selectedPointIndices)[0]);\n            if (i !== undefined) opacities[i] = styles.polyline.selectedOpacity;\n        } else {\n            opacities.fill(styles.polyline.defaultOpacity);\n        }\n        return opacities;\n    };\n    ScatterGL.prototype.generateLineSegmentWidthArray = function(dataset) {\n        var _a = this, selectedPointIndices = _a.selectedPointIndices, styles = _a.styles;\n        var widths = new Float32Array(this.sequences.length);\n        widths.fill(styles.polyline.defaultLineWidth);\n        var selectedPointCount = selectedPointIndices.size;\n        if (selectedPointCount > 0) {\n            var i = this.polylineVisualizer.getPointSequenceIndex(__spread(selectedPointIndices)[0]);\n            if (i !== undefined) widths[i] = styles.polyline.selectedLineWidth;\n        }\n        return widths;\n    };\n    ScatterGL.prototype.getLabelText = function(i) {\n        var dataset = this.dataset;\n        if (!dataset) return \"\";\n        var metadata = dataset.metadata[i];\n        return metadata && metadata.label != null ? \"\" + metadata.label : \"\";\n    };\n    ScatterGL.prototype.initializeCanvasLabelsVisualizer = function() {\n        if (!this.canvasLabelsVisualizer) {\n            this.canvasLabelsVisualizer = new scatter_plot_visualizer_canvas_labels_1.ScatterPlotVisualizerCanvasLabels(this.containerElement, this.styles);\n        }\n        return this.canvasLabelsVisualizer;\n    };\n    ScatterGL.prototype.initialize3DLabelsVisualizer = function() {\n        if (!this.labels3DVisualizer) {\n            this.labels3DVisualizer = new scatter_plot_visualizer_3d_labels_1.ScatterPlotVisualizer3DLabels(this.styles);\n        }\n        this.labels3DVisualizer.setLabelStrings(this.generate3DLabelsArray());\n        return this.labels3DVisualizer;\n    };\n    ScatterGL.prototype.initializePointVisualizer = function() {\n        if (!this.pointVisualizer) {\n            this.pointVisualizer = new scatter_plot_visualizer_sprites_1.ScatterPlotVisualizerSprites(this.styles);\n        }\n        return this.pointVisualizer;\n    };\n    ScatterGL.prototype.initializeSpritesheetVisualizer = function() {\n        var _this = this;\n        var styles = this.styles;\n        var dataset = this.dataset;\n        var spriteMetadata = dataset.spriteMetadata;\n        if (!this.spritesheetVisualizer && spriteMetadata) {\n            if (!spriteMetadata.spriteImage || !spriteMetadata.singleSpriteSize) {\n                return;\n            }\n            var n = dataset.points.length;\n            var spriteIndices = void 0;\n            if (spriteMetadata.spriteIndices) {\n                spriteIndices = new Float32Array(spriteMetadata.spriteIndices);\n            } else {\n                spriteIndices = new Float32Array(n);\n                for(var i = 0; i < n; ++i){\n                    spriteIndices[i] = i;\n                }\n            }\n            var onImageLoad = function() {\n                return _this.renderScatterPlot();\n            };\n            var spritesheetVisualizer = new scatter_plot_visualizer_sprites_1.ScatterPlotVisualizerSprites(styles, {\n                spritesheetImage: spriteMetadata.spriteImage,\n                spriteDimensions: spriteMetadata.singleSpriteSize,\n                spriteIndices: spriteIndices,\n                onImageLoad: onImageLoad\n            });\n            spritesheetVisualizer.id = \"SPRITE_SHEET_VISUALIZER\";\n            this.spritesheetVisualizer = spritesheetVisualizer;\n        }\n        return this.spritesheetVisualizer;\n    };\n    ScatterGL.prototype.initializePolylineVisualizer = function() {\n        if (!this.polylineVisualizer) {\n            this.polylineVisualizer = new scatter_plot_visualizer_polylines_1.ScatterPlotVisualizerPolylines();\n        }\n        this.polylineVisualizer.setSequences(this.sequences);\n        return this.polylineVisualizer;\n    };\n    ScatterGL.prototype.setVisualizers = function() {\n        var _a = this, dataset = _a.dataset, renderMode = _a.renderMode;\n        var activeVisualizers = [];\n        if (renderMode === \"TEXT\") {\n            var visualizer = this.initialize3DLabelsVisualizer();\n            activeVisualizers.push(visualizer);\n        } else if (renderMode === \"POINT\") {\n            var visualizer = this.initializePointVisualizer();\n            activeVisualizers.push(visualizer);\n        } else if (renderMode === \"SPRITE\" && dataset.spriteMetadata) {\n            var visualizer = this.initializeSpritesheetVisualizer();\n            if (visualizer) activeVisualizers.push(visualizer);\n        }\n        if (this.sequences.length > 0) {\n            var visualizer = this.initializePolylineVisualizer();\n            activeVisualizers.push(visualizer);\n        }\n        var textLabelsRenderMode = renderMode === \"POINT\" || renderMode === \"SPRITE\";\n        if (textLabelsRenderMode && this.showLabelsOnHover) {\n            var visualizer = this.initializeCanvasLabelsVisualizer();\n            activeVisualizers.push(visualizer);\n        }\n        this.scatterPlot.setActiveVisualizers(activeVisualizers);\n    };\n    ScatterGL.Dataset = data_1.Dataset;\n    return ScatterGL;\n}();\nexports.ScatterGL = ScatterGL;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L3NjYXR0ZXJfZ2wuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxTQUFTLENBQUMsTUFBRyxLQUFLLE9BQUcsRUFBRUEsTUFBTSxJQUFLLFNBQVVDLENBQUMsRUFBRUMsQ0FBQztJQUNoRCxJQUFJQyxJQUFJLE9BQU9DLFdBQVcsY0FBY0gsQ0FBQyxDQUFDRyxPQUFPQyxRQUFRLENBQUM7SUFDMUQsSUFBSSxDQUFDRixHQUFHLE9BQU9GO0lBQ2YsSUFBSUssSUFBSUgsRUFBRUksSUFBSSxDQUFDTixJQUFJTyxHQUFHQyxLQUFLLEVBQUUsRUFBRUM7SUFDL0IsSUFBSTtRQUNBLE1BQU8sQ0FBQ1IsTUFBTSxLQUFLLEtBQUtBLE1BQU0sTUFBTSxDQUFDLENBQUNNLElBQUlGLEVBQUVLLElBQUksRUFBQyxFQUFHQyxJQUFJLENBQUVILEdBQUdJLElBQUksQ0FBQ0wsRUFBRU0sS0FBSztJQUM3RSxFQUNBLE9BQU9DLE9BQU87UUFBRUwsSUFBSTtZQUFFSyxPQUFPQTtRQUFNO0lBQUcsU0FDOUI7UUFDSixJQUFJO1lBQ0EsSUFBSVAsS0FBSyxDQUFDQSxFQUFFSSxJQUFJLElBQUtULENBQUFBLElBQUlHLENBQUMsQ0FBQyxTQUFTLEdBQUdILEVBQUVJLElBQUksQ0FBQ0Q7UUFDbEQsU0FDUTtZQUFFLElBQUlJLEdBQUcsTUFBTUEsRUFBRUssS0FBSztRQUFFO0lBQ3BDO0lBQ0EsT0FBT047QUFDWDtBQUNBLElBQUlPLFdBQVcsQ0FBQyxNQUFHLEtBQUssT0FBRyxFQUFFQSxRQUFRLElBQUs7SUFDdEMsSUFBSyxJQUFJUCxLQUFLLEVBQUUsRUFBRUgsSUFBSSxHQUFHQSxJQUFJVyxVQUFVQyxNQUFNLEVBQUVaLElBQUtHLEtBQUtBLEdBQUdVLE1BQU0sQ0FBQ25CLE9BQU9pQixTQUFTLENBQUNYLEVBQUU7SUFDdEYsT0FBT0c7QUFDWDtBQUNBLElBQUlXLFdBQVcsQ0FBQyxNQUFHLEtBQUssT0FB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cEUsSUFBSThOLHdCQUF3QixJQUFJLENBQUMzTixpQkFBaUIsRUFBRTtZQUNoRCxJQUFJME4sYUFBYSxJQUFJLENBQUNqQixnQ0FBZ0M7WUFDdERnQixrQkFBa0IzUCxJQUFJLENBQUM0UDtRQUMzQjtRQUNBLElBQUksQ0FBQ3ZNLFdBQVcsQ0FBQ3lNLG9CQUFvQixDQUFDSDtJQUMxQztJQUNBbE8sVUFBVXNPLE9BQU8sR0FBRy9PLE9BQU8rTyxPQUFPO0lBQ2xDLE9BQU90TztBQUNYO0FBQ0FiLGlCQUFpQixHQUFHYSIsInNvdXJjZXMiOlsid2VicGFjazovL3lvZ2Fwb3NlcGVyZmVjdC8uL25vZGVfbW9kdWxlcy9zY2F0dGVyLWdsL2Rpc3Qvc2NhdHRlcl9nbC5qcz8yYzA4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZCkgfHwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzY2F0dGVyX3Bsb3RfMSA9IHJlcXVpcmUoXCIuL3NjYXR0ZXJfcGxvdFwiKTtcbnZhciBjb2xvcl8xID0gcmVxdWlyZShcIi4vY29sb3JcIik7XG52YXIgZGF0YV8xID0gcmVxdWlyZShcIi4vZGF0YVwiKTtcbnZhciByZW5kZXJfMSA9IHJlcXVpcmUoXCIuL3JlbmRlclwiKTtcbnZhciBzdHlsZXNfMSA9IHJlcXVpcmUoXCIuL3N0eWxlc1wiKTtcbnZhciB1dGlsID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbnZhciBzY2F0dGVyX3Bsb3RfdmlzdWFsaXplcl8zZF9sYWJlbHNfMSA9IHJlcXVpcmUoXCIuL3NjYXR0ZXJfcGxvdF92aXN1YWxpemVyXzNkX2xhYmVsc1wiKTtcbnZhciBzY2F0dGVyX3Bsb3RfdmlzdWFsaXplcl9zcHJpdGVzXzEgPSByZXF1aXJlKFwiLi9zY2F0dGVyX3Bsb3RfdmlzdWFsaXplcl9zcHJpdGVzXCIpO1xudmFyIHNjYXR0ZXJfcGxvdF92aXN1YWxpemVyX2NhbnZhc19sYWJlbHNfMSA9IHJlcXVpcmUoXCIuL3NjYXR0ZXJfcGxvdF92aXN1YWxpemVyX2NhbnZhc19sYWJlbHNcIik7XG52YXIgc2NhdHRlcl9wbG90X3Zpc3VhbGl6ZXJfcG9seWxpbmVzXzEgPSByZXF1aXJlKFwiLi9zY2F0dGVyX3Bsb3RfdmlzdWFsaXplcl9wb2x5bGluZXNcIik7XG52YXIgU2NhdHRlckdMID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2F0dGVyR0woY29udGFpbmVyRWxlbWVudCwgcGFyYW1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChwYXJhbXMgPT09IHZvaWQgMCkgeyBwYXJhbXMgPSB7fTsgfVxuICAgICAgICB0aGlzLnBvaW50Q29sb3JlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VxdWVuY2VzID0gW107XG4gICAgICAgIHRoaXMucmVuZGVyTW9kZSA9IFwiUE9JTlRcIjtcbiAgICAgICAgdGhpcy5yb3RhdGVPblN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3RFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zaG93TGFiZWxzT25Ib3ZlciA9IHRydWU7XG4gICAgICAgIHRoaXMuaG92ZXJQb2ludEluZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFBvaW50SW5kaWNlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5jbGlja0NhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICB0aGlzLmhvdmVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgICAgIHRoaXMuc2VsZWN0Q2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgICAgIHRoaXMuY2FtZXJhTW92ZUNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICB0aGlzLm9uSG92ZXIgPSBmdW5jdGlvbiAocG9pbnRJbmRleCkge1xuICAgICAgICAgICAgX3RoaXMuaG92ZXJDYWxsYmFjayhwb2ludEluZGV4KTtcbiAgICAgICAgICAgIF90aGlzLmhvdmVyUG9pbnRJbmRleCA9IHBvaW50SW5kZXg7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGVTY2F0dGVyUGxvdEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgIF90aGlzLnJlbmRlclNjYXR0ZXJQbG90KCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25DbGljayA9IGZ1bmN0aW9uIChwb2ludEluZGV4KSB7XG4gICAgICAgICAgICBfdGhpcy5jbGlja0NhbGxiYWNrKHBvaW50SW5kZXgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbGVjdCA9IGZ1bmN0aW9uIChwb2ludEluZGljZXMpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuc2VsZWN0RW5hYmxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RlZFBvaW50SW5kaWNlcyA9IG5ldyBTZXQocG9pbnRJbmRpY2VzKTtcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZVNjYXR0ZXJQbG90QXR0cmlidXRlcygpO1xuICAgICAgICAgICAgX3RoaXMucmVuZGVyU2NhdHRlclBsb3QoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblNlbGVjdCA9IGZ1bmN0aW9uIChwb2ludEluZGljZXMpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuc2VsZWN0RW5hYmxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RDYWxsYmFjayhwb2ludEluZGljZXMpO1xuICAgICAgICAgICAgX3RoaXMuc2VsZWN0KHBvaW50SW5kaWNlcyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29udGFpbmVyRWxlbWVudCA9IGNvbnRhaW5lckVsZW1lbnQ7XG4gICAgICAgIHRoaXMuc3R5bGVzID0gc3R5bGVzXzEubWFrZVN0eWxlcyhwYXJhbXMuc3R5bGVzKTtcbiAgICAgICAgdGhpcy5zZXRQYXJhbWV0ZXJzKHBhcmFtcyk7XG4gICAgICAgIHRoaXMuc2NhdHRlclBsb3QgPSBuZXcgc2NhdHRlcl9wbG90XzEuU2NhdHRlclBsb3QoY29udGFpbmVyRWxlbWVudCwge1xuICAgICAgICAgICAgY2FtZXJhOiBwYXJhbXMuY2FtZXJhLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5vbkNsaWNrLFxuICAgICAgICAgICAgb25Ib3ZlcjogdGhpcy5vbkhvdmVyLFxuICAgICAgICAgICAgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QsXG4gICAgICAgICAgICBzZWxlY3RFbmFibGVkOiB0aGlzLnNlbGVjdEVuYWJsZWQsXG4gICAgICAgICAgICBzdHlsZXM6IHRoaXMuc3R5bGVzLFxuICAgICAgICAgICAgb3JiaXRDb250cm9sUGFyYW1zOiBwYXJhbXMub3JiaXRDb250cm9scyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2NhdHRlclBsb3Qub25DYW1lcmFNb3ZlKHRoaXMuY2FtZXJhTW92ZUNhbGxiYWNrKTtcbiAgICB9XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5zZXRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgaWYgKHAub25DbGljayAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhpcy5jbGlja0NhbGxiYWNrID0gcC5vbkNsaWNrO1xuICAgICAgICBpZiAocC5vbkhvdmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLmhvdmVyQ2FsbGJhY2sgPSBwLm9uSG92ZXI7XG4gICAgICAgIGlmIChwLm9uU2VsZWN0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdENhbGxiYWNrID0gcC5vblNlbGVjdDtcbiAgICAgICAgaWYgKHAub25DYW1lcmFNb3ZlICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLmNhbWVyYU1vdmVDYWxsYmFjayA9IHAub25DYW1lcmFNb3ZlO1xuICAgICAgICBpZiAocC5wb2ludENvbG9yZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMucG9pbnRDb2xvcmVyID0gcC5wb2ludENvbG9yZXI7XG4gICAgICAgIGlmIChwLnJlbmRlck1vZGUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMucmVuZGVyTW9kZSA9IHAucmVuZGVyTW9kZTtcbiAgICAgICAgaWYgKHAucm90YXRlT25TdGFydCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhpcy5yb3RhdGVPblN0YXJ0ID0gcC5yb3RhdGVPblN0YXJ0O1xuICAgICAgICBpZiAocC5zZWxlY3RFbmFibGVkICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEVuYWJsZWQgPSBwLnNlbGVjdEVuYWJsZWQ7XG4gICAgICAgIGlmIChwLnNob3dMYWJlbHNPbkhvdmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLnNob3dMYWJlbHNPbkhvdmVyID0gcC5zaG93TGFiZWxzT25Ib3ZlcjtcbiAgICB9O1xuICAgIFNjYXR0ZXJHTC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGRhdGFzZXQpIHtcbiAgICAgICAgdGhpcy51cGRhdGVEYXRhc2V0KGRhdGFzZXQpO1xuICAgICAgICB0aGlzLmNsZWFyVmlzdWFsaXplcnMoKTtcbiAgICAgICAgdGhpcy5zZXRWaXN1YWxpemVycygpO1xuICAgICAgICBpZiAodGhpcy5yb3RhdGVPblN0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnNjYXR0ZXJQbG90LnN0YXJ0T3JiaXRBbmltYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5jbGVhclZpc3VhbGl6ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNhbnZhc0xhYmVsc1Zpc3VhbGl6ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubGFiZWxzM0RWaXN1YWxpemVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnBvaW50VmlzdWFsaXplciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wb2x5bGluZVZpc3VhbGl6ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3ByaXRlc2hlZXRWaXN1YWxpemVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNjYXR0ZXJQbG90LmRpc3Bvc2VBbGxWaXN1YWxpemVycygpO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5yZW5kZXJTY2F0dGVyUGxvdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YXNldClcbiAgICAgICAgICAgIHRoaXMuc2NhdHRlclBsb3QucmVuZGVyKCk7XG4gICAgfTtcbiAgICBTY2F0dGVyR0wucHJvdG90eXBlLnJlc2V0Wm9vbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zY2F0dGVyUGxvdC5yZXNldFpvb20oKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJHTC5wcm90b3R5cGUuc2V0UmVuZGVyTW9kZSA9IGZ1bmN0aW9uIChyZW5kZXJNb2RlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyTW9kZSA9IHJlbmRlck1vZGU7XG4gICAgICAgIHRoaXMuc2V0VmlzdWFsaXplcnMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVTY2F0dGVyUGxvdEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVTY2F0dGVyUGxvdFBvc2l0aW9ucygpO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5zZXRUZXh0UmVuZGVyTW9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRSZW5kZXJNb2RlKFwiVEVYVFwiKTtcbiAgICAgICAgdGhpcy5yZW5kZXJTY2F0dGVyUGxvdCgpO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5zZXRQb2ludFJlbmRlck1vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0UmVuZGVyTW9kZShcIlBPSU5UXCIpO1xuICAgICAgICB0aGlzLnJlbmRlclNjYXR0ZXJQbG90KCk7XG4gICAgfTtcbiAgICBTY2F0dGVyR0wucHJvdG90eXBlLnNldFNwcml0ZVJlbmRlck1vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRhdGFzZXQgJiYgdGhpcy5kYXRhc2V0LnNwcml0ZU1ldGFkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLnNldFJlbmRlck1vZGUoXCJTUFJJVEVcIik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclNjYXR0ZXJQbG90KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYXR0ZXJHTC5wcm90b3R5cGUuc2V0U2VxdWVuY2VzID0gZnVuY3Rpb24gKHNlcXVlbmNlcykge1xuICAgICAgICB0aGlzLnNlcXVlbmNlcyA9IHNlcXVlbmNlcztcbiAgICAgICAgdGhpcy51cGRhdGVQb2x5bGluZUF0dHJpYnV0ZXMoKTtcbiAgICAgICAgdGhpcy5zZXRWaXN1YWxpemVycygpO1xuICAgICAgICB0aGlzLnJlbmRlclNjYXR0ZXJQbG90KCk7XG4gICAgfTtcbiAgICBTY2F0dGVyR0wucHJvdG90eXBlLnNldFBhbk1vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2NhdHRlclBsb3Quc2V0SW50ZXJhY3Rpb25Nb2RlKFwiUEFOXCIpO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5zZXRTZWxlY3RNb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNjYXR0ZXJQbG90LnNldEludGVyYWN0aW9uTW9kZShcIlNFTEVDVFwiKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJHTC5wcm90b3R5cGUuc2V0RGltZW5zaW9ucyA9IGZ1bmN0aW9uIChuRGltZW5zaW9ucykge1xuICAgICAgICB2YXIgb3V0c2lkZVJhbmdlID0gbkRpbWVuc2lvbnMgPCAyIHx8IG5EaW1lbnNpb25zID4gMztcbiAgICAgICAgdmFyIG1vcmVUaGFuRGF0YXNldCA9IHRoaXMuZGF0YXNldCAmJiBuRGltZW5zaW9ucyA+IHRoaXMuZGF0YXNldC5kaW1lbnNpb25zO1xuICAgICAgICBpZiAob3V0c2lkZVJhbmdlIHx8IG1vcmVUaGFuRGF0YXNldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1NldHRpbmcgaW52YWxpZCBkaW1lbnNpb25hbGl0eScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zY2F0dGVyUGxvdC5zZXREaW1lbnNpb25zKG5EaW1lbnNpb25zKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyU2NhdHRlclBsb3QoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5zZXRQb2ludENvbG9yZXIgPSBmdW5jdGlvbiAocG9pbnRDb2xvcmVyKSB7XG4gICAgICAgIHRoaXMucG9pbnRDb2xvcmVyID0gcG9pbnRDb2xvcmVyO1xuICAgICAgICB0aGlzLnVwZGF0ZVNjYXR0ZXJQbG90QXR0cmlidXRlcygpO1xuICAgICAgICB0aGlzLnJlbmRlclNjYXR0ZXJQbG90KCk7XG4gICAgfTtcbiAgICBTY2F0dGVyR0wucHJvdG90eXBlLmNhbGxQb2ludENvbG9yZXIgPSBmdW5jdGlvbiAocG9pbnRDb2xvcmVyLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gcG9pbnRDb2xvcmVyKGluZGV4LCB0aGlzLnNlbGVjdGVkUG9pbnRJbmRpY2VzLCB0aGlzLmhvdmVyUG9pbnRJbmRleCk7XG4gICAgfTtcbiAgICBTY2F0dGVyR0wucHJvdG90eXBlLnNldEhvdmVyUG9pbnRJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB0aGlzLmhvdmVyUG9pbnRJbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnVwZGF0ZVNjYXR0ZXJQbG90QXR0cmlidXRlcygpO1xuICAgICAgICBpZiAodGhpcy5zY2F0dGVyUGxvdC5vcmJpdElzQW5pbWF0aW5nKCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMucmVuZGVyU2NhdHRlclBsb3QoKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJHTC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNjYXR0ZXJQbG90LnJlc2l6ZSgpO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS51cGRhdGVEYXRhc2V0ID0gZnVuY3Rpb24gKGRhdGFzZXQpIHtcbiAgICAgICAgdGhpcy5zZXREYXRhc2V0KGRhdGFzZXQpO1xuICAgICAgICB0aGlzLnNjYXR0ZXJQbG90LnNldERpbWVuc2lvbnMoZGF0YXNldC5kaW1lbnNpb25zKTtcbiAgICAgICAgdGhpcy51cGRhdGVTY2F0dGVyUGxvdEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVTY2F0dGVyUGxvdFBvc2l0aW9ucygpO1xuICAgICAgICB0aGlzLnJlbmRlclNjYXR0ZXJQbG90KCk7XG4gICAgfTtcbiAgICBTY2F0dGVyR0wucHJvdG90eXBlLmlzT3JiaXRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYXR0ZXJQbG90Lm9yYml0SXNBbmltYXRpbmcoKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJHTC5wcm90b3R5cGUuc3RhcnRPcmJpdEFuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zY2F0dGVyUGxvdC5zdGFydE9yYml0QW5pbWF0aW9uKCk7XG4gICAgfTtcbiAgICBTY2F0dGVyR0wucHJvdG90eXBlLnN0b3BPcmJpdEFuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zY2F0dGVyUGxvdC5zdG9wT3JiaXRBbmltYXRpb24oKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJHTC5wcm90b3R5cGUuc2V0RGF0YXNldCA9IGZ1bmN0aW9uIChkYXRhc2V0KSB7XG4gICAgICAgIHRoaXMuZGF0YXNldCA9IGRhdGFzZXQ7XG4gICAgICAgIGlmICh0aGlzLmxhYmVsczNEVmlzdWFsaXplcikge1xuICAgICAgICAgICAgdGhpcy5sYWJlbHMzRFZpc3VhbGl6ZXIuc2V0TGFiZWxTdHJpbmdzKHRoaXMuZ2VuZXJhdGUzRExhYmVsc0FycmF5KCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTY2F0dGVyR0wucHJvdG90eXBlLnVwZGF0ZVNjYXR0ZXJQbG90UG9zaXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YXNldCA9IHRoaXMuZGF0YXNldDtcbiAgICAgICAgaWYgKCFkYXRhc2V0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgbmV3UG9zaXRpb25zID0gdGhpcy5nZW5lcmF0ZVBvaW50UG9zaXRpb25BcnJheShkYXRhc2V0KTtcbiAgICAgICAgdGhpcy5zY2F0dGVyUGxvdC5zZXRQb2ludFBvc2l0aW9ucyhuZXdQb3NpdGlvbnMpO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS51cGRhdGVTY2F0dGVyUGxvdEF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhc2V0ID0gdGhpcy5kYXRhc2V0O1xuICAgICAgICBpZiAoIWRhdGFzZXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBwb2ludENvbG9ycyA9IHRoaXMuZ2VuZXJhdGVQb2ludENvbG9yQXJyYXkoZGF0YXNldCk7XG4gICAgICAgIHZhciBwb2ludFNjYWxlRmFjdG9ycyA9IHRoaXMuZ2VuZXJhdGVQb2ludFNjYWxlRmFjdG9yQXJyYXkoZGF0YXNldCk7XG4gICAgICAgIHZhciBsYWJlbHMgPSB0aGlzLmdlbmVyYXRlVmlzaWJsZUxhYmVsUmVuZGVyUGFyYW1zKCk7XG4gICAgICAgIHRoaXMuc2NhdHRlclBsb3Quc2V0UG9pbnRDb2xvcnMocG9pbnRDb2xvcnMpO1xuICAgICAgICB0aGlzLnNjYXR0ZXJQbG90LnNldFBvaW50U2NhbGVGYWN0b3JzKHBvaW50U2NhbGVGYWN0b3JzKTtcbiAgICAgICAgdGhpcy5zY2F0dGVyUGxvdC5zZXRMYWJlbHMobGFiZWxzKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJHTC5wcm90b3R5cGUudXBkYXRlUG9seWxpbmVBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YXNldCA9IHRoaXMuZGF0YXNldDtcbiAgICAgICAgaWYgKCFkYXRhc2V0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgcG9seWxpbmVDb2xvcnMgPSB0aGlzLmdlbmVyYXRlTGluZVNlZ21lbnRDb2xvck1hcChkYXRhc2V0KTtcbiAgICAgICAgdmFyIHBvbHlsaW5lT3BhY2l0aWVzID0gdGhpcy5nZW5lcmF0ZUxpbmVTZWdtZW50T3BhY2l0eUFycmF5KGRhdGFzZXQpO1xuICAgICAgICB2YXIgcG9seWxpbmVXaWR0aHMgPSB0aGlzLmdlbmVyYXRlTGluZVNlZ21lbnRXaWR0aEFycmF5KGRhdGFzZXQpO1xuICAgICAgICB0aGlzLnNjYXR0ZXJQbG90LnNldFBvbHlsaW5lQ29sb3JzKHBvbHlsaW5lQ29sb3JzKTtcbiAgICAgICAgdGhpcy5zY2F0dGVyUGxvdC5zZXRQb2x5bGluZU9wYWNpdGllcyhwb2x5bGluZU9wYWNpdGllcyk7XG4gICAgICAgIHRoaXMuc2NhdHRlclBsb3Quc2V0UG9seWxpbmVXaWR0aHMocG9seWxpbmVXaWR0aHMpO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5nZW5lcmF0ZVBvaW50UG9zaXRpb25BcnJheSA9IGZ1bmN0aW9uIChkYXRhc2V0KSB7XG4gICAgICAgIHZhciB4RXh0ZW50ID0gWzAsIDBdO1xuICAgICAgICB2YXIgeUV4dGVudCA9IFswLCAwXTtcbiAgICAgICAgdmFyIHpFeHRlbnQgPSBbMCwgMF07XG4gICAgICAgIHhFeHRlbnQgPSB1dGlsLmV4dGVudChkYXRhc2V0LnBvaW50cy5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHBbMF07IH0pKTtcbiAgICAgICAgeUV4dGVudCA9IHV0aWwuZXh0ZW50KGRhdGFzZXQucG9pbnRzLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gcFsxXTsgfSkpO1xuICAgICAgICBpZiAoZGF0YXNldC5kaW1lbnNpb25zID09PSAzKSB7XG4gICAgICAgICAgICB6RXh0ZW50ID0gdXRpbC5leHRlbnQoZGF0YXNldC5wb2ludHMubWFwKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwWzJdOyB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdldFJhbmdlID0gZnVuY3Rpb24gKGV4dGVudCkgeyByZXR1cm4gTWF0aC5hYnMoZXh0ZW50WzFdIC0gZXh0ZW50WzBdKTsgfTtcbiAgICAgICAgdmFyIHhSYW5nZSA9IGdldFJhbmdlKHhFeHRlbnQpO1xuICAgICAgICB2YXIgeVJhbmdlID0gZ2V0UmFuZ2UoeUV4dGVudCk7XG4gICAgICAgIHZhciB6UmFuZ2UgPSBnZXRSYW5nZSh6RXh0ZW50KTtcbiAgICAgICAgdmFyIG1heFJhbmdlID0gTWF0aC5tYXgoeFJhbmdlLCB5UmFuZ2UsIHpSYW5nZSk7XG4gICAgICAgIHZhciBoYWxmQ3ViZSA9IGNvbnN0YW50c18xLlNDQVRURVJfUExPVF9DVUJFX0xFTkdUSCAvIDI7XG4gICAgICAgIHZhciBtYWtlU2NhbGVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSwgYmFzZSkgeyByZXR1cm4gW1xuICAgICAgICAgICAgLWJhc2UgKiAocmFuZ2UgLyBtYXhSYW5nZSksXG4gICAgICAgICAgICBiYXNlICogKHJhbmdlIC8gbWF4UmFuZ2UpLFxuICAgICAgICBdOyB9O1xuICAgICAgICB2YXIgeFNjYWxlID0gbWFrZVNjYWxlUmFuZ2UoeFJhbmdlLCBoYWxmQ3ViZSk7XG4gICAgICAgIHZhciB5U2NhbGUgPSBtYWtlU2NhbGVSYW5nZSh5UmFuZ2UsIGhhbGZDdWJlKTtcbiAgICAgICAgdmFyIHpTY2FsZSA9IG1ha2VTY2FsZVJhbmdlKHpSYW5nZSwgaGFsZkN1YmUpO1xuICAgICAgICB2YXIgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShkYXRhc2V0LnBvaW50cy5sZW5ndGggKiAzKTtcbiAgICAgICAgdmFyIGRzdCA9IDA7XG4gICAgICAgIGRhdGFzZXQucG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKGQsIGkpIHtcbiAgICAgICAgICAgIHZhciB2ZWN0b3IgPSBkYXRhc2V0LnBvaW50c1tpXTtcbiAgICAgICAgICAgIHBvc2l0aW9uc1tkc3QrK10gPSB1dGlsLnNjYWxlTGluZWFyKHZlY3RvclswXSwgeEV4dGVudCwgeFNjYWxlKTtcbiAgICAgICAgICAgIHBvc2l0aW9uc1tkc3QrK10gPSB1dGlsLnNjYWxlTGluZWFyKHZlY3RvclsxXSwgeUV4dGVudCwgeVNjYWxlKTtcbiAgICAgICAgICAgIGlmIChkYXRhc2V0LmRpbWVuc2lvbnMgPT09IDMpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnNbZHN0KytdID0gdXRpbC5zY2FsZUxpbmVhcih2ZWN0b3JbMl0sIHpFeHRlbnQsIHpTY2FsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnNbZHN0KytdID0gMC4wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9ucztcbiAgICB9O1xuICAgIFNjYXR0ZXJHTC5wcm90b3R5cGUuZ2VuZXJhdGVWaXNpYmxlTGFiZWxSZW5kZXJQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGhvdmVyUG9pbnRJbmRleCA9IF9hLmhvdmVyUG9pbnRJbmRleCwgc2VsZWN0ZWRQb2ludEluZGljZXMgPSBfYS5zZWxlY3RlZFBvaW50SW5kaWNlcywgc3R5bGVzID0gX2Euc3R5bGVzO1xuICAgICAgICB2YXIgbiA9IGhvdmVyUG9pbnRJbmRleCAhPT0gbnVsbCA/IDEgOiAwO1xuICAgICAgICB2YXIgdmlzaWJsZUxhYmVscyA9IG5ldyBVaW50MzJBcnJheShuKTtcbiAgICAgICAgdmFyIHNjYWxlID0gbmV3IEZsb2F0MzJBcnJheShuKTtcbiAgICAgICAgdmFyIG9wYWNpdHlGbGFncyA9IG5ldyBJbnQ4QXJyYXkobik7XG4gICAgICAgIHZhciBmaWxsQ29sb3JzID0gbmV3IFVpbnQ4QXJyYXkobiAqIDMpO1xuICAgICAgICB2YXIgc3Ryb2tlQ29sb3JzID0gbmV3IFVpbnQ4QXJyYXkobiAqIDMpO1xuICAgICAgICB2YXIgbGFiZWxTdHJpbmdzID0gW107XG4gICAgICAgIHNjYWxlLmZpbGwoc3R5bGVzLmxhYmVsLnNjYWxlRGVmYXVsdCk7XG4gICAgICAgIG9wYWNpdHlGbGFncy5maWxsKDEpO1xuICAgICAgICB2YXIgZHN0ID0gMDtcbiAgICAgICAgaWYgKGhvdmVyUG9pbnRJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbGFiZWxTdHJpbmdzLnB1c2godGhpcy5nZXRMYWJlbFRleHQoaG92ZXJQb2ludEluZGV4KSk7XG4gICAgICAgICAgICB2aXNpYmxlTGFiZWxzW2RzdF0gPSBob3ZlclBvaW50SW5kZXg7XG4gICAgICAgICAgICBzY2FsZVtkc3RdID0gc3R5bGVzLmxhYmVsLnNjYWxlTGFyZ2U7XG4gICAgICAgICAgICBvcGFjaXR5RmxhZ3NbZHN0XSA9IDA7XG4gICAgICAgICAgICB2YXIgZmlsbFJnYiA9IHV0aWwuc3R5bGVSZ2JGcm9tSGV4Q29sb3Ioc3R5bGVzLmxhYmVsLmZpbGxDb2xvckhvdmVyKTtcbiAgICAgICAgICAgIHV0aWwucGFja1JnYkludG9VaW50OEFycmF5KGZpbGxDb2xvcnMsIGRzdCwgZmlsbFJnYlswXSwgZmlsbFJnYlsxXSwgZmlsbFJnYlsyXSk7XG4gICAgICAgICAgICB2YXIgc3Ryb2tlUmdiID0gdXRpbC5zdHlsZVJnYkZyb21IZXhDb2xvcihzdHlsZXMubGFiZWwuc3Ryb2tlQ29sb3JIb3Zlcik7XG4gICAgICAgICAgICB1dGlsLnBhY2tSZ2JJbnRvVWludDhBcnJheShzdHJva2VDb2xvcnMsIGRzdCwgc3Ryb2tlUmdiWzBdLCBzdHJva2VSZ2JbMV0sIHN0cm9rZVJnYlsxXSk7XG4gICAgICAgICAgICArK2RzdDtcbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZmlsbFJnYiA9IHV0aWwuc3R5bGVSZ2JGcm9tSGV4Q29sb3Ioc3R5bGVzLmxhYmVsLmZpbGxDb2xvclNlbGVjdGVkKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VSZ2IgPSB1dGlsLnN0eWxlUmdiRnJvbUhleENvbG9yKHN0eWxlcy5sYWJlbC5zdHJva2VDb2xvclNlbGVjdGVkKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFBvaW50SW5kaWNlcy5zaXplID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhYmVsSW5kZXggPSBfX3NwcmVhZChzZWxlY3RlZFBvaW50SW5kaWNlcylbMF07XG4gICAgICAgICAgICAgICAgbGFiZWxTdHJpbmdzLnB1c2godGhpcy5nZXRMYWJlbFRleHQobGFiZWxJbmRleCkpO1xuICAgICAgICAgICAgICAgIHZpc2libGVMYWJlbHNbZHN0XSA9IGxhYmVsSW5kZXg7XG4gICAgICAgICAgICAgICAgc2NhbGVbZHN0XSA9IHN0eWxlcy5sYWJlbC5zY2FsZUxhcmdlO1xuICAgICAgICAgICAgICAgIG9wYWNpdHlGbGFnc1tkc3RdID0gMDtcbiAgICAgICAgICAgICAgICB1dGlsLnBhY2tSZ2JJbnRvVWludDhBcnJheShmaWxsQ29sb3JzLCBkc3QsIGZpbGxSZ2JbMF0sIGZpbGxSZ2JbMV0sIGZpbGxSZ2JbMl0pO1xuICAgICAgICAgICAgICAgIHV0aWwucGFja1JnYkludG9VaW50OEFycmF5KHN0cm9rZUNvbG9ycywgZHN0LCBzdHJva2VSZ2JbMF0sIHN0cm9rZVJnYlsxXSwgc3Ryb2tlUmdiWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IHJlbmRlcl8xLkxhYmVsUmVuZGVyUGFyYW1zKG5ldyBGbG9hdDMyQXJyYXkodmlzaWJsZUxhYmVscyksIGxhYmVsU3RyaW5ncywgc2NhbGUsIG9wYWNpdHlGbGFncywgc3R5bGVzLmxhYmVsLmZvbnRTaXplLCBmaWxsQ29sb3JzLCBzdHJva2VDb2xvcnMpO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5nZW5lcmF0ZVBvaW50U2NhbGVGYWN0b3JBcnJheSA9IGZ1bmN0aW9uIChkYXRhc2V0KSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgX2IgPSB0aGlzLCBob3ZlclBvaW50SW5kZXggPSBfYi5ob3ZlclBvaW50SW5kZXgsIHNlbGVjdGVkUG9pbnRJbmRpY2VzID0gX2Iuc2VsZWN0ZWRQb2ludEluZGljZXMsIHN0eWxlcyA9IF9iLnN0eWxlcztcbiAgICAgICAgdmFyIF9jID0gc3R5bGVzLnBvaW50LCBzY2FsZURlZmF1bHQgPSBfYy5zY2FsZURlZmF1bHQsIHNjYWxlU2VsZWN0ZWQgPSBfYy5zY2FsZVNlbGVjdGVkLCBzY2FsZUhvdmVyID0gX2Muc2NhbGVIb3ZlcjtcbiAgICAgICAgdmFyIHNjYWxlID0gbmV3IEZsb2F0MzJBcnJheShkYXRhc2V0LnBvaW50cy5sZW5ndGgpO1xuICAgICAgICBzY2FsZS5maWxsKHNjYWxlRGVmYXVsdCk7XG4gICAgICAgIHZhciBzZWxlY3RlZFBvaW50Q291bnQgPSBzZWxlY3RlZFBvaW50SW5kaWNlcy5zaXplO1xuICAgICAgICB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9kID0gX192YWx1ZXMoc2VsZWN0ZWRQb2ludEluZGljZXMudmFsdWVzKCkpLCBfZSA9IF9kLm5leHQoKTsgIV9lLmRvbmU7IF9lID0gX2QubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gX2UudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlW3BdID0gc2NhbGVTZWxlY3RlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9lICYmICFfZS5kb25lICYmIChfYSA9IF9kLnJldHVybikpIF9hLmNhbGwoX2QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhvdmVyUG9pbnRJbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICBzY2FsZVtob3ZlclBvaW50SW5kZXhdID0gc2NhbGVIb3ZlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NhbGU7XG4gICAgfTtcbiAgICBTY2F0dGVyR0wucHJvdG90eXBlLmdlbmVyYXRlUG9pbnRDb2xvckFycmF5ID0gZnVuY3Rpb24gKGRhdGFzZXQpIHtcbiAgICAgICAgdmFyIGVfMiwgX2E7XG4gICAgICAgIHZhciBfYiA9IHRoaXMsIGhvdmVyUG9pbnRJbmRleCA9IF9iLmhvdmVyUG9pbnRJbmRleCwgcG9pbnRDb2xvcmVyID0gX2IucG9pbnRDb2xvcmVyLCBzZWxlY3RlZFBvaW50SW5kaWNlcyA9IF9iLnNlbGVjdGVkUG9pbnRJbmRpY2VzLCBzdHlsZXMgPSBfYi5zdHlsZXM7XG4gICAgICAgIHZhciBfYyA9IHN0eWxlcy5wb2ludCwgY29sb3JIb3ZlciA9IF9jLmNvbG9ySG92ZXIsIGNvbG9yTm9TZWxlY3Rpb24gPSBfYy5jb2xvck5vU2VsZWN0aW9uLCBjb2xvclNlbGVjdGVkID0gX2MuY29sb3JTZWxlY3RlZCwgY29sb3JVbnNlbGVjdGVkID0gX2MuY29sb3JVbnNlbGVjdGVkO1xuICAgICAgICB2YXIgY29sb3JzID0gbmV3IEZsb2F0MzJBcnJheShkYXRhc2V0LnBvaW50cy5sZW5ndGggKiBjb25zdGFudHNfMS5SR0JBX05VTV9FTEVNRU5UUyk7XG4gICAgICAgIHZhciB1bnNlbGVjdGVkQ29sb3IgPSBjb2xvclVuc2VsZWN0ZWQ7XG4gICAgICAgIHZhciBub1NlbGVjdGlvbkNvbG9yID0gY29sb3JOb1NlbGVjdGlvbjtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyTW9kZSA9PT0gXCJURVhUXCIpIHtcbiAgICAgICAgICAgIHVuc2VsZWN0ZWRDb2xvciA9IHRoaXMuc3R5bGVzLmxhYmVsM0QuY29sb3JVbnNlbGVjdGVkO1xuICAgICAgICAgICAgbm9TZWxlY3Rpb25Db2xvciA9IHRoaXMuc3R5bGVzLmxhYmVsM0QuY29sb3JOb1NlbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZW5kZXJNb2RlID09PSBcIlNQUklURVwiKSB7XG4gICAgICAgICAgICB1bnNlbGVjdGVkQ29sb3IgPSB0aGlzLnN0eWxlcy5zcHJpdGVzLmNvbG9yVW5zZWxlY3RlZDtcbiAgICAgICAgICAgIG5vU2VsZWN0aW9uQ29sb3IgPSB0aGlzLnN0eWxlcy5zcHJpdGVzLmNvbG9yTm9TZWxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG4gPSBkYXRhc2V0LnBvaW50cy5sZW5ndGg7XG4gICAgICAgIHZhciBzZWxlY3RlZFBvaW50Q291bnQgPSB0aGlzLnNlbGVjdGVkUG9pbnRJbmRpY2VzLnNpemU7XG4gICAgICAgIGlmIChwb2ludENvbG9yZXIpIHtcbiAgICAgICAgICAgIHZhciBkc3QgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgYyA9IGNvbG9yXzEucGFyc2VDb2xvcih0aGlzLmNhbGxQb2ludENvbG9yZXIocG9pbnRDb2xvcmVyLCBpKSB8fCBub1NlbGVjdGlvbkNvbG9yKTtcbiAgICAgICAgICAgICAgICBjb2xvcnNbZHN0KytdID0gYy5yO1xuICAgICAgICAgICAgICAgIGNvbG9yc1tkc3QrK10gPSBjLmc7XG4gICAgICAgICAgICAgICAgY29sb3JzW2RzdCsrXSA9IGMuYjtcbiAgICAgICAgICAgICAgICBjb2xvcnNbZHN0KytdID0gYy5vcGFjaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRzdCA9IDA7XG4gICAgICAgICAgICB2YXIgYyA9IHNlbGVjdGVkUG9pbnRDb3VudCA+IDBcbiAgICAgICAgICAgICAgICA/IGNvbG9yXzEucGFyc2VDb2xvcih1bnNlbGVjdGVkQ29sb3IpXG4gICAgICAgICAgICAgICAgOiBjb2xvcl8xLnBhcnNlQ29sb3Iobm9TZWxlY3Rpb25Db2xvcik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbG9yc1tkc3QrK10gPSBjLnI7XG4gICAgICAgICAgICAgICAgY29sb3JzW2RzdCsrXSA9IGMuZztcbiAgICAgICAgICAgICAgICBjb2xvcnNbZHN0KytdID0gYy5iO1xuICAgICAgICAgICAgICAgIGNvbG9yc1tkc3QrK10gPSBjLm9wYWNpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjID0gY29sb3JfMS5wYXJzZUNvbG9yKGNvbG9yU2VsZWN0ZWQpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfZCA9IF9fdmFsdWVzKHNlbGVjdGVkUG9pbnRJbmRpY2VzLnZhbHVlcygpKSwgX2UgPSBfZC5uZXh0KCk7ICFfZS5kb25lOyBfZSA9IF9kLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRQb2ludEluZGV4ID0gX2UudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkc3RfMSA9IHNlbGVjdGVkUG9pbnRJbmRleCAqIGNvbnN0YW50c18xLlJHQkFfTlVNX0VMRU1FTlRTO1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnNbZHN0XzErK10gPSBjLnI7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yc1tkc3RfMSsrXSA9IGMuZztcbiAgICAgICAgICAgICAgICAgICAgY29sb3JzW2RzdF8xKytdID0gYy5iO1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnNbZHN0XzErK10gPSBjLm9wYWNpdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZSAmJiAhX2UuZG9uZSAmJiAoX2EgPSBfZC5yZXR1cm4pKSBfYS5jYWxsKF9kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhvdmVyUG9pbnRJbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNfMSA9IGNvbG9yXzEucGFyc2VDb2xvcihjb2xvckhvdmVyKTtcbiAgICAgICAgICAgICAgICB2YXIgZHN0XzIgPSBob3ZlclBvaW50SW5kZXggKiBjb25zdGFudHNfMS5SR0JBX05VTV9FTEVNRU5UUztcbiAgICAgICAgICAgICAgICBjb2xvcnNbZHN0XzIrK10gPSBjXzEucjtcbiAgICAgICAgICAgICAgICBjb2xvcnNbZHN0XzIrK10gPSBjXzEuZztcbiAgICAgICAgICAgICAgICBjb2xvcnNbZHN0XzIrK10gPSBjXzEuYjtcbiAgICAgICAgICAgICAgICBjb2xvcnNbZHN0XzIrK10gPSBjXzEub3BhY2l0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3JzO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5nZW5lcmF0ZTNETGFiZWxzQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhc2V0ID0gdGhpcy5kYXRhc2V0O1xuICAgICAgICBpZiAoIWRhdGFzZXQpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIHZhciBsYWJlbHMgPSBbXTtcbiAgICAgICAgdmFyIG4gPSBkYXRhc2V0LnBvaW50cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICBsYWJlbHMucHVzaCh0aGlzLmdldExhYmVsVGV4dChpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxhYmVscztcbiAgICB9O1xuICAgIFNjYXR0ZXJHTC5wcm90b3R5cGUuZ2VuZXJhdGVMaW5lU2VnbWVudENvbG9yTWFwID0gZnVuY3Rpb24gKGRhdGFzZXQpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgcG9pbnRDb2xvcmVyID0gX2EucG9pbnRDb2xvcmVyLCBzdHlsZXMgPSBfYS5zdHlsZXM7XG4gICAgICAgIHZhciBwb2x5bGluZUNvbG9yQXJyYXlNYXAgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlcXVlbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNlcXVlbmNlID0gdGhpcy5zZXF1ZW5jZXNbaV07XG4gICAgICAgICAgICB2YXIgY29sb3JzID0gbmV3IEZsb2F0MzJBcnJheSgyICogKHNlcXVlbmNlLmluZGljZXMubGVuZ3RoIC0gMSkgKiAzKTtcbiAgICAgICAgICAgIHZhciBjb2xvckluZGV4ID0gMDtcbiAgICAgICAgICAgIGlmIChwb2ludENvbG9yZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNlcXVlbmNlLmluZGljZXMubGVuZ3RoIC0gMTsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjMSA9IGNvbG9yXzEucGFyc2VDb2xvcih0aGlzLmNhbGxQb2ludENvbG9yZXIocG9pbnRDb2xvcmVyLCBzZXF1ZW5jZS5pbmRpY2VzW2pdKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjMiA9IGNvbG9yXzEucGFyc2VDb2xvcih0aGlzLmNhbGxQb2ludENvbG9yZXIocG9pbnRDb2xvcmVyLCBzZXF1ZW5jZS5pbmRpY2VzW2ogKyAxXSkpO1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnNbY29sb3JJbmRleCsrXSA9IGMxLnI7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yc1tjb2xvckluZGV4KytdID0gYzEuZztcbiAgICAgICAgICAgICAgICAgICAgY29sb3JzW2NvbG9ySW5kZXgrK10gPSBjMS5iO1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnNbY29sb3JJbmRleCsrXSA9IGMyLnI7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yc1tjb2xvckluZGV4KytdID0gYzIuZztcbiAgICAgICAgICAgICAgICAgICAgY29sb3JzW2NvbG9ySW5kZXgrK10gPSBjMi5iO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2VxdWVuY2UuaW5kaWNlcy5sZW5ndGggLSAxOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGMxID0gdXRpbC5nZXREZWZhdWx0UG9pbnRJblBvbHlsaW5lQ29sb3Ioaiwgc2VxdWVuY2UuaW5kaWNlcy5sZW5ndGgsIHN0eWxlcy5wb2x5bGluZS5zdGFydEh1ZSwgc3R5bGVzLnBvbHlsaW5lLmVuZEh1ZSwgc3R5bGVzLnBvbHlsaW5lLnNhdHVyYXRpb24sIHN0eWxlcy5wb2x5bGluZS5saWdodG5lc3MpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYzIgPSB1dGlsLmdldERlZmF1bHRQb2ludEluUG9seWxpbmVDb2xvcihqICsgMSwgc2VxdWVuY2UuaW5kaWNlcy5sZW5ndGgsIHN0eWxlcy5wb2x5bGluZS5zdGFydEh1ZSwgc3R5bGVzLnBvbHlsaW5lLmVuZEh1ZSwgc3R5bGVzLnBvbHlsaW5lLnNhdHVyYXRpb24sIHN0eWxlcy5wb2x5bGluZS5saWdodG5lc3MpO1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnNbY29sb3JJbmRleCsrXSA9IGMxLnI7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yc1tjb2xvckluZGV4KytdID0gYzEuZztcbiAgICAgICAgICAgICAgICAgICAgY29sb3JzW2NvbG9ySW5kZXgrK10gPSBjMS5iO1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnNbY29sb3JJbmRleCsrXSA9IGMyLnI7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yc1tjb2xvckluZGV4KytdID0gYzIuZztcbiAgICAgICAgICAgICAgICAgICAgY29sb3JzW2NvbG9ySW5kZXgrK10gPSBjMi5iO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvbHlsaW5lQ29sb3JBcnJheU1hcFtpXSA9IGNvbG9ycztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9seWxpbmVDb2xvckFycmF5TWFwO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5nZW5lcmF0ZUxpbmVTZWdtZW50T3BhY2l0eUFycmF5ID0gZnVuY3Rpb24gKGRhdGFzZXQpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgc2VsZWN0ZWRQb2ludEluZGljZXMgPSBfYS5zZWxlY3RlZFBvaW50SW5kaWNlcywgc3R5bGVzID0gX2Euc3R5bGVzO1xuICAgICAgICB2YXIgb3BhY2l0aWVzID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnNlcXVlbmNlcy5sZW5ndGgpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRQb2ludENvdW50ID0gc2VsZWN0ZWRQb2ludEluZGljZXMuc2l6ZTtcbiAgICAgICAgaWYgKHNlbGVjdGVkUG9pbnRDb3VudCA+IDApIHtcbiAgICAgICAgICAgIG9wYWNpdGllcy5maWxsKHN0eWxlcy5wb2x5bGluZS5kZXNlbGVjdGVkT3BhY2l0eSk7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMucG9seWxpbmVWaXN1YWxpemVyLmdldFBvaW50U2VxdWVuY2VJbmRleChfX3NwcmVhZChzZWxlY3RlZFBvaW50SW5kaWNlcylbMF0pO1xuICAgICAgICAgICAgaWYgKGkgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBvcGFjaXRpZXNbaV0gPSBzdHlsZXMucG9seWxpbmUuc2VsZWN0ZWRPcGFjaXR5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3BhY2l0aWVzLmZpbGwoc3R5bGVzLnBvbHlsaW5lLmRlZmF1bHRPcGFjaXR5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3BhY2l0aWVzO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5nZW5lcmF0ZUxpbmVTZWdtZW50V2lkdGhBcnJheSA9IGZ1bmN0aW9uIChkYXRhc2V0KSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHNlbGVjdGVkUG9pbnRJbmRpY2VzID0gX2Euc2VsZWN0ZWRQb2ludEluZGljZXMsIHN0eWxlcyA9IF9hLnN0eWxlcztcbiAgICAgICAgdmFyIHdpZHRocyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5zZXF1ZW5jZXMubGVuZ3RoKTtcbiAgICAgICAgd2lkdGhzLmZpbGwoc3R5bGVzLnBvbHlsaW5lLmRlZmF1bHRMaW5lV2lkdGgpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRQb2ludENvdW50ID0gc2VsZWN0ZWRQb2ludEluZGljZXMuc2l6ZTtcbiAgICAgICAgaWYgKHNlbGVjdGVkUG9pbnRDb3VudCA+IDApIHtcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5wb2x5bGluZVZpc3VhbGl6ZXIuZ2V0UG9pbnRTZXF1ZW5jZUluZGV4KF9fc3ByZWFkKHNlbGVjdGVkUG9pbnRJbmRpY2VzKVswXSk7XG4gICAgICAgICAgICBpZiAoaSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHdpZHRoc1tpXSA9IHN0eWxlcy5wb2x5bGluZS5zZWxlY3RlZExpbmVXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2lkdGhzO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5nZXRMYWJlbFRleHQgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICB2YXIgZGF0YXNldCA9IHRoaXMuZGF0YXNldDtcbiAgICAgICAgaWYgKCFkYXRhc2V0KVxuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB2YXIgbWV0YWRhdGEgPSBkYXRhc2V0Lm1ldGFkYXRhW2ldO1xuICAgICAgICByZXR1cm4gbWV0YWRhdGEgJiYgbWV0YWRhdGEubGFiZWwgIT0gbnVsbCA/IFwiXCIgKyBtZXRhZGF0YS5sYWJlbCA6ICcnO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5pbml0aWFsaXplQ2FudmFzTGFiZWxzVmlzdWFsaXplciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbnZhc0xhYmVsc1Zpc3VhbGl6ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzTGFiZWxzVmlzdWFsaXplciA9IG5ldyBzY2F0dGVyX3Bsb3RfdmlzdWFsaXplcl9jYW52YXNfbGFiZWxzXzEuU2NhdHRlclBsb3RWaXN1YWxpemVyQ2FudmFzTGFiZWxzKHRoaXMuY29udGFpbmVyRWxlbWVudCwgdGhpcy5zdHlsZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhc0xhYmVsc1Zpc3VhbGl6ZXI7XG4gICAgfTtcbiAgICBTY2F0dGVyR0wucHJvdG90eXBlLmluaXRpYWxpemUzRExhYmVsc1Zpc3VhbGl6ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5sYWJlbHMzRFZpc3VhbGl6ZXIpIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWxzM0RWaXN1YWxpemVyID0gbmV3IHNjYXR0ZXJfcGxvdF92aXN1YWxpemVyXzNkX2xhYmVsc18xLlNjYXR0ZXJQbG90VmlzdWFsaXplcjNETGFiZWxzKHRoaXMuc3R5bGVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhYmVsczNEVmlzdWFsaXplci5zZXRMYWJlbFN0cmluZ3ModGhpcy5nZW5lcmF0ZTNETGFiZWxzQXJyYXkoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxhYmVsczNEVmlzdWFsaXplcjtcbiAgICB9O1xuICAgIFNjYXR0ZXJHTC5wcm90b3R5cGUuaW5pdGlhbGl6ZVBvaW50VmlzdWFsaXplciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBvaW50VmlzdWFsaXplcikge1xuICAgICAgICAgICAgdGhpcy5wb2ludFZpc3VhbGl6ZXIgPSBuZXcgc2NhdHRlcl9wbG90X3Zpc3VhbGl6ZXJfc3ByaXRlc18xLlNjYXR0ZXJQbG90VmlzdWFsaXplclNwcml0ZXModGhpcy5zdHlsZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50VmlzdWFsaXplcjtcbiAgICB9O1xuICAgIFNjYXR0ZXJHTC5wcm90b3R5cGUuaW5pdGlhbGl6ZVNwcml0ZXNoZWV0VmlzdWFsaXplciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHN0eWxlcyA9IHRoaXMuc3R5bGVzO1xuICAgICAgICB2YXIgZGF0YXNldCA9IHRoaXMuZGF0YXNldDtcbiAgICAgICAgdmFyIHNwcml0ZU1ldGFkYXRhID0gZGF0YXNldC5zcHJpdGVNZXRhZGF0YTtcbiAgICAgICAgaWYgKCF0aGlzLnNwcml0ZXNoZWV0VmlzdWFsaXplciAmJiBzcHJpdGVNZXRhZGF0YSkge1xuICAgICAgICAgICAgaWYgKCFzcHJpdGVNZXRhZGF0YS5zcHJpdGVJbWFnZSB8fCAhc3ByaXRlTWV0YWRhdGEuc2luZ2xlU3ByaXRlU2l6ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuID0gZGF0YXNldC5wb2ludHMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHNwcml0ZUluZGljZXMgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoc3ByaXRlTWV0YWRhdGEuc3ByaXRlSW5kaWNlcykge1xuICAgICAgICAgICAgICAgIHNwcml0ZUluZGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHNwcml0ZU1ldGFkYXRhLnNwcml0ZUluZGljZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3ByaXRlSW5kaWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkobik7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlSW5kaWNlc1tpXSA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9uSW1hZ2VMb2FkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucmVuZGVyU2NhdHRlclBsb3QoKTsgfTtcbiAgICAgICAgICAgIHZhciBzcHJpdGVzaGVldFZpc3VhbGl6ZXIgPSBuZXcgc2NhdHRlcl9wbG90X3Zpc3VhbGl6ZXJfc3ByaXRlc18xLlNjYXR0ZXJQbG90VmlzdWFsaXplclNwcml0ZXMoc3R5bGVzLCB7XG4gICAgICAgICAgICAgICAgc3ByaXRlc2hlZXRJbWFnZTogc3ByaXRlTWV0YWRhdGEuc3ByaXRlSW1hZ2UsXG4gICAgICAgICAgICAgICAgc3ByaXRlRGltZW5zaW9uczogc3ByaXRlTWV0YWRhdGEuc2luZ2xlU3ByaXRlU2l6ZSxcbiAgICAgICAgICAgICAgICBzcHJpdGVJbmRpY2VzOiBzcHJpdGVJbmRpY2VzLFxuICAgICAgICAgICAgICAgIG9uSW1hZ2VMb2FkOiBvbkltYWdlTG9hZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3ByaXRlc2hlZXRWaXN1YWxpemVyLmlkID0gJ1NQUklURV9TSEVFVF9WSVNVQUxJWkVSJztcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlc2hlZXRWaXN1YWxpemVyID0gc3ByaXRlc2hlZXRWaXN1YWxpemVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNwcml0ZXNoZWV0VmlzdWFsaXplcjtcbiAgICB9O1xuICAgIFNjYXR0ZXJHTC5wcm90b3R5cGUuaW5pdGlhbGl6ZVBvbHlsaW5lVmlzdWFsaXplciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBvbHlsaW5lVmlzdWFsaXplcikge1xuICAgICAgICAgICAgdGhpcy5wb2x5bGluZVZpc3VhbGl6ZXIgPSBuZXcgc2NhdHRlcl9wbG90X3Zpc3VhbGl6ZXJfcG9seWxpbmVzXzEuU2NhdHRlclBsb3RWaXN1YWxpemVyUG9seWxpbmVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb2x5bGluZVZpc3VhbGl6ZXIuc2V0U2VxdWVuY2VzKHRoaXMuc2VxdWVuY2VzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9seWxpbmVWaXN1YWxpemVyO1xuICAgIH07XG4gICAgU2NhdHRlckdMLnByb3RvdHlwZS5zZXRWaXN1YWxpemVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZGF0YXNldCA9IF9hLmRhdGFzZXQsIHJlbmRlck1vZGUgPSBfYS5yZW5kZXJNb2RlO1xuICAgICAgICB2YXIgYWN0aXZlVmlzdWFsaXplcnMgPSBbXTtcbiAgICAgICAgaWYgKHJlbmRlck1vZGUgPT09IFwiVEVYVFwiKSB7XG4gICAgICAgICAgICB2YXIgdmlzdWFsaXplciA9IHRoaXMuaW5pdGlhbGl6ZTNETGFiZWxzVmlzdWFsaXplcigpO1xuICAgICAgICAgICAgYWN0aXZlVmlzdWFsaXplcnMucHVzaCh2aXN1YWxpemVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZW5kZXJNb2RlID09PSBcIlBPSU5UXCIpIHtcbiAgICAgICAgICAgIHZhciB2aXN1YWxpemVyID0gdGhpcy5pbml0aWFsaXplUG9pbnRWaXN1YWxpemVyKCk7XG4gICAgICAgICAgICBhY3RpdmVWaXN1YWxpemVycy5wdXNoKHZpc3VhbGl6ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlbmRlck1vZGUgPT09IFwiU1BSSVRFXCIgJiYgZGF0YXNldC5zcHJpdGVNZXRhZGF0YSkge1xuICAgICAgICAgICAgdmFyIHZpc3VhbGl6ZXIgPSB0aGlzLmluaXRpYWxpemVTcHJpdGVzaGVldFZpc3VhbGl6ZXIoKTtcbiAgICAgICAgICAgIGlmICh2aXN1YWxpemVyKVxuICAgICAgICAgICAgICAgIGFjdGl2ZVZpc3VhbGl6ZXJzLnB1c2godmlzdWFsaXplcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2VxdWVuY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciB2aXN1YWxpemVyID0gdGhpcy5pbml0aWFsaXplUG9seWxpbmVWaXN1YWxpemVyKCk7XG4gICAgICAgICAgICBhY3RpdmVWaXN1YWxpemVycy5wdXNoKHZpc3VhbGl6ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0TGFiZWxzUmVuZGVyTW9kZSA9IHJlbmRlck1vZGUgPT09IFwiUE9JTlRcIiB8fCByZW5kZXJNb2RlID09PSBcIlNQUklURVwiO1xuICAgICAgICBpZiAodGV4dExhYmVsc1JlbmRlck1vZGUgJiYgdGhpcy5zaG93TGFiZWxzT25Ib3Zlcikge1xuICAgICAgICAgICAgdmFyIHZpc3VhbGl6ZXIgPSB0aGlzLmluaXRpYWxpemVDYW52YXNMYWJlbHNWaXN1YWxpemVyKCk7XG4gICAgICAgICAgICBhY3RpdmVWaXN1YWxpemVycy5wdXNoKHZpc3VhbGl6ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NhdHRlclBsb3Quc2V0QWN0aXZlVmlzdWFsaXplcnMoYWN0aXZlVmlzdWFsaXplcnMpO1xuICAgIH07XG4gICAgU2NhdHRlckdMLkRhdGFzZXQgPSBkYXRhXzEuRGF0YXNldDtcbiAgICByZXR1cm4gU2NhdHRlckdMO1xufSgpKTtcbmV4cG9ydHMuU2NhdHRlckdMID0gU2NhdHRlckdMO1xuIl0sIm5hbWVzIjpbIl9fcmVhZCIsIm8iLCJuIiwibSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiaSIsImNhbGwiLCJyIiwiYXIiLCJlIiwibmV4dCIsImRvbmUiLCJwdXNoIiwidmFsdWUiLCJlcnJvciIsIl9fc3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY29uY2F0IiwiX192YWx1ZXMiLCJzIiwiVHlwZUVycm9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwic2NhdHRlcl9wbG90XzEiLCJyZXF1aXJlIiwiY29sb3JfMSIsImRhdGFfMSIsInJlbmRlcl8xIiwic3R5bGVzXzEiLCJ1dGlsIiwiY29uc3RhbnRzXzEiLCJzY2F0dGVyX3Bsb3RfdmlzdWFsaXplcl8zZF9sYWJlbHNfMSIsInNjYXR0ZXJfcGxvdF92aXN1YWxpemVyX3Nwcml0ZXNfMSIsInNjYXR0ZXJfcGxvdF92aXN1YWxpemVyX2NhbnZhc19sYWJlbHNfMSIsInNjYXR0ZXJfcGxvdF92aXN1YWxpemVyX3BvbHlsaW5lc18xIiwiU2NhdHRlckdMIiwiY29udGFpbmVyRWxlbWVudCIsInBhcmFtcyIsIl90aGlzIiwicG9pbnRDb2xvcmVyIiwic2VxdWVuY2VzIiwicmVuZGVyTW9kZSIsInJvdGF0ZU9uU3RhcnQiLCJzZWxlY3RFbmFibGVkIiwic2hvd0xhYmVsc09uSG92ZXIiLCJob3ZlclBvaW50SW5kZXgiLCJzZWxlY3RlZFBvaW50SW5kaWNlcyIsIlNldCIsImNsaWNrQ2FsbGJhY2siLCJob3ZlckNhbGxiYWNrIiwic2VsZWN0Q2FsbGJhY2siLCJjYW1lcmFNb3ZlQ2FsbGJhY2siLCJvbkhvdmVyIiwicG9pbnRJbmRleCIsInVwZGF0ZVNjYXR0ZXJQbG90QXR0cmlidXRlcyIsInJlbmRlclNjYXR0ZXJQbG90Iiwib25DbGljayIsInNlbGVjdCIsInBvaW50SW5kaWNlcyIsIm9uU2VsZWN0Iiwic3R5bGVzIiwibWFrZVN0eWxlcyIsInNldFBhcmFtZXRlcnMiLCJzY2F0dGVyUGxvdCIsIlNjYXR0ZXJQbG90IiwiY2FtZXJhIiwib3JiaXRDb250cm9sUGFyYW1zIiwib3JiaXRDb250cm9scyIsIm9uQ2FtZXJhTW92ZSIsInByb3RvdHlwZSIsInAiLCJ1bmRlZmluZWQiLCJyZW5kZXIiLCJkYXRhc2V0IiwidXBkYXRlRGF0YXNldCIsImNsZWFyVmlzdWFsaXplcnMiLCJzZXRWaXN1YWxpemVycyIsInN0YXJ0T3JiaXRBbmltYXRpb24iLCJjYW52YXNMYWJlbHNWaXN1YWxpemVyIiwibGFiZWxzM0RWaXN1YWxpemVyIiwicG9pbnRWaXN1YWxpemVyIiwicG9seWxpbmVWaXN1YWxpemVyIiwic3ByaXRlc2hlZXRWaXN1YWxpemVyIiwiZGlzcG9zZUFsbFZpc3VhbGl6ZXJzIiwicmVzZXRab29tIiwic2V0UmVuZGVyTW9kZSIsInVwZGF0ZVNjYXR0ZXJQbG90UG9zaXRpb25zIiwic2V0VGV4dFJlbmRlck1vZGUiLCJzZXRQb2ludFJlbmRlck1vZGUiLCJzZXRTcHJpdGVSZW5kZXJNb2RlIiwic3ByaXRlTWV0YWRhdGEiLCJzZXRTZXF1ZW5jZXMiLCJ1cGRhdGVQb2x5bGluZUF0dHJpYnV0ZXMiLCJzZXRQYW5Nb2RlIiwic2V0SW50ZXJhY3Rpb25Nb2RlIiwic2V0U2VsZWN0TW9kZSIsInNldERpbWVuc2lvbnMiLCJuRGltZW5zaW9ucyIsIm91dHNpZGVSYW5nZSIsIm1vcmVUaGFuRGF0YXNldCIsImRpbWVuc2lvbnMiLCJSYW5nZUVycm9yIiwic2V0UG9pbnRDb2xvcmVyIiwiY2FsbFBvaW50Q29sb3JlciIsImluZGV4Iiwic2V0SG92ZXJQb2ludEluZGV4Iiwib3JiaXRJc0FuaW1hdGluZyIsInJlc2l6ZSIsInNldERhdGFzZXQiLCJpc09yYml0aW5nIiwic3RvcE9yYml0QW5pbWF0aW9uIiwic2V0TGFiZWxTdHJpbmdzIiwiZ2VuZXJhdGUzRExhYmVsc0FycmF5IiwibmV3UG9zaXRpb25zIiwiZ2VuZXJhdGVQb2ludFBvc2l0aW9uQXJyYXkiLCJzZXRQb2ludFBvc2l0aW9ucyIsInBvaW50Q29sb3JzIiwiZ2VuZXJhdGVQb2ludENvbG9yQXJyYXkiLCJwb2ludFNjYWxlRmFjdG9ycyIsImdlbmVyYXRlUG9pbnRTY2FsZUZhY3RvckFycmF5IiwibGFiZWxzIiwiZ2VuZXJhdGVWaXNpYmxlTGFiZWxSZW5kZXJQYXJhbXMiLCJzZXRQb2ludENvbG9ycyIsInNldFBvaW50U2NhbGVGYWN0b3JzIiwic2V0TGFiZWxzIiwicG9seWxpbmVDb2xvcnMiLCJnZW5lcmF0ZUxpbmVTZWdtZW50Q29sb3JNYXAiLCJwb2x5bGluZU9wYWNpdGllcyIsImdlbmVyYXRlTGluZVNlZ21lbnRPcGFjaXR5QXJyYXkiLCJwb2x5bGluZVdpZHRocyIsImdlbmVyYXRlTGluZVNlZ21lbnRXaWR0aEFycmF5Iiwic2V0UG9seWxpbmVDb2xvcnMiLCJzZXRQb2x5bGluZU9wYWNpdGllcyIsInNldFBvbHlsaW5lV2lkdGhzIiwieEV4dGVudCIsInlFeHRlbnQiLCJ6RXh0ZW50IiwiZXh0ZW50IiwicG9pbnRzIiwibWFwIiwiZ2V0UmFuZ2UiLCJNYXRoIiwiYWJzIiwieFJhbmdlIiwieVJhbmdlIiwielJhbmdlIiwibWF4UmFuZ2UiLCJtYXgiLCJoYWxmQ3ViZSIsIlNDQVRURVJfUExPVF9DVUJFX0xFTkdUSCIsIm1ha2VTY2FsZVJhbmdlIiwicmFuZ2UiLCJiYXNlIiwieFNjYWxlIiwieVNjYWxlIiwielNjYWxlIiwicG9zaXRpb25zIiwiRmxvYXQzMkFycmF5IiwiZHN0IiwiZm9yRWFjaCIsImQiLCJ2ZWN0b3IiLCJzY2FsZUxpbmVhciIsIl9hIiwidmlzaWJsZUxhYmVscyIsIlVpbnQzMkFycmF5Iiwic2NhbGUiLCJvcGFjaXR5RmxhZ3MiLCJJbnQ4QXJyYXkiLCJmaWxsQ29sb3JzIiwiVWludDhBcnJheSIsInN0cm9rZUNvbG9ycyIsImxhYmVsU3RyaW5ncyIsImZpbGwiLCJsYWJlbCIsInNjYWxlRGVmYXVsdCIsImdldExhYmVsVGV4dCIsInNjYWxlTGFyZ2UiLCJmaWxsUmdiIiwic3R5bGVSZ2JGcm9tSGV4Q29sb3IiLCJmaWxsQ29sb3JIb3ZlciIsInBhY2tSZ2JJbnRvVWludDhBcnJheSIsInN0cm9rZVJnYiIsInN0cm9rZUNvbG9ySG92ZXIiLCJmaWxsQ29sb3JTZWxlY3RlZCIsInN0cm9rZUNvbG9yU2VsZWN0ZWQiLCJzaXplIiwibGFiZWxJbmRleCIsIkxhYmVsUmVuZGVyUGFyYW1zIiwiZm9udFNpemUiLCJlXzEiLCJfYiIsIl9jIiwicG9pbnQiLCJzY2FsZVNlbGVjdGVkIiwic2NhbGVIb3ZlciIsInNlbGVjdGVkUG9pbnRDb3VudCIsIl9kIiwidmFsdWVzIiwiX2UiLCJlXzFfMSIsInJldHVybiIsImVfMiIsImNvbG9ySG92ZXIiLCJjb2xvck5vU2VsZWN0aW9uIiwiY29sb3JTZWxlY3RlZCIsImNvbG9yVW5zZWxlY3RlZCIsImNvbG9ycyIsIlJHQkFfTlVNX0VMRU1FTlRTIiwidW5zZWxlY3RlZENvbG9yIiwibm9TZWxlY3Rpb25Db2xvciIsImxhYmVsM0QiLCJzcHJpdGVzIiwiYyIsInBhcnNlQ29sb3IiLCJnIiwiYiIsIm9wYWNpdHkiLCJzZWxlY3RlZFBvaW50SW5kZXgiLCJkc3RfMSIsImVfMl8xIiwiY18xIiwiZHN0XzIiLCJwb2x5bGluZUNvbG9yQXJyYXlNYXAiLCJzZXF1ZW5jZSIsImluZGljZXMiLCJjb2xvckluZGV4IiwiaiIsImMxIiwiYzIiLCJnZXREZWZhdWx0UG9pbnRJblBvbHlsaW5lQ29sb3IiLCJwb2x5bGluZSIsInN0YXJ0SHVlIiwiZW5kSHVlIiwic2F0dXJhdGlvbiIsImxpZ2h0bmVzcyIsIm9wYWNpdGllcyIsImRlc2VsZWN0ZWRPcGFjaXR5IiwiZ2V0UG9pbnRTZXF1ZW5jZUluZGV4Iiwic2VsZWN0ZWRPcGFjaXR5IiwiZGVmYXVsdE9wYWNpdHkiLCJ3aWR0aHMiLCJkZWZhdWx0TGluZVdpZHRoIiwic2VsZWN0ZWRMaW5lV2lkdGgiLCJtZXRhZGF0YSIsImluaXRpYWxpemVDYW52YXNMYWJlbHNWaXN1YWxpemVyIiwiU2NhdHRlclBsb3RWaXN1YWxpemVyQ2FudmFzTGFiZWxzIiwiaW5pdGlhbGl6ZTNETGFiZWxzVmlzdWFsaXplciIsIlNjYXR0ZXJQbG90VmlzdWFsaXplcjNETGFiZWxzIiwiaW5pdGlhbGl6ZVBvaW50VmlzdWFsaXplciIsIlNjYXR0ZXJQbG90VmlzdWFsaXplclNwcml0ZXMiLCJpbml0aWFsaXplU3ByaXRlc2hlZXRWaXN1YWxpemVyIiwic3ByaXRlSW1hZ2UiLCJzaW5nbGVTcHJpdGVTaXplIiwic3ByaXRlSW5kaWNlcyIsIm9uSW1hZ2VMb2FkIiwic3ByaXRlc2hlZXRJbWFnZSIsInNwcml0ZURpbWVuc2lvbnMiLCJpZCIsImluaXRpYWxpemVQb2x5bGluZVZpc3VhbGl6ZXIiLCJTY2F0dGVyUGxvdFZpc3VhbGl6ZXJQb2x5bGluZXMiLCJhY3RpdmVWaXN1YWxpemVycyIsInZpc3VhbGl6ZXIiLCJ0ZXh0TGFiZWxzUmVuZGVyTW9kZSIsInNldEFjdGl2ZVZpc3VhbGl6ZXJzIiwiRGF0YXNldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/scatter_gl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/scatter_plot.js":
/*!******************************************************!*\
  !*** ./node_modules/scatter-gl/dist/scatter_plot.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar __assign = (void 0) && (void 0).__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (void 0) && (void 0).__read || function(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);\n    } catch (error) {\n        e = {\n            error: error\n        };\n    } finally{\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally{\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n};\nvar __values = (void 0) && (void 0).__values || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar THREE = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\nvar OrbitControls_1 = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"(ssr)/./node_modules/three/examples/jsm/controls/OrbitControls.js\");\nvar render_1 = __webpack_require__(/*! ./render */ \"(ssr)/./node_modules/scatter-gl/dist/render.js\");\nvar util = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/scatter-gl/dist/util.js\");\nvar scatter_plot_rectangle_selector_1 = __webpack_require__(/*! ./scatter_plot_rectangle_selector */ \"(ssr)/./node_modules/scatter-gl/dist/scatter_plot_rectangle_selector.js\");\nvar CUBE_LENGTH = 2;\nvar MAX_ZOOM = 5 * CUBE_LENGTH;\nvar MIN_ZOOM = 0.025 * CUBE_LENGTH;\nvar PERSP_CAMERA_FOV_VERTICAL = 70;\nvar PERSP_CAMERA_NEAR_CLIP_PLANE = 0.01;\nvar PERSP_CAMERA_FAR_CLIP_PLANE = 100;\nvar ORTHO_CAMERA_FRUSTUM_HALF_EXTENT = 1.2;\nvar SHIFT_KEY = \"Shift\";\nvar CTRL_KEY = \"Control\";\nvar START_CAMERA_POS_3D = new THREE.Vector3(0.45, 0.9, 1.6);\nvar START_CAMERA_TARGET_3D = new THREE.Vector3(0, 0, 0);\nvar START_CAMERA_POS_2D = new THREE.Vector3(0, 0, 4);\nvar START_CAMERA_TARGET_2D = new THREE.Vector3(0, 0, 0);\nvar DEFAULT_ORBIT_CONTROL_PARAMS = {\n    mouseRotateSpeed: 1,\n    autoRotateSpeed: 2,\n    zoomSpeed: 0.125\n};\nvar ScatterPlot = function() {\n    function ScatterPlot(containerElement, params) {\n        var _this = this;\n        this.clickCallback = function() {};\n        this.hoverCallback = function() {};\n        this.selectCallback = function() {};\n        this.selectEnabled = true;\n        this.visualizers = new Map();\n        this.onCameraMoveListeners = [];\n        this.height = 0;\n        this.width = 0;\n        this.dimensions = 3;\n        this.interactionMode = \"PAN\";\n        this.pickingTexture = new THREE.WebGLRenderTarget(0, 0);\n        this.orbitAnimationOnNextCameraCreation = false;\n        this.orbitAnimationId = null;\n        this.worldSpacePointPositions = new Float32Array(0);\n        this.pointColors = new Float32Array(0);\n        this.pointScaleFactors = new Float32Array(0);\n        this.polylineColors = {};\n        this.polylineOpacities = new Float32Array(0);\n        this.polylineWidths = new Float32Array(0);\n        this.selecting = false;\n        this.nearestPoint = null;\n        this.mouseIsDown = false;\n        this.isDragSequence = false;\n        this.lastHovered = null;\n        this.container = containerElement;\n        this.styles = params.styles;\n        this.setParameters(params);\n        this.computeLayoutValues();\n        this.scene = new THREE.Scene();\n        this.renderer = new THREE.WebGLRenderer({\n            alpha: true,\n            premultipliedAlpha: false,\n            antialias: false\n        });\n        this.renderer.setClearColor(this.styles.backgroundColor, 1);\n        this.container.appendChild(this.renderer.domElement);\n        this.light = new THREE.PointLight(0xffecbf, 1, 0);\n        this.scene.add(this.light);\n        this.orbitControlParams = __assign(__assign({}, DEFAULT_ORBIT_CONTROL_PARAMS), params.orbitControlParams);\n        this.rectangleSelector = new scatter_plot_rectangle_selector_1.ScatterPlotRectangleSelector(this.container, function(boundingBox) {\n            _this.selectBoundingBox(boundingBox);\n        }, this.styles);\n        this.addInteractionListeners();\n        this.setDimensions(3);\n        this.makeCamera(params.camera);\n        this.resize();\n    }\n    ScatterPlot.prototype.setParameters = function(p) {\n        if (p.onClick !== undefined) this.clickCallback = p.onClick;\n        if (p.onHover !== undefined) this.hoverCallback = p.onHover;\n        if (p.onSelect !== undefined) this.selectCallback = p.onSelect;\n        if (p.selectEnabled !== undefined) this.selectEnabled = p.selectEnabled;\n    };\n    ScatterPlot.prototype.addInteractionListeners = function() {\n        this.container.addEventListener(\"pointermove\", this.onMouseMove.bind(this));\n        this.container.addEventListener(\"pointerdown\", this.onMouseDown.bind(this));\n        this.container.addEventListener(\"pointerup\", this.onMouseUp.bind(this));\n        this.container.addEventListener(\"click\", this.onClick.bind(this));\n        window.addEventListener(\"keydown\", this.onKeyDown.bind(this), false);\n        window.addEventListener(\"keyup\", this.onKeyUp.bind(this), false);\n    };\n    ScatterPlot.prototype.addCameraControlsEventListeners = function(cameraControls) {\n        var _this = this;\n        cameraControls.addEventListener(\"start\", function() {\n            _this.stopOrbitAnimation();\n            _this.onCameraMoveListeners.forEach(function(l) {\n                return l(_this.camera.position, cameraControls.target);\n            });\n        });\n        cameraControls.addEventListener(\"change\", function() {\n            _this.render();\n        });\n        cameraControls.addEventListener(\"end\", function() {});\n    };\n    ScatterPlot.prototype.makeOrbitControls = function(camera, cameraIs3D) {\n        if (this.orbitCameraControls != null) {\n            this.orbitCameraControls.dispose();\n        }\n        var occ = new OrbitControls_1.OrbitControls(camera, this.renderer.domElement);\n        occ.zoomSpeed = this.orbitControlParams.zoomSpeed;\n        occ.enableRotate = cameraIs3D;\n        occ.autoRotate = false;\n        occ.enableKeys = false;\n        occ.rotateSpeed = this.orbitControlParams.mouseRotateSpeed;\n        if (cameraIs3D) {\n            occ.mouseButtons.LEFT = THREE.MOUSE.LEFT;\n            occ.mouseButtons.RIGHT = THREE.MOUSE.RIGHT;\n        } else {\n            occ.mouseButtons.LEFT = THREE.MOUSE.RIGHT;\n            occ.mouseButtons.RIGHT = THREE.MOUSE.LEFT;\n        }\n        occ.reset();\n        this.camera = camera;\n        this.orbitCameraControls = occ;\n        this.addCameraControlsEventListeners(this.orbitCameraControls);\n    };\n    ScatterPlot.prototype.makeCamera = function(cameraParams) {\n        if (cameraParams === void 0) {\n            cameraParams = {};\n        }\n        var def = this.makeDefaultCameraDef(this.dimensions, cameraParams);\n        this.recreateCamera(def);\n        if (this.dimensions === 3 && this.styles.axesVisible) {\n            this.add3dAxes();\n        } else {\n            this.remove3dAxesFromScene();\n        }\n    };\n    ScatterPlot.prototype.makeCamera3D = function(cameraDef, w, h) {\n        var camera;\n        {\n            var aspectRatio = w / h;\n            camera = new THREE.PerspectiveCamera(PERSP_CAMERA_FOV_VERTICAL, aspectRatio, PERSP_CAMERA_NEAR_CLIP_PLANE, PERSP_CAMERA_FAR_CLIP_PLANE);\n            camera.position.set(cameraDef.position[0], cameraDef.position[1], cameraDef.position[2]);\n            var at = new THREE.Vector3(cameraDef.target[0], cameraDef.target[1], cameraDef.target[2]);\n            camera.lookAt(at);\n            camera.zoom = cameraDef.zoom;\n            camera.updateProjectionMatrix();\n        }\n        this.camera = camera;\n        this.makeOrbitControls(camera, true);\n    };\n    ScatterPlot.prototype.makeCamera2D = function(cameraDef, w, h) {\n        var camera;\n        var target = new THREE.Vector3(cameraDef.target[0], cameraDef.target[1], cameraDef.target[2]);\n        {\n            var aspectRatio = w / h;\n            var left = -ORTHO_CAMERA_FRUSTUM_HALF_EXTENT;\n            var right = ORTHO_CAMERA_FRUSTUM_HALF_EXTENT;\n            var bottom = -ORTHO_CAMERA_FRUSTUM_HALF_EXTENT;\n            var top_1 = ORTHO_CAMERA_FRUSTUM_HALF_EXTENT;\n            if (aspectRatio > 1) {\n                left *= aspectRatio;\n                right *= aspectRatio;\n            } else {\n                top_1 /= aspectRatio;\n                bottom /= aspectRatio;\n            }\n            camera = new THREE.OrthographicCamera(left, right, top_1, bottom, -1000, 1000);\n            camera.position.set(cameraDef.position[0], cameraDef.position[1], cameraDef.position[2]);\n            camera.up = new THREE.Vector3(0, 0, 1);\n            camera.lookAt(target);\n            camera.zoom = cameraDef.zoom;\n            camera.updateProjectionMatrix();\n        }\n        this.camera = camera;\n        this.makeOrbitControls(camera, false);\n    };\n    ScatterPlot.prototype.makeDefaultCameraDef = function(dimensions, cameraParams) {\n        if (cameraParams === void 0) {\n            cameraParams = {};\n        }\n        var orthographic = dimensions === 2;\n        var position = orthographic ? START_CAMERA_POS_2D : START_CAMERA_POS_3D;\n        var target = orthographic ? START_CAMERA_TARGET_2D : START_CAMERA_TARGET_3D;\n        var def = {\n            orthographic: orthographic,\n            zoom: 1.0,\n            position: [\n                position.x,\n                position.y,\n                position.z\n            ],\n            target: [\n                target.x,\n                target.y,\n                target.z\n            ]\n        };\n        if (cameraParams.zoom) def.zoom = cameraParams.zoom;\n        if (cameraParams.position) def.position = cameraParams.position;\n        if (cameraParams.target) def.target = cameraParams.target;\n        return def;\n    };\n    ScatterPlot.prototype.recreateCamera = function(cameraDef) {\n        if (cameraDef.orthographic) {\n            this.makeCamera2D(cameraDef, this.width, this.height);\n        } else {\n            this.makeCamera3D(cameraDef, this.width, this.height);\n        }\n        this.orbitCameraControls.minDistance = MIN_ZOOM;\n        this.orbitCameraControls.maxDistance = MAX_ZOOM;\n        this.orbitCameraControls.update();\n        if (this.orbitAnimationOnNextCameraCreation) {\n            this.startOrbitAnimation();\n        }\n    };\n    ScatterPlot.prototype.setInteractionMode = function(interactionMode) {\n        this.interactionMode = interactionMode;\n        if (interactionMode === \"SELECT\") {\n            this.selecting = true;\n            this.container.style.cursor = \"crosshair\";\n            this.orbitCameraControls.enabled = false;\n        } else {\n            this.selecting = false;\n            this.container.style.cursor = \"default\";\n            this.orbitCameraControls.enabled = true;\n        }\n    };\n    ScatterPlot.prototype.onClick = function(e, notify) {\n        if (notify === void 0) {\n            notify = true;\n        }\n        if (e && this.selecting) {\n            return;\n        }\n        if (!this.isDragSequence && notify) {\n            if (this.selectEnabled) {\n                var selected = this.nearestPoint != null ? [\n                    this.nearestPoint\n                ] : [];\n                this.selectCallback(selected);\n            }\n            this.clickCallback(this.nearestPoint);\n        }\n        this.isDragSequence = false;\n        this.render();\n    };\n    ScatterPlot.prototype.onMouseDown = function(e) {\n        this.isDragSequence = false;\n        this.mouseIsDown = true;\n        if (this.selecting) {\n            this.rectangleSelector.onMouseDown(e.offsetX, e.offsetY);\n            this.setNearestPointToMouse(e);\n        } else if (!e.ctrlKey && this.sceneIs3D() && this.orbitCameraControls.mouseButtons.ORBIT === THREE.MOUSE.RIGHT) {\n            this.orbitCameraControls.mouseButtons.ORBIT = THREE.MOUSE.LEFT;\n            this.orbitCameraControls.mouseButtons.PAN = THREE.MOUSE.RIGHT;\n        } else if (e.ctrlKey && this.sceneIs3D() && this.orbitCameraControls.mouseButtons.ORBIT === THREE.MOUSE.LEFT) {\n            this.orbitCameraControls.mouseButtons.ORBIT = THREE.MOUSE.RIGHT;\n            this.orbitCameraControls.mouseButtons.PAN = THREE.MOUSE.LEFT;\n        }\n    };\n    ScatterPlot.prototype.onMouseUp = function(e) {\n        if (this.selecting) {\n            this.rectangleSelector.onMouseUp();\n            this.render();\n        }\n        this.mouseIsDown = false;\n    };\n    ScatterPlot.prototype.onMouseMove = function(e) {\n        this.isDragSequence = this.mouseIsDown;\n        if (this.selecting && this.mouseIsDown) {\n            this.rectangleSelector.onMouseMove(e.offsetX, e.offsetY);\n            this.render();\n        } else if (!this.mouseIsDown) {\n            this.setNearestPointToMouse(e);\n            if (this.nearestPoint != this.lastHovered) {\n                this.lastHovered = this.nearestPoint;\n                this.hoverCallback(this.nearestPoint);\n            }\n        }\n    };\n    ScatterPlot.prototype.onKeyDown = function(e) {\n        if (e.key === CTRL_KEY && this.sceneIs3D()) {\n            this.orbitCameraControls.mouseButtons.ORBIT = THREE.MOUSE.RIGHT;\n            this.orbitCameraControls.mouseButtons.PAN = THREE.MOUSE.LEFT;\n        }\n        if (e.key === SHIFT_KEY && this.selectEnabled) {\n            this.selecting = true;\n            this.orbitCameraControls.enabled = false;\n            this.container.style.cursor = \"crosshair\";\n        }\n    };\n    ScatterPlot.prototype.onKeyUp = function(e) {\n        if (e.key === CTRL_KEY && this.sceneIs3D()) {\n            this.orbitCameraControls.mouseButtons.ORBIT = THREE.MOUSE.LEFT;\n            this.orbitCameraControls.mouseButtons.PAN = THREE.MOUSE.RIGHT;\n        }\n        if (e.key === SHIFT_KEY && this.selectEnabled) {\n            this.selecting = false;\n            this.orbitCameraControls.enabled = true;\n            this.container.style.cursor = \"default\";\n            this.render();\n        }\n    };\n    ScatterPlot.prototype.getPointIndicesFromBoundingBox = function(boundingBox) {\n        if (this.worldSpacePointPositions == null) {\n            return [];\n        }\n        this.camera.updateMatrixWorld();\n        var dpr = window.devicePixelRatio || 1;\n        var selectionX = Math.floor(boundingBox.x * dpr);\n        var selectionY = Math.floor(boundingBox.y * dpr);\n        var selectionWidth = Math.max(Math.floor(boundingBox.width * dpr), 1);\n        var selectionHeight = Math.max(Math.floor(boundingBox.height * dpr), 1);\n        if (selectionWidth <= 2 && selectionHeight <= 2) {\n            return this.getPointIndicesFromBoundingBoxPickingTexture(boundingBox);\n        }\n        var canvas = this.renderer.domElement;\n        var canvasWidth = canvas.width;\n        var canvasHeight = canvas.height;\n        var pointIndices = [];\n        var vector3 = new THREE.Vector3();\n        for(var i = 0; i < this.worldSpacePointPositions.length; i++){\n            var start = i * 3;\n            var _a = __read(this.worldSpacePointPositions.slice(start, start + 3), 3), worldX = _a[0], worldY = _a[1], worldZ = _a[2];\n            vector3.x = worldX;\n            vector3.y = worldY;\n            vector3.z = worldZ;\n            var screenVector = vector3.project(this.camera);\n            var x = (screenVector.x + 1) * canvasWidth / 2;\n            var y = -(screenVector.y - 1) * canvasHeight / 2;\n            if (x >= selectionX && x <= selectionX + selectionWidth) {\n                if (y <= selectionY && y >= selectionY - selectionHeight) {\n                    pointIndices.push(i);\n                }\n            }\n        }\n        return pointIndices;\n    };\n    ScatterPlot.prototype.getPointIndicesFromBoundingBoxPickingTexture = function(boundingBox) {\n        if (this.worldSpacePointPositions == null) {\n            return [];\n        }\n        var pointCount = this.worldSpacePointPositions.length / 3;\n        var dpr = window.devicePixelRatio || 1;\n        var x = Math.floor(boundingBox.x * dpr);\n        var y = Math.floor(boundingBox.y * dpr);\n        var width = Math.max(Math.floor(boundingBox.width * dpr), 1);\n        var height = Math.max(Math.floor(boundingBox.height * dpr), 1);\n        var pixelBuffer = new Uint8Array(width * height * 4);\n        this.renderer.readRenderTargetPixels(this.pickingTexture, x, this.pickingTexture.height - y, width, height, pixelBuffer);\n        var pointIndicesSelection = new Uint8Array(this.worldSpacePointPositions.length);\n        for(var i = 0; i < width * height; i++){\n            var id = pixelBuffer[i * 4] << 16 | pixelBuffer[i * 4 + 1] << 8 | pixelBuffer[i * 4 + 2];\n            if (id !== 0xffffff && id < pointCount) {\n                pointIndicesSelection[id] = 1;\n            }\n        }\n        var pointIndices = [];\n        for(var i = 0; i < pointIndicesSelection.length; i++){\n            if (pointIndicesSelection[i] === 1) {\n                pointIndices.push(i);\n            }\n        }\n        return pointIndices;\n    };\n    ScatterPlot.prototype.selectBoundingBox = function(boundingBox) {\n        var pointIndices = this.getPointIndicesFromBoundingBox(boundingBox);\n        this.selectCallback(pointIndices);\n    };\n    ScatterPlot.prototype.setNearestPointToMouse = function(e) {\n        if (this.pickingTexture == null) {\n            this.nearestPoint = null;\n            return;\n        }\n        var boundingBox = {\n            x: e.offsetX,\n            y: e.offsetY,\n            width: 1,\n            height: 1\n        };\n        var pointIndices = this.getPointIndicesFromBoundingBoxPickingTexture(boundingBox);\n        this.nearestPoint = pointIndices.length ? pointIndices[0] : null;\n    };\n    ScatterPlot.prototype.computeLayoutValues = function() {\n        this.width = this.container.offsetWidth;\n        this.height = Math.max(1, this.container.offsetHeight);\n        return [\n            this.width,\n            this.height\n        ];\n    };\n    ScatterPlot.prototype.sceneIs3D = function() {\n        return this.dimensions === 3;\n    };\n    ScatterPlot.prototype.remove3dAxesFromScene = function() {\n        var axes = this.scene.getObjectByName(\"axes\");\n        if (axes != null) {\n            this.scene.remove(axes);\n        }\n        return axes;\n    };\n    ScatterPlot.prototype.add3dAxes = function() {\n        var axes = new THREE.AxesHelper();\n        axes.name = \"axes\";\n        this.scene.add(axes);\n    };\n    ScatterPlot.prototype.setDimensions = function(dimensions) {\n        if (dimensions !== 2 && dimensions !== 3) {\n            throw new RangeError(\"dimensions must be 2 or 3\");\n        }\n        if (this.dimensions !== dimensions) {\n            this.dimensions = dimensions;\n            this.makeCamera();\n        }\n    };\n    ScatterPlot.prototype.getCameraPosition = function() {\n        var currPos = this.camera.position;\n        return [\n            currPos.x,\n            currPos.y,\n            currPos.z\n        ];\n    };\n    ScatterPlot.prototype.getCameraTarget = function() {\n        var currTarget = this.orbitCameraControls.target;\n        return [\n            currTarget.x,\n            currTarget.y,\n            currTarget.z\n        ];\n    };\n    ScatterPlot.prototype.setCameraPositionAndTarget = function(position, target) {\n        this.stopOrbitAnimation();\n        this.camera.position.set(position[0], position[1], position[2]);\n        this.orbitCameraControls.target.set(target[0], target[1], target[2]);\n        this.orbitCameraControls.update();\n        this.render();\n    };\n    ScatterPlot.prototype.startOrbitAnimation = function() {\n        if (!this.sceneIs3D()) {\n            return;\n        }\n        if (this.orbitAnimationId != null) {\n            this.stopOrbitAnimation();\n        }\n        this.orbitCameraControls.autoRotate = true;\n        this.orbitCameraControls.autoRotateSpeed = this.orbitControlParams.autoRotateSpeed;\n        this.updateOrbitAnimation();\n    };\n    ScatterPlot.prototype.orbitIsAnimating = function() {\n        return this.orbitAnimationId != null;\n    };\n    ScatterPlot.prototype.updateOrbitAnimation = function() {\n        var _this = this;\n        this.orbitCameraControls.update();\n        this.orbitAnimationId = requestAnimationFrame(function() {\n            return _this.updateOrbitAnimation();\n        });\n    };\n    ScatterPlot.prototype.stopOrbitAnimation = function() {\n        this.orbitCameraControls.autoRotate = false;\n        this.orbitCameraControls.rotateSpeed = this.orbitControlParams.mouseRotateSpeed;\n        if (this.orbitAnimationId != null) {\n            cancelAnimationFrame(this.orbitAnimationId);\n            this.orbitAnimationId = null;\n        }\n    };\n    ScatterPlot.prototype.setActiveVisualizers = function(visualizers) {\n        var e_1, _a, e_2, _b;\n        var nextVisualizerIds = new Set(visualizers.map(function(v) {\n            return v.id;\n        }));\n        try {\n            for(var _c = __values(this.visualizers.values()), _d = _c.next(); !_d.done; _d = _c.next()){\n                var visualizer = _d.value;\n                if (!nextVisualizerIds.has(visualizer.id)) {\n                    visualizer.dispose();\n                    this.visualizers.delete(visualizer.id);\n                }\n            }\n        } catch (e_1_1) {\n            e_1 = {\n                error: e_1_1\n            };\n        } finally{\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            } finally{\n                if (e_1) throw e_1.error;\n            }\n        }\n        try {\n            for(var visualizers_1 = __values(visualizers), visualizers_1_1 = visualizers_1.next(); !visualizers_1_1.done; visualizers_1_1 = visualizers_1.next()){\n                var visualizer = visualizers_1_1.value;\n                this.visualizers.set(visualizer.id, visualizer);\n                visualizer.setScene(this.scene);\n                visualizer.onResize(this.width, this.height);\n                if (this.worldSpacePointPositions) {\n                    visualizer.onPointPositionsChanged(this.worldSpacePointPositions);\n                }\n            }\n        } catch (e_2_1) {\n            e_2 = {\n                error: e_2_1\n            };\n        } finally{\n            try {\n                if (visualizers_1_1 && !visualizers_1_1.done && (_b = visualizers_1.return)) _b.call(visualizers_1);\n            } finally{\n                if (e_2) throw e_2.error;\n            }\n        }\n    };\n    ScatterPlot.prototype.disposeAllVisualizers = function() {\n        this.visualizers.forEach(function(v) {\n            return v.dispose();\n        });\n        this.visualizers.clear();\n    };\n    ScatterPlot.prototype.setPointPositions = function(worldSpacePointPositions) {\n        this.worldSpacePointPositions = worldSpacePointPositions;\n        this.visualizers.forEach(function(v) {\n            return v.onPointPositionsChanged(worldSpacePointPositions);\n        });\n    };\n    ScatterPlot.prototype.render = function() {\n        {\n            var lightPos = this.camera.position.clone();\n            lightPos.x += 1;\n            lightPos.y += 1;\n            this.light.position.set(lightPos.x, lightPos.y, lightPos.z);\n        }\n        var cameraType = this.camera instanceof THREE.PerspectiveCamera ? render_1.CameraType.Perspective : render_1.CameraType.Orthographic;\n        var cameraSpacePointExtents = [\n            0,\n            0\n        ];\n        if (this.worldSpacePointPositions != null) {\n            cameraSpacePointExtents = util.getNearFarPoints(this.worldSpacePointPositions, this.camera.position, this.orbitCameraControls.target);\n        }\n        var rc = new render_1.RenderContext(this.camera, cameraType, this.orbitCameraControls.target, this.width, this.height, cameraSpacePointExtents[0], cameraSpacePointExtents[1], this.styles.backgroundColor, this.pointColors, this.pointScaleFactors, this.labels, this.polylineColors, this.polylineOpacities, this.polylineWidths);\n        this.visualizers.forEach(function(v) {\n            return v.onPickingRender(rc);\n        });\n        {\n            var axes = this.remove3dAxesFromScene();\n            this.renderer.setRenderTarget(this.pickingTexture);\n            this.renderer.render(this.scene, this.camera);\n            if (axes != null) {\n                this.scene.add(axes);\n            }\n        }\n        this.visualizers.forEach(function(v) {\n            return v.onRender(rc);\n        });\n        this.renderer.setRenderTarget(null);\n        this.renderer.render(this.scene, this.camera);\n    };\n    ScatterPlot.prototype.setPointColors = function(colors) {\n        this.pointColors = colors;\n    };\n    ScatterPlot.prototype.setPointScaleFactors = function(scaleFactors) {\n        this.pointScaleFactors = scaleFactors;\n    };\n    ScatterPlot.prototype.setLabels = function(labels) {\n        this.labels = labels;\n    };\n    ScatterPlot.prototype.setPolylineColors = function(colors) {\n        this.polylineColors = colors;\n    };\n    ScatterPlot.prototype.setPolylineOpacities = function(opacities) {\n        this.polylineOpacities = opacities;\n    };\n    ScatterPlot.prototype.setPolylineWidths = function(widths) {\n        this.polylineWidths = widths;\n    };\n    ScatterPlot.prototype.resetZoom = function() {\n        this.recreateCamera(this.makeDefaultCameraDef(this.dimensions));\n        this.render();\n    };\n    ScatterPlot.prototype.setDayNightMode = function(isNight) {\n        var canvases = this.container.querySelectorAll(\"canvas\");\n        var filterValue = isNight ? \"invert(100%)\" : \"\";\n        for(var i = 0; i < canvases.length; i++){\n            canvases[i].style.filter = filterValue;\n        }\n    };\n    ScatterPlot.prototype.resize = function(render) {\n        if (render === void 0) {\n            render = true;\n        }\n        var _a = __read([\n            this.width,\n            this.height\n        ], 2), oldW = _a[0], oldH = _a[1];\n        var _b = __read(this.computeLayoutValues(), 2), newW = _b[0], newH = _b[1];\n        if (this.dimensions === 3) {\n            var camera = this.camera;\n            camera.aspect = newW / newH;\n            camera.updateProjectionMatrix();\n        } else {\n            var camera = this.camera;\n            var scaleW = newW / oldW;\n            var scaleH = newH / oldH;\n            var newCamHalfWidth = (camera.right - camera.left) * scaleW / 2;\n            var newCamHalfHeight = (camera.top - camera.bottom) * scaleH / 2;\n            camera.top = newCamHalfHeight;\n            camera.bottom = -newCamHalfHeight;\n            camera.left = -newCamHalfWidth;\n            camera.right = newCamHalfWidth;\n            camera.updateProjectionMatrix();\n        }\n        var dpr = window.devicePixelRatio || 1;\n        this.renderer.setPixelRatio(dpr);\n        this.renderer.setSize(newW, newH);\n        {\n            var renderCanvasSize = new THREE.Vector2();\n            this.renderer.getSize(renderCanvasSize);\n            var pixelRatio = this.renderer.getPixelRatio();\n            this.pickingTexture = new THREE.WebGLRenderTarget(renderCanvasSize.width * pixelRatio, renderCanvasSize.height * pixelRatio);\n            this.pickingTexture.texture.minFilter = THREE.LinearFilter;\n        }\n        this.visualizers.forEach(function(v) {\n            return v.onResize(newW, newH);\n        });\n        if (render) {\n            this.render();\n        }\n    };\n    ScatterPlot.prototype.onCameraMove = function(listener) {\n        this.onCameraMoveListeners.push(listener);\n    };\n    ScatterPlot.prototype.clickOnPoint = function(pointIndex) {\n        this.nearestPoint = pointIndex;\n        this.onClick(null, false);\n    };\n    return ScatterPlot;\n}();\nexports.ScatterPlot = ScatterPlot;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L3NjYXR0ZXJfcGxvdC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLFdBQVcsQ0FBQyxNQUFHLEtBQUssT0FBRyxFQUFFQSxRQUFRLElBQUs7SUFDdENBLFdBQVdDLE9BQU9DLE1BQU0sSUFBSSxTQUFTQyxDQUFDO1FBQ2xDLElBQUssSUFBSUMsR0FBR0MsSUFBSSxHQUFHQyxJQUFJQyxVQUFVQyxNQUFNLEVBQUVILElBQUlDLEdBQUdELElBQUs7WUFDakRELElBQUlHLFNBQVMsQ0FBQ0YsRUFBRTtZQUNoQixJQUFLLElBQUlJLEtBQUtMLEVBQUcsSUFBSUgsT0FBT1MsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ1IsR0FBR0ssSUFDekROLENBQUMsQ0FBQ00sRUFBRSxHQUFHTCxDQUFDLENBQUNLLEVBQUU7UUFDbkI7UUFDQSxPQUFPTjtJQUNYO0lBQ0EsT0FBT0gsU0FBU2EsS0FBSyxDQUFDLElBQUksRUFBRU47QUFDaEM7QUFDQSxJQUFJTyxTQUFTLENBQUMsTUFBRyxLQUFLLE9BQUcsRUFBRUEsTUFBTSxJQUFLLFNBQVVDLENBQUMsRUFBRVQsQ0FBQztJQUNoRCxJQUFJVSxJQUFJLE9BQU9DLFdBQVcsY0FBY0YsQ0FBQyxDQUFDRSxPQUFPQyxRQUFRLENBQUM7SUFDMUQsSUFBSSxDQUFDRixHQUFHLE9BQU9EO0lBQ2YsSUFBSVYsSUFBSVcsRUFBRUosSUFBSSxDQUFDRyxJQUFJSSxHQUFHQyxLQUFLLEVBQUUsRUFBRUM7SUFDL0IsSUFBSTtRQUNBLE1BQU8sQ0FBQ2YsTUFBTSxLQUFLLEtBQUtBLE1BQU0sTUFBTSxDQUFDLENBQUNhLElBQUlkLEVBQUVpQixJQUFJLEVBQUMsRUFBR0MsSUFBSSxDQUFFSCxHQUFHSSxJQUFJLENBQUNMLEVBQUVNLEtBQUs7SUFDN0UsRUFDQSxPQUFPQyxPQUFPO1FBQUVMLElBQUk7WUFBRUssT0FBT0E7UUFBTTtJQUFHLFNBQzlCO1FBQ0os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Q0MsU0FBUyxHQUFHL1IsTUFBTWdTLFlBQVk7UUFDOUQ7UUFDQSxJQUFJLENBQUNoUSxXQUFXLENBQUNrRSxPQUFPLENBQUMsU0FBVTBILENBQUM7WUFBSSxPQUFPQSxFQUFFWSxRQUFRLENBQUN1QyxNQUFNQztRQUFPO1FBQ3ZFLElBQUkxSyxRQUFRO1lBQ1IsSUFBSSxDQUFDQSxNQUFNO1FBQ2Y7SUFDSjtJQUNBOUUsWUFBWTdDLFNBQVMsQ0FBQ3NULFlBQVksR0FBRyxTQUFVQyxRQUFRO1FBQ25ELElBQUksQ0FBQ2hRLHFCQUFxQixDQUFDekMsSUFBSSxDQUFDeVM7SUFDcEM7SUFDQTFRLFlBQVk3QyxTQUFTLENBQUN3VCxZQUFZLEdBQUcsU0FBVUMsVUFBVTtRQUNyRCxJQUFJLENBQUNqUCxZQUFZLEdBQUdpUDtRQUNwQixJQUFJLENBQUNqTixPQUFPLENBQUMsTUFBTTtJQUN2QjtJQUNBLE9BQU8zRDtBQUNYO0FBQ0F6QixtQkFBbUIsR0FBR3lCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veW9nYXBvc2VwZXJmZWN0Ly4vbm9kZV9tb2R1bGVzL3NjYXR0ZXItZ2wvZGlzdC9zY2F0dGVyX3Bsb3QuanM/ODllZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVEhSRUUgPSByZXF1aXJlKFwidGhyZWVcIik7XG52YXIgT3JiaXRDb250cm9sc18xID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzXCIpO1xudmFyIHJlbmRlcl8xID0gcmVxdWlyZShcIi4vcmVuZGVyXCIpO1xudmFyIHV0aWwgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xudmFyIHNjYXR0ZXJfcGxvdF9yZWN0YW5nbGVfc2VsZWN0b3JfMSA9IHJlcXVpcmUoXCIuL3NjYXR0ZXJfcGxvdF9yZWN0YW5nbGVfc2VsZWN0b3JcIik7XG52YXIgQ1VCRV9MRU5HVEggPSAyO1xudmFyIE1BWF9aT09NID0gNSAqIENVQkVfTEVOR1RIO1xudmFyIE1JTl9aT09NID0gMC4wMjUgKiBDVUJFX0xFTkdUSDtcbnZhciBQRVJTUF9DQU1FUkFfRk9WX1ZFUlRJQ0FMID0gNzA7XG52YXIgUEVSU1BfQ0FNRVJBX05FQVJfQ0xJUF9QTEFORSA9IDAuMDE7XG52YXIgUEVSU1BfQ0FNRVJBX0ZBUl9DTElQX1BMQU5FID0gMTAwO1xudmFyIE9SVEhPX0NBTUVSQV9GUlVTVFVNX0hBTEZfRVhURU5UID0gMS4yO1xudmFyIFNISUZUX0tFWSA9ICdTaGlmdCc7XG52YXIgQ1RSTF9LRVkgPSAnQ29udHJvbCc7XG52YXIgU1RBUlRfQ0FNRVJBX1BPU18zRCA9IG5ldyBUSFJFRS5WZWN0b3IzKDAuNDUsIDAuOSwgMS42KTtcbnZhciBTVEFSVF9DQU1FUkFfVEFSR0VUXzNEID0gbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMCk7XG52YXIgU1RBUlRfQ0FNRVJBX1BPU18yRCA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDQpO1xudmFyIFNUQVJUX0NBTUVSQV9UQVJHRVRfMkQgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKTtcbnZhciBERUZBVUxUX09SQklUX0NPTlRST0xfUEFSQU1TID0ge1xuICAgIG1vdXNlUm90YXRlU3BlZWQ6IDEsXG4gICAgYXV0b1JvdGF0ZVNwZWVkOiAyLFxuICAgIHpvb21TcGVlZDogMC4xMjUsXG59O1xudmFyIFNjYXR0ZXJQbG90ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2F0dGVyUGxvdChjb250YWluZXJFbGVtZW50LCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jbGlja0NhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICB0aGlzLmhvdmVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgICAgIHRoaXMuc2VsZWN0Q2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgICAgIHRoaXMuc2VsZWN0RW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudmlzdWFsaXplcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMub25DYW1lcmFNb3ZlTGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IDM7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25Nb2RlID0gXCJQQU5cIjtcbiAgICAgICAgdGhpcy5waWNraW5nVGV4dHVyZSA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlclRhcmdldCgwLCAwKTtcbiAgICAgICAgdGhpcy5vcmJpdEFuaW1hdGlvbk9uTmV4dENhbWVyYUNyZWF0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMub3JiaXRBbmltYXRpb25JZCA9IG51bGw7XG4gICAgICAgIHRoaXMud29ybGRTcGFjZVBvaW50UG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheSgwKTtcbiAgICAgICAgdGhpcy5wb2ludENvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkoMCk7XG4gICAgICAgIHRoaXMucG9pbnRTY2FsZUZhY3RvcnMgPSBuZXcgRmxvYXQzMkFycmF5KDApO1xuICAgICAgICB0aGlzLnBvbHlsaW5lQ29sb3JzID0ge307XG4gICAgICAgIHRoaXMucG9seWxpbmVPcGFjaXRpZXMgPSBuZXcgRmxvYXQzMkFycmF5KDApO1xuICAgICAgICB0aGlzLnBvbHlsaW5lV2lkdGhzID0gbmV3IEZsb2F0MzJBcnJheSgwKTtcbiAgICAgICAgdGhpcy5zZWxlY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5uZWFyZXN0UG9pbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm1vdXNlSXNEb3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNEcmFnU2VxdWVuY2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXN0SG92ZXJlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyRWxlbWVudDtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBwYXJhbXMuc3R5bGVzO1xuICAgICAgICB0aGlzLnNldFBhcmFtZXRlcnMocGFyYW1zKTtcbiAgICAgICAgdGhpcy5jb21wdXRlTGF5b3V0VmFsdWVzKCk7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgICAgICAgIGFscGhhOiB0cnVlLFxuICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBmYWxzZSxcbiAgICAgICAgICAgIGFudGlhbGlhczogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5zdHlsZXMuYmFja2dyb3VuZENvbG9yLCAxKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICAgICAgdGhpcy5saWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4ZmZlY2JmLCAxLCAwKTtcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5saWdodCk7XG4gICAgICAgIHRoaXMub3JiaXRDb250cm9sUGFyYW1zID0gX19hc3NpZ24oX19hc3NpZ24oe30sIERFRkFVTFRfT1JCSVRfQ09OVFJPTF9QQVJBTVMpLCBwYXJhbXMub3JiaXRDb250cm9sUGFyYW1zKTtcbiAgICAgICAgdGhpcy5yZWN0YW5nbGVTZWxlY3RvciA9IG5ldyBzY2F0dGVyX3Bsb3RfcmVjdGFuZ2xlX3NlbGVjdG9yXzEuU2NhdHRlclBsb3RSZWN0YW5nbGVTZWxlY3Rvcih0aGlzLmNvbnRhaW5lciwgZnVuY3Rpb24gKGJvdW5kaW5nQm94KSB7XG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RCb3VuZGluZ0JveChib3VuZGluZ0JveCk7XG4gICAgICAgIH0sIHRoaXMuc3R5bGVzKTtcbiAgICAgICAgdGhpcy5hZGRJbnRlcmFjdGlvbkxpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnNldERpbWVuc2lvbnMoMyk7XG4gICAgICAgIHRoaXMubWFrZUNhbWVyYShwYXJhbXMuY2FtZXJhKTtcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICB9XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLnNldFBhcmFtZXRlcnMgPSBmdW5jdGlvbiAocCkge1xuICAgICAgICBpZiAocC5vbkNsaWNrICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLmNsaWNrQ2FsbGJhY2sgPSBwLm9uQ2xpY2s7XG4gICAgICAgIGlmIChwLm9uSG92ZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuaG92ZXJDYWxsYmFjayA9IHAub25Ib3ZlcjtcbiAgICAgICAgaWYgKHAub25TZWxlY3QgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0Q2FsbGJhY2sgPSBwLm9uU2VsZWN0O1xuICAgICAgICBpZiAocC5zZWxlY3RFbmFibGVkICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEVuYWJsZWQgPSBwLnNlbGVjdEVuYWJsZWQ7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUuYWRkSW50ZXJhY3Rpb25MaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uTW91c2VEb3duLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uTW91c2VVcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleURvd24uYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLmFkZENhbWVyYUNvbnRyb2xzRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoY2FtZXJhQ29udHJvbHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgY2FtZXJhQ29udHJvbHMuYWRkRXZlbnRMaXN0ZW5lcignc3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zdG9wT3JiaXRBbmltYXRpb24oKTtcbiAgICAgICAgICAgIF90aGlzLm9uQ2FtZXJhTW92ZUxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGwoX3RoaXMuY2FtZXJhLnBvc2l0aW9uLCBjYW1lcmFDb250cm9scy50YXJnZXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjYW1lcmFDb250cm9scy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNhbWVyYUNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZCcsIGZ1bmN0aW9uICgpIHsgfSk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUubWFrZU9yYml0Q29udHJvbHMgPSBmdW5jdGlvbiAoY2FtZXJhLCBjYW1lcmFJczNEKSB7XG4gICAgICAgIGlmICh0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5vcmJpdENhbWVyYUNvbnRyb2xzLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2NjID0gbmV3IE9yYml0Q29udHJvbHNfMS5PcmJpdENvbnRyb2xzKGNhbWVyYSwgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICAgICAgb2NjLnpvb21TcGVlZCA9IHRoaXMub3JiaXRDb250cm9sUGFyYW1zLnpvb21TcGVlZDtcbiAgICAgICAgb2NjLmVuYWJsZVJvdGF0ZSA9IGNhbWVyYUlzM0Q7XG4gICAgICAgIG9jYy5hdXRvUm90YXRlID0gZmFsc2U7XG4gICAgICAgIG9jYy5lbmFibGVLZXlzID0gZmFsc2U7XG4gICAgICAgIG9jYy5yb3RhdGVTcGVlZCA9IHRoaXMub3JiaXRDb250cm9sUGFyYW1zLm1vdXNlUm90YXRlU3BlZWQ7XG4gICAgICAgIGlmIChjYW1lcmFJczNEKSB7XG4gICAgICAgICAgICBvY2MubW91c2VCdXR0b25zLkxFRlQgPSBUSFJFRS5NT1VTRS5MRUZUO1xuICAgICAgICAgICAgb2NjLm1vdXNlQnV0dG9ucy5SSUdIVCA9IFRIUkVFLk1PVVNFLlJJR0hUO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2NjLm1vdXNlQnV0dG9ucy5MRUZUID0gVEhSRUUuTU9VU0UuUklHSFQ7XG4gICAgICAgICAgICBvY2MubW91c2VCdXR0b25zLlJJR0hUID0gVEhSRUUuTU9VU0UuTEVGVDtcbiAgICAgICAgfVxuICAgICAgICBvY2MucmVzZXQoKTtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XG4gICAgICAgIHRoaXMub3JiaXRDYW1lcmFDb250cm9scyA9IG9jYztcbiAgICAgICAgdGhpcy5hZGRDYW1lcmFDb250cm9sc0V2ZW50TGlzdGVuZXJzKHRoaXMub3JiaXRDYW1lcmFDb250cm9scyk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUubWFrZUNhbWVyYSA9IGZ1bmN0aW9uIChjYW1lcmFQYXJhbXMpIHtcbiAgICAgICAgaWYgKGNhbWVyYVBhcmFtcyA9PT0gdm9pZCAwKSB7IGNhbWVyYVBhcmFtcyA9IHt9OyB9XG4gICAgICAgIHZhciBkZWYgPSB0aGlzLm1ha2VEZWZhdWx0Q2FtZXJhRGVmKHRoaXMuZGltZW5zaW9ucywgY2FtZXJhUGFyYW1zKTtcbiAgICAgICAgdGhpcy5yZWNyZWF0ZUNhbWVyYShkZWYpO1xuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zID09PSAzICYmIHRoaXMuc3R5bGVzLmF4ZXNWaXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmFkZDNkQXhlcygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUzZEF4ZXNGcm9tU2NlbmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLm1ha2VDYW1lcmEzRCA9IGZ1bmN0aW9uIChjYW1lcmFEZWYsIHcsIGgpIHtcbiAgICAgICAgdmFyIGNhbWVyYTtcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGFzcGVjdFJhdGlvID0gdyAvIGg7XG4gICAgICAgICAgICBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoUEVSU1BfQ0FNRVJBX0ZPVl9WRVJUSUNBTCwgYXNwZWN0UmF0aW8sIFBFUlNQX0NBTUVSQV9ORUFSX0NMSVBfUExBTkUsIFBFUlNQX0NBTUVSQV9GQVJfQ0xJUF9QTEFORSk7XG4gICAgICAgICAgICBjYW1lcmEucG9zaXRpb24uc2V0KGNhbWVyYURlZi5wb3NpdGlvblswXSwgY2FtZXJhRGVmLnBvc2l0aW9uWzFdLCBjYW1lcmFEZWYucG9zaXRpb25bMl0pO1xuICAgICAgICAgICAgdmFyIGF0ID0gbmV3IFRIUkVFLlZlY3RvcjMoY2FtZXJhRGVmLnRhcmdldFswXSwgY2FtZXJhRGVmLnRhcmdldFsxXSwgY2FtZXJhRGVmLnRhcmdldFsyXSk7XG4gICAgICAgICAgICBjYW1lcmEubG9va0F0KGF0KTtcbiAgICAgICAgICAgIGNhbWVyYS56b29tID0gY2FtZXJhRGVmLnpvb207XG4gICAgICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xuICAgICAgICB0aGlzLm1ha2VPcmJpdENvbnRyb2xzKGNhbWVyYSwgdHJ1ZSk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUubWFrZUNhbWVyYTJEID0gZnVuY3Rpb24gKGNhbWVyYURlZiwgdywgaCkge1xuICAgICAgICB2YXIgY2FtZXJhO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoY2FtZXJhRGVmLnRhcmdldFswXSwgY2FtZXJhRGVmLnRhcmdldFsxXSwgY2FtZXJhRGVmLnRhcmdldFsyXSk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBhc3BlY3RSYXRpbyA9IHcgLyBoO1xuICAgICAgICAgICAgdmFyIGxlZnQgPSAtT1JUSE9fQ0FNRVJBX0ZSVVNUVU1fSEFMRl9FWFRFTlQ7XG4gICAgICAgICAgICB2YXIgcmlnaHQgPSBPUlRIT19DQU1FUkFfRlJVU1RVTV9IQUxGX0VYVEVOVDtcbiAgICAgICAgICAgIHZhciBib3R0b20gPSAtT1JUSE9fQ0FNRVJBX0ZSVVNUVU1fSEFMRl9FWFRFTlQ7XG4gICAgICAgICAgICB2YXIgdG9wXzEgPSBPUlRIT19DQU1FUkFfRlJVU1RVTV9IQUxGX0VYVEVOVDtcbiAgICAgICAgICAgIGlmIChhc3BlY3RSYXRpbyA+IDEpIHtcbiAgICAgICAgICAgICAgICBsZWZ0ICo9IGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgICAgIHJpZ2h0ICo9IGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9wXzEgLz0gYXNwZWN0UmF0aW87XG4gICAgICAgICAgICAgICAgYm90dG9tIC89IGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYShsZWZ0LCByaWdodCwgdG9wXzEsIGJvdHRvbSwgLTEwMDAsIDEwMDApO1xuICAgICAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnNldChjYW1lcmFEZWYucG9zaXRpb25bMF0sIGNhbWVyYURlZi5wb3NpdGlvblsxXSwgY2FtZXJhRGVmLnBvc2l0aW9uWzJdKTtcbiAgICAgICAgICAgIGNhbWVyYS51cCA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDEpO1xuICAgICAgICAgICAgY2FtZXJhLmxvb2tBdCh0YXJnZXQpO1xuICAgICAgICAgICAgY2FtZXJhLnpvb20gPSBjYW1lcmFEZWYuem9vbTtcbiAgICAgICAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XG4gICAgICAgIHRoaXMubWFrZU9yYml0Q29udHJvbHMoY2FtZXJhLCBmYWxzZSk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUubWFrZURlZmF1bHRDYW1lcmFEZWYgPSBmdW5jdGlvbiAoZGltZW5zaW9ucywgY2FtZXJhUGFyYW1zKSB7XG4gICAgICAgIGlmIChjYW1lcmFQYXJhbXMgPT09IHZvaWQgMCkgeyBjYW1lcmFQYXJhbXMgPSB7fTsgfVxuICAgICAgICB2YXIgb3J0aG9ncmFwaGljID0gZGltZW5zaW9ucyA9PT0gMjtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gb3J0aG9ncmFwaGljID8gU1RBUlRfQ0FNRVJBX1BPU18yRCA6IFNUQVJUX0NBTUVSQV9QT1NfM0Q7XG4gICAgICAgIHZhciB0YXJnZXQgPSBvcnRob2dyYXBoaWNcbiAgICAgICAgICAgID8gU1RBUlRfQ0FNRVJBX1RBUkdFVF8yRFxuICAgICAgICAgICAgOiBTVEFSVF9DQU1FUkFfVEFSR0VUXzNEO1xuICAgICAgICB2YXIgZGVmID0ge1xuICAgICAgICAgICAgb3J0aG9ncmFwaGljOiBvcnRob2dyYXBoaWMsXG4gICAgICAgICAgICB6b29tOiAxLjAsXG4gICAgICAgICAgICBwb3NpdGlvbjogW3Bvc2l0aW9uLngsIHBvc2l0aW9uLnksIHBvc2l0aW9uLnpdLFxuICAgICAgICAgICAgdGFyZ2V0OiBbdGFyZ2V0LngsIHRhcmdldC55LCB0YXJnZXQuel0sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChjYW1lcmFQYXJhbXMuem9vbSlcbiAgICAgICAgICAgIGRlZi56b29tID0gY2FtZXJhUGFyYW1zLnpvb207XG4gICAgICAgIGlmIChjYW1lcmFQYXJhbXMucG9zaXRpb24pXG4gICAgICAgICAgICBkZWYucG9zaXRpb24gPSBjYW1lcmFQYXJhbXMucG9zaXRpb247XG4gICAgICAgIGlmIChjYW1lcmFQYXJhbXMudGFyZ2V0KVxuICAgICAgICAgICAgZGVmLnRhcmdldCA9IGNhbWVyYVBhcmFtcy50YXJnZXQ7XG4gICAgICAgIHJldHVybiBkZWY7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUucmVjcmVhdGVDYW1lcmEgPSBmdW5jdGlvbiAoY2FtZXJhRGVmKSB7XG4gICAgICAgIGlmIChjYW1lcmFEZWYub3J0aG9ncmFwaGljKSB7XG4gICAgICAgICAgICB0aGlzLm1ha2VDYW1lcmEyRChjYW1lcmFEZWYsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWFrZUNhbWVyYTNEKGNhbWVyYURlZiwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3JiaXRDYW1lcmFDb250cm9scy5taW5EaXN0YW5jZSA9IE1JTl9aT09NO1xuICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMubWF4RGlzdGFuY2UgPSBNQVhfWk9PTTtcbiAgICAgICAgdGhpcy5vcmJpdENhbWVyYUNvbnRyb2xzLnVwZGF0ZSgpO1xuICAgICAgICBpZiAodGhpcy5vcmJpdEFuaW1hdGlvbk9uTmV4dENhbWVyYUNyZWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0T3JiaXRBbmltYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLnNldEludGVyYWN0aW9uTW9kZSA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbk1vZGUpIHtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbk1vZGUgPSBpbnRlcmFjdGlvbk1vZGU7XG4gICAgICAgIGlmIChpbnRlcmFjdGlvbk1vZGUgPT09IFwiU0VMRUNUXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdjcm9zc2hhaXInO1xuICAgICAgICAgICAgdGhpcy5vcmJpdENhbWVyYUNvbnRyb2xzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XG4gICAgICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24gKGUsIG5vdGlmeSkge1xuICAgICAgICBpZiAobm90aWZ5ID09PSB2b2lkIDApIHsgbm90aWZ5ID0gdHJ1ZTsgfVxuICAgICAgICBpZiAoZSAmJiB0aGlzLnNlbGVjdGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0RyYWdTZXF1ZW5jZSAmJiBub3RpZnkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLm5lYXJlc3RQb2ludCAhPSBudWxsID8gW3RoaXMubmVhcmVzdFBvaW50XSA6IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0Q2FsbGJhY2soc2VsZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jbGlja0NhbGxiYWNrKHRoaXMubmVhcmVzdFBvaW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzRHJhZ1NlcXVlbmNlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUub25Nb3VzZURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLmlzRHJhZ1NlcXVlbmNlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW91c2VJc0Rvd24gPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucmVjdGFuZ2xlU2VsZWN0b3Iub25Nb3VzZURvd24oZS5vZmZzZXRYLCBlLm9mZnNldFkpO1xuICAgICAgICAgICAgdGhpcy5zZXROZWFyZXN0UG9pbnRUb01vdXNlKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFlLmN0cmxLZXkgJiZcbiAgICAgICAgICAgIHRoaXMuc2NlbmVJczNEKCkgJiZcbiAgICAgICAgICAgIHRoaXMub3JiaXRDYW1lcmFDb250cm9scy5tb3VzZUJ1dHRvbnMuT1JCSVQgPT09IFRIUkVFLk1PVVNFLlJJR0hUKSB7XG4gICAgICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMubW91c2VCdXR0b25zLk9SQklUID0gVEhSRUUuTU9VU0UuTEVGVDtcbiAgICAgICAgICAgIHRoaXMub3JiaXRDYW1lcmFDb250cm9scy5tb3VzZUJ1dHRvbnMuUEFOID0gVEhSRUUuTU9VU0UuUklHSFQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5jdHJsS2V5ICYmXG4gICAgICAgICAgICB0aGlzLnNjZW5lSXMzRCgpICYmXG4gICAgICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMubW91c2VCdXR0b25zLk9SQklUID09PSBUSFJFRS5NT1VTRS5MRUZUKSB7XG4gICAgICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMubW91c2VCdXR0b25zLk9SQklUID0gVEhSRUUuTU9VU0UuUklHSFQ7XG4gICAgICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMubW91c2VCdXR0b25zLlBBTiA9IFRIUkVFLk1PVVNFLkxFRlQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5vbk1vdXNlVXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucmVjdGFuZ2xlU2VsZWN0b3Iub25Nb3VzZVVwKCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW91c2VJc0Rvd24gPSBmYWxzZTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMuaXNEcmFnU2VxdWVuY2UgPSB0aGlzLm1vdXNlSXNEb3duO1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RpbmcgJiYgdGhpcy5tb3VzZUlzRG93bikge1xuICAgICAgICAgICAgdGhpcy5yZWN0YW5nbGVTZWxlY3Rvci5vbk1vdXNlTW92ZShlLm9mZnNldFgsIGUub2Zmc2V0WSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLm1vdXNlSXNEb3duKSB7XG4gICAgICAgICAgICB0aGlzLnNldE5lYXJlc3RQb2ludFRvTW91c2UoZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5uZWFyZXN0UG9pbnQgIT0gdGhpcy5sYXN0SG92ZXJlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdEhvdmVyZWQgPSB0aGlzLm5lYXJlc3RQb2ludDtcbiAgICAgICAgICAgICAgICB0aGlzLmhvdmVyQ2FsbGJhY2sodGhpcy5uZWFyZXN0UG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUub25LZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUua2V5ID09PSBDVFJMX0tFWSAmJiB0aGlzLnNjZW5lSXMzRCgpKSB7XG4gICAgICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMubW91c2VCdXR0b25zLk9SQklUID0gVEhSRUUuTU9VU0UuUklHSFQ7XG4gICAgICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMubW91c2VCdXR0b25zLlBBTiA9IFRIUkVFLk1PVVNFLkxFRlQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUua2V5ID09PSBTSElGVF9LRVkgJiYgdGhpcy5zZWxlY3RFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGluZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuY3Vyc29yID0gJ2Nyb3NzaGFpcic7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5vbktleVVwID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUua2V5ID09PSBDVFJMX0tFWSAmJiB0aGlzLnNjZW5lSXMzRCgpKSB7XG4gICAgICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMubW91c2VCdXR0b25zLk9SQklUID0gVEhSRUUuTU9VU0UuTEVGVDtcbiAgICAgICAgICAgIHRoaXMub3JiaXRDYW1lcmFDb250cm9scy5tb3VzZUJ1dHRvbnMuUEFOID0gVEhSRUUuTU9VU0UuUklHSFQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUua2V5ID09PSBTSElGVF9LRVkgJiYgdGhpcy5zZWxlY3RFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5vcmJpdENhbWVyYUNvbnRyb2xzLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLmdldFBvaW50SW5kaWNlc0Zyb21Cb3VuZGluZ0JveCA9IGZ1bmN0aW9uIChib3VuZGluZ0JveCkge1xuICAgICAgICBpZiAodGhpcy53b3JsZFNwYWNlUG9pbnRQb3NpdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZU1hdHJpeFdvcmxkKCk7XG4gICAgICAgIHZhciBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgICB2YXIgc2VsZWN0aW9uWCA9IE1hdGguZmxvb3IoYm91bmRpbmdCb3gueCAqIGRwcik7XG4gICAgICAgIHZhciBzZWxlY3Rpb25ZID0gTWF0aC5mbG9vcihib3VuZGluZ0JveC55ICogZHByKTtcbiAgICAgICAgdmFyIHNlbGVjdGlvbldpZHRoID0gTWF0aC5tYXgoTWF0aC5mbG9vcihib3VuZGluZ0JveC53aWR0aCAqIGRwciksIDEpO1xuICAgICAgICB2YXIgc2VsZWN0aW9uSGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5mbG9vcihib3VuZGluZ0JveC5oZWlnaHQgKiBkcHIpLCAxKTtcbiAgICAgICAgaWYgKHNlbGVjdGlvbldpZHRoIDw9IDIgJiYgc2VsZWN0aW9uSGVpZ2h0IDw9IDIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFBvaW50SW5kaWNlc0Zyb21Cb3VuZGluZ0JveFBpY2tpbmdUZXh0dXJlKGJvdW5kaW5nQm94KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5yZW5kZXJlci5kb21FbGVtZW50O1xuICAgICAgICB2YXIgY2FudmFzV2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgICAgIHZhciBjYW52YXNIZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICAgICAgICB2YXIgcG9pbnRJbmRpY2VzID0gW107XG4gICAgICAgIHZhciB2ZWN0b3IzID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLndvcmxkU3BhY2VQb2ludFBvc2l0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaSAqIDM7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQodGhpcy53b3JsZFNwYWNlUG9pbnRQb3NpdGlvbnMuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgMyksIDMpLCB3b3JsZFggPSBfYVswXSwgd29ybGRZID0gX2FbMV0sIHdvcmxkWiA9IF9hWzJdO1xuICAgICAgICAgICAgdmVjdG9yMy54ID0gd29ybGRYO1xuICAgICAgICAgICAgdmVjdG9yMy55ID0gd29ybGRZO1xuICAgICAgICAgICAgdmVjdG9yMy56ID0gd29ybGRaO1xuICAgICAgICAgICAgdmFyIHNjcmVlblZlY3RvciA9IHZlY3RvcjMucHJvamVjdCh0aGlzLmNhbWVyYSk7XG4gICAgICAgICAgICB2YXIgeCA9ICgoc2NyZWVuVmVjdG9yLnggKyAxKSAqIGNhbnZhc1dpZHRoKSAvIDI7XG4gICAgICAgICAgICB2YXIgeSA9ICgtKHNjcmVlblZlY3Rvci55IC0gMSkgKiBjYW52YXNIZWlnaHQpIC8gMjtcbiAgICAgICAgICAgIGlmICh4ID49IHNlbGVjdGlvblggJiYgeCA8PSBzZWxlY3Rpb25YICsgc2VsZWN0aW9uV2lkdGgpIHtcbiAgICAgICAgICAgICAgICBpZiAoeSA8PSBzZWxlY3Rpb25ZICYmIHkgPj0gc2VsZWN0aW9uWSAtIHNlbGVjdGlvbkhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBwb2ludEluZGljZXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvaW50SW5kaWNlcztcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5nZXRQb2ludEluZGljZXNGcm9tQm91bmRpbmdCb3hQaWNraW5nVGV4dHVyZSA9IGZ1bmN0aW9uIChib3VuZGluZ0JveCkge1xuICAgICAgICBpZiAodGhpcy53b3JsZFNwYWNlUG9pbnRQb3NpdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb2ludENvdW50ID0gdGhpcy53b3JsZFNwYWNlUG9pbnRQb3NpdGlvbnMubGVuZ3RoIC8gMztcbiAgICAgICAgdmFyIGRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihib3VuZGluZ0JveC54ICogZHByKTtcbiAgICAgICAgdmFyIHkgPSBNYXRoLmZsb29yKGJvdW5kaW5nQm94LnkgKiBkcHIpO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLm1heChNYXRoLmZsb29yKGJvdW5kaW5nQm94LndpZHRoICogZHByKSwgMSk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heChNYXRoLmZsb29yKGJvdW5kaW5nQm94LmhlaWdodCAqIGRwciksIDEpO1xuICAgICAgICB2YXIgcGl4ZWxCdWZmZXIgPSBuZXcgVWludDhBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHModGhpcy5waWNraW5nVGV4dHVyZSwgeCwgdGhpcy5waWNraW5nVGV4dHVyZS5oZWlnaHQgLSB5LCB3aWR0aCwgaGVpZ2h0LCBwaXhlbEJ1ZmZlcik7XG4gICAgICAgIHZhciBwb2ludEluZGljZXNTZWxlY3Rpb24gPSBuZXcgVWludDhBcnJheSh0aGlzLndvcmxkU3BhY2VQb2ludFBvc2l0aW9ucy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdpZHRoICogaGVpZ2h0OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpZCA9IChwaXhlbEJ1ZmZlcltpICogNF0gPDwgMTYpIHxcbiAgICAgICAgICAgICAgICAocGl4ZWxCdWZmZXJbaSAqIDQgKyAxXSA8PCA4KSB8XG4gICAgICAgICAgICAgICAgcGl4ZWxCdWZmZXJbaSAqIDQgKyAyXTtcbiAgICAgICAgICAgIGlmIChpZCAhPT0gMHhmZmZmZmYgJiYgaWQgPCBwb2ludENvdW50KSB7XG4gICAgICAgICAgICAgICAgcG9pbnRJbmRpY2VzU2VsZWN0aW9uW2lkXSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvaW50SW5kaWNlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50SW5kaWNlc1NlbGVjdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHBvaW50SW5kaWNlc1NlbGVjdGlvbltpXSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHBvaW50SW5kaWNlcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb2ludEluZGljZXM7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUuc2VsZWN0Qm91bmRpbmdCb3ggPSBmdW5jdGlvbiAoYm91bmRpbmdCb3gpIHtcbiAgICAgICAgdmFyIHBvaW50SW5kaWNlcyA9IHRoaXMuZ2V0UG9pbnRJbmRpY2VzRnJvbUJvdW5kaW5nQm94KGJvdW5kaW5nQm94KTtcbiAgICAgICAgdGhpcy5zZWxlY3RDYWxsYmFjayhwb2ludEluZGljZXMpO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLnNldE5lYXJlc3RQb2ludFRvTW91c2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAodGhpcy5waWNraW5nVGV4dHVyZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm5lYXJlc3RQb2ludCA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvdW5kaW5nQm94ID0ge1xuICAgICAgICAgICAgeDogZS5vZmZzZXRYLFxuICAgICAgICAgICAgeTogZS5vZmZzZXRZLFxuICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICBoZWlnaHQ6IDEsXG4gICAgICAgIH07XG4gICAgICAgIHZhciBwb2ludEluZGljZXMgPSB0aGlzLmdldFBvaW50SW5kaWNlc0Zyb21Cb3VuZGluZ0JveFBpY2tpbmdUZXh0dXJlKGJvdW5kaW5nQm94KTtcbiAgICAgICAgdGhpcy5uZWFyZXN0UG9pbnQgPSBwb2ludEluZGljZXMubGVuZ3RoID8gcG9pbnRJbmRpY2VzWzBdIDogbnVsbDtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5jb21wdXRlTGF5b3V0VmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgoMSwgdGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIFt0aGlzLndpZHRoLCB0aGlzLmhlaWdodF07XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUuc2NlbmVJczNEID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaW1lbnNpb25zID09PSAzO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLnJlbW92ZTNkQXhlc0Zyb21TY2VuZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGF4ZXMgPSB0aGlzLnNjZW5lLmdldE9iamVjdEJ5TmFtZSgnYXhlcycpO1xuICAgICAgICBpZiAoYXhlcyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlbW92ZShheGVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXhlcztcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5hZGQzZEF4ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBheGVzID0gbmV3IFRIUkVFLkF4ZXNIZWxwZXIoKTtcbiAgICAgICAgYXhlcy5uYW1lID0gJ2F4ZXMnO1xuICAgICAgICB0aGlzLnNjZW5lLmFkZChheGVzKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5zZXREaW1lbnNpb25zID0gZnVuY3Rpb24gKGRpbWVuc2lvbnMpIHtcbiAgICAgICAgaWYgKGRpbWVuc2lvbnMgIT09IDIgJiYgZGltZW5zaW9ucyAhPT0gMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2RpbWVuc2lvbnMgbXVzdCBiZSAyIG9yIDMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zICE9PSBkaW1lbnNpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xuICAgICAgICAgICAgdGhpcy5tYWtlQ2FtZXJhKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5nZXRDYW1lcmFQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJQb3MgPSB0aGlzLmNhbWVyYS5wb3NpdGlvbjtcbiAgICAgICAgcmV0dXJuIFtjdXJyUG9zLngsIGN1cnJQb3MueSwgY3VyclBvcy56XTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5nZXRDYW1lcmFUYXJnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyVGFyZ2V0ID0gdGhpcy5vcmJpdENhbWVyYUNvbnRyb2xzLnRhcmdldDtcbiAgICAgICAgcmV0dXJuIFtjdXJyVGFyZ2V0LngsIGN1cnJUYXJnZXQueSwgY3VyclRhcmdldC56XTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5zZXRDYW1lcmFQb3NpdGlvbkFuZFRhcmdldCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuc3RvcE9yYml0QW5pbWF0aW9uKCk7XG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldChwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKTtcbiAgICAgICAgdGhpcy5vcmJpdENhbWVyYUNvbnRyb2xzLnRhcmdldC5zZXQodGFyZ2V0WzBdLCB0YXJnZXRbMV0sIHRhcmdldFsyXSk7XG4gICAgICAgIHRoaXMub3JiaXRDYW1lcmFDb250cm9scy51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5zdGFydE9yYml0QW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc2NlbmVJczNEKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcmJpdEFuaW1hdGlvbklkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcE9yYml0QW5pbWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcmJpdENhbWVyYUNvbnRyb2xzLmF1dG9Sb3RhdGUgPSB0cnVlO1xuICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMuYXV0b1JvdGF0ZVNwZWVkID0gdGhpcy5vcmJpdENvbnRyb2xQYXJhbXMuYXV0b1JvdGF0ZVNwZWVkO1xuICAgICAgICB0aGlzLnVwZGF0ZU9yYml0QW5pbWF0aW9uKCk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUub3JiaXRJc0FuaW1hdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JiaXRBbmltYXRpb25JZCAhPSBudWxsO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLnVwZGF0ZU9yYml0QW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMudXBkYXRlKCk7XG4gICAgICAgIHRoaXMub3JiaXRBbmltYXRpb25JZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMudXBkYXRlT3JiaXRBbmltYXRpb24oKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUuc3RvcE9yYml0QW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMuYXV0b1JvdGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMucm90YXRlU3BlZWQgPSB0aGlzLm9yYml0Q29udHJvbFBhcmFtcy5tb3VzZVJvdGF0ZVNwZWVkO1xuICAgICAgICBpZiAodGhpcy5vcmJpdEFuaW1hdGlvbklkICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMub3JiaXRBbmltYXRpb25JZCk7XG4gICAgICAgICAgICB0aGlzLm9yYml0QW5pbWF0aW9uSWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUuc2V0QWN0aXZlVmlzdWFsaXplcnMgPSBmdW5jdGlvbiAodmlzdWFsaXplcnMpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciBuZXh0VmlzdWFsaXplcklkcyA9IG5ldyBTZXQodmlzdWFsaXplcnMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2LmlkOyB9KSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKHRoaXMudmlzdWFsaXplcnMudmFsdWVzKCkpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpc3VhbGl6ZXIgPSBfZC52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIW5leHRWaXN1YWxpemVySWRzLmhhcyh2aXN1YWxpemVyLmlkKSkge1xuICAgICAgICAgICAgICAgICAgICB2aXN1YWxpemVyLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXN1YWxpemVycy5kZWxldGUodmlzdWFsaXplci5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIHZpc3VhbGl6ZXJzXzEgPSBfX3ZhbHVlcyh2aXN1YWxpemVycyksIHZpc3VhbGl6ZXJzXzFfMSA9IHZpc3VhbGl6ZXJzXzEubmV4dCgpOyAhdmlzdWFsaXplcnNfMV8xLmRvbmU7IHZpc3VhbGl6ZXJzXzFfMSA9IHZpc3VhbGl6ZXJzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpc3VhbGl6ZXIgPSB2aXN1YWxpemVyc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWxpemVycy5zZXQodmlzdWFsaXplci5pZCwgdmlzdWFsaXplcik7XG4gICAgICAgICAgICAgICAgdmlzdWFsaXplci5zZXRTY2VuZSh0aGlzLnNjZW5lKTtcbiAgICAgICAgICAgICAgICB2aXN1YWxpemVyLm9uUmVzaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53b3JsZFNwYWNlUG9pbnRQb3NpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlzdWFsaXplci5vblBvaW50UG9zaXRpb25zQ2hhbmdlZCh0aGlzLndvcmxkU3BhY2VQb2ludFBvc2l0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodmlzdWFsaXplcnNfMV8xICYmICF2aXN1YWxpemVyc18xXzEuZG9uZSAmJiAoX2IgPSB2aXN1YWxpemVyc18xLnJldHVybikpIF9iLmNhbGwodmlzdWFsaXplcnNfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5kaXNwb3NlQWxsVmlzdWFsaXplcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmlzdWFsaXplcnMuZm9yRWFjaChmdW5jdGlvbiAodikgeyByZXR1cm4gdi5kaXNwb3NlKCk7IH0pO1xuICAgICAgICB0aGlzLnZpc3VhbGl6ZXJzLmNsZWFyKCk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUuc2V0UG9pbnRQb3NpdGlvbnMgPSBmdW5jdGlvbiAod29ybGRTcGFjZVBvaW50UG9zaXRpb25zKSB7XG4gICAgICAgIHRoaXMud29ybGRTcGFjZVBvaW50UG9zaXRpb25zID0gd29ybGRTcGFjZVBvaW50UG9zaXRpb25zO1xuICAgICAgICB0aGlzLnZpc3VhbGl6ZXJzLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHJldHVybiB2Lm9uUG9pbnRQb3NpdGlvbnNDaGFuZ2VkKHdvcmxkU3BhY2VQb2ludFBvc2l0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGxpZ2h0UG9zID0gdGhpcy5jYW1lcmEucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgIGxpZ2h0UG9zLnggKz0gMTtcbiAgICAgICAgICAgIGxpZ2h0UG9zLnkgKz0gMTtcbiAgICAgICAgICAgIHRoaXMubGlnaHQucG9zaXRpb24uc2V0KGxpZ2h0UG9zLngsIGxpZ2h0UG9zLnksIGxpZ2h0UG9zLnopO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYW1lcmFUeXBlID0gdGhpcy5jYW1lcmEgaW5zdGFuY2VvZiBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYVxuICAgICAgICAgICAgPyByZW5kZXJfMS5DYW1lcmFUeXBlLlBlcnNwZWN0aXZlXG4gICAgICAgICAgICA6IHJlbmRlcl8xLkNhbWVyYVR5cGUuT3J0aG9ncmFwaGljO1xuICAgICAgICB2YXIgY2FtZXJhU3BhY2VQb2ludEV4dGVudHMgPSBbMCwgMF07XG4gICAgICAgIGlmICh0aGlzLndvcmxkU3BhY2VQb2ludFBvc2l0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgICAgICBjYW1lcmFTcGFjZVBvaW50RXh0ZW50cyA9IHV0aWwuZ2V0TmVhckZhclBvaW50cyh0aGlzLndvcmxkU3BhY2VQb2ludFBvc2l0aW9ucywgdGhpcy5jYW1lcmEucG9zaXRpb24sIHRoaXMub3JiaXRDYW1lcmFDb250cm9scy50YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByYyA9IG5ldyByZW5kZXJfMS5SZW5kZXJDb250ZXh0KHRoaXMuY2FtZXJhLCBjYW1lcmFUeXBlLCB0aGlzLm9yYml0Q2FtZXJhQ29udHJvbHMudGFyZ2V0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgY2FtZXJhU3BhY2VQb2ludEV4dGVudHNbMF0sIGNhbWVyYVNwYWNlUG9pbnRFeHRlbnRzWzFdLCB0aGlzLnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IsIHRoaXMucG9pbnRDb2xvcnMsIHRoaXMucG9pbnRTY2FsZUZhY3RvcnMsIHRoaXMubGFiZWxzLCB0aGlzLnBvbHlsaW5lQ29sb3JzLCB0aGlzLnBvbHlsaW5lT3BhY2l0aWVzLCB0aGlzLnBvbHlsaW5lV2lkdGhzKTtcbiAgICAgICAgdGhpcy52aXN1YWxpemVycy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2Lm9uUGlja2luZ1JlbmRlcihyYyk7IH0pO1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYXhlcyA9IHRoaXMucmVtb3ZlM2RBeGVzRnJvbVNjZW5lKCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFJlbmRlclRhcmdldCh0aGlzLnBpY2tpbmdUZXh0dXJlKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICAgICAgICAgIGlmIChheGVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmFkZChheGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpc3VhbGl6ZXJzLmZvckVhY2goZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYub25SZW5kZXIocmMpOyB9KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQobnVsbCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5zZXRQb2ludENvbG9ycyA9IGZ1bmN0aW9uIChjb2xvcnMpIHtcbiAgICAgICAgdGhpcy5wb2ludENvbG9ycyA9IGNvbG9ycztcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5zZXRQb2ludFNjYWxlRmFjdG9ycyA9IGZ1bmN0aW9uIChzY2FsZUZhY3RvcnMpIHtcbiAgICAgICAgdGhpcy5wb2ludFNjYWxlRmFjdG9ycyA9IHNjYWxlRmFjdG9ycztcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5zZXRMYWJlbHMgPSBmdW5jdGlvbiAobGFiZWxzKSB7XG4gICAgICAgIHRoaXMubGFiZWxzID0gbGFiZWxzO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLnNldFBvbHlsaW5lQ29sb3JzID0gZnVuY3Rpb24gKGNvbG9ycykge1xuICAgICAgICB0aGlzLnBvbHlsaW5lQ29sb3JzID0gY29sb3JzO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLnNldFBvbHlsaW5lT3BhY2l0aWVzID0gZnVuY3Rpb24gKG9wYWNpdGllcykge1xuICAgICAgICB0aGlzLnBvbHlsaW5lT3BhY2l0aWVzID0gb3BhY2l0aWVzO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLnNldFBvbHlsaW5lV2lkdGhzID0gZnVuY3Rpb24gKHdpZHRocykge1xuICAgICAgICB0aGlzLnBvbHlsaW5lV2lkdGhzID0gd2lkdGhzO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLnJlc2V0Wm9vbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZWNyZWF0ZUNhbWVyYSh0aGlzLm1ha2VEZWZhdWx0Q2FtZXJhRGVmKHRoaXMuZGltZW5zaW9ucykpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLnNldERheU5pZ2h0TW9kZSA9IGZ1bmN0aW9uIChpc05pZ2h0KSB7XG4gICAgICAgIHZhciBjYW52YXNlcyA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgZmlsdGVyVmFsdWUgPSBpc05pZ2h0ID8gJ2ludmVydCgxMDAlKScgOiAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYW52YXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2FudmFzZXNbaV0uc3R5bGUuZmlsdGVyID0gZmlsdGVyVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90LnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAocmVuZGVyKSB7XG4gICAgICAgIGlmIChyZW5kZXIgPT09IHZvaWQgMCkgeyByZW5kZXIgPSB0cnVlOyB9XG4gICAgICAgIHZhciBfYSA9IF9fcmVhZChbdGhpcy53aWR0aCwgdGhpcy5oZWlnaHRdLCAyKSwgb2xkVyA9IF9hWzBdLCBvbGRIID0gX2FbMV07XG4gICAgICAgIHZhciBfYiA9IF9fcmVhZCh0aGlzLmNvbXB1dGVMYXlvdXRWYWx1ZXMoKSwgMiksIG5ld1cgPSBfYlswXSwgbmV3SCA9IF9iWzFdO1xuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zID09PSAzKSB7XG4gICAgICAgICAgICB2YXIgY2FtZXJhID0gdGhpcy5jYW1lcmE7XG4gICAgICAgICAgICBjYW1lcmEuYXNwZWN0ID0gbmV3VyAvIG5ld0g7XG4gICAgICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNhbWVyYSA9IHRoaXMuY2FtZXJhO1xuICAgICAgICAgICAgdmFyIHNjYWxlVyA9IG5ld1cgLyBvbGRXO1xuICAgICAgICAgICAgdmFyIHNjYWxlSCA9IG5ld0ggLyBvbGRIO1xuICAgICAgICAgICAgdmFyIG5ld0NhbUhhbGZXaWR0aCA9ICgoY2FtZXJhLnJpZ2h0IC0gY2FtZXJhLmxlZnQpICogc2NhbGVXKSAvIDI7XG4gICAgICAgICAgICB2YXIgbmV3Q2FtSGFsZkhlaWdodCA9ICgoY2FtZXJhLnRvcCAtIGNhbWVyYS5ib3R0b20pICogc2NhbGVIKSAvIDI7XG4gICAgICAgICAgICBjYW1lcmEudG9wID0gbmV3Q2FtSGFsZkhlaWdodDtcbiAgICAgICAgICAgIGNhbWVyYS5ib3R0b20gPSAtbmV3Q2FtSGFsZkhlaWdodDtcbiAgICAgICAgICAgIGNhbWVyYS5sZWZ0ID0gLW5ld0NhbUhhbGZXaWR0aDtcbiAgICAgICAgICAgIGNhbWVyYS5yaWdodCA9IG5ld0NhbUhhbGZXaWR0aDtcbiAgICAgICAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyhkcHIpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUobmV3VywgbmV3SCk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJDYW52YXNTaXplID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2V0U2l6ZShyZW5kZXJDYW52YXNTaXplKTtcbiAgICAgICAgICAgIHZhciBwaXhlbFJhdGlvID0gdGhpcy5yZW5kZXJlci5nZXRQaXhlbFJhdGlvKCk7XG4gICAgICAgICAgICB0aGlzLnBpY2tpbmdUZXh0dXJlID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0KHJlbmRlckNhbnZhc1NpemUud2lkdGggKiBwaXhlbFJhdGlvLCByZW5kZXJDYW52YXNTaXplLmhlaWdodCAqIHBpeGVsUmF0aW8pO1xuICAgICAgICAgICAgdGhpcy5waWNraW5nVGV4dHVyZS50ZXh0dXJlLm1pbkZpbHRlciA9IFRIUkVFLkxpbmVhckZpbHRlcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpc3VhbGl6ZXJzLmZvckVhY2goZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYub25SZXNpemUobmV3VywgbmV3SCk7IH0pO1xuICAgICAgICBpZiAocmVuZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdC5wcm90b3R5cGUub25DYW1lcmFNb3ZlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMub25DYW1lcmFNb3ZlTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3QucHJvdG90eXBlLmNsaWNrT25Qb2ludCA9IGZ1bmN0aW9uIChwb2ludEluZGV4KSB7XG4gICAgICAgIHRoaXMubmVhcmVzdFBvaW50ID0gcG9pbnRJbmRleDtcbiAgICAgICAgdGhpcy5vbkNsaWNrKG51bGwsIGZhbHNlKTtcbiAgICB9O1xuICAgIHJldHVybiBTY2F0dGVyUGxvdDtcbn0oKSk7XG5leHBvcnRzLlNjYXR0ZXJQbG90ID0gU2NhdHRlclBsb3Q7XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwiX19yZWFkIiwibyIsIm0iLCJTeW1ib2wiLCJpdGVyYXRvciIsInIiLCJhciIsImUiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJ2YWx1ZSIsImVycm9yIiwiX192YWx1ZXMiLCJUeXBlRXJyb3IiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJUSFJFRSIsInJlcXVpcmUiLCJPcmJpdENvbnRyb2xzXzEiLCJyZW5kZXJfMSIsInV0aWwiLCJzY2F0dGVyX3Bsb3RfcmVjdGFuZ2xlX3NlbGVjdG9yXzEiLCJDVUJFX0xFTkdUSCIsIk1BWF9aT09NIiwiTUlOX1pPT00iLCJQRVJTUF9DQU1FUkFfRk9WX1ZFUlRJQ0FMIiwiUEVSU1BfQ0FNRVJBX05FQVJfQ0xJUF9QTEFORSIsIlBFUlNQX0NBTUVSQV9GQVJfQ0xJUF9QTEFORSIsIk9SVEhPX0NBTUVSQV9GUlVTVFVNX0hBTEZfRVhURU5UIiwiU0hJRlRfS0VZIiwiQ1RSTF9LRVkiLCJTVEFSVF9DQU1FUkFfUE9TXzNEIiwiVmVjdG9yMyIsIlNUQVJUX0NBTUVSQV9UQVJHRVRfM0QiLCJTVEFSVF9DQU1FUkFfUE9TXzJEIiwiU1RBUlRfQ0FNRVJBX1RBUkdFVF8yRCIsIkRFRkFVTFRfT1JCSVRfQ09OVFJPTF9QQVJBTVMiLCJtb3VzZVJvdGF0ZVNwZWVkIiwiYXV0b1JvdGF0ZVNwZWVkIiwiem9vbVNwZWVkIiwiU2NhdHRlclBsb3QiLCJjb250YWluZXJFbGVtZW50IiwicGFyYW1zIiwiX3RoaXMiLCJjbGlja0NhbGxiYWNrIiwiaG92ZXJDYWxsYmFjayIsInNlbGVjdENhbGxiYWNrIiwic2VsZWN0RW5hYmxlZCIsInZpc3VhbGl6ZXJzIiwiTWFwIiwib25DYW1lcmFNb3ZlTGlzdGVuZXJzIiwiaGVpZ2h0Iiwid2lkdGgiLCJkaW1lbnNpb25zIiwiaW50ZXJhY3Rpb25Nb2RlIiwicGlja2luZ1RleHR1cmUiLCJXZWJHTFJlbmRlclRhcmdldCIsIm9yYml0QW5pbWF0aW9uT25OZXh0Q2FtZXJhQ3JlYXRpb24iLCJvcmJpdEFuaW1hdGlvbklkIiwid29ybGRTcGFjZVBvaW50UG9zaXRpb25zIiwiRmxvYXQzMkFycmF5IiwicG9pbnRDb2xvcnMiLCJwb2ludFNjYWxlRmFjdG9ycyIsInBvbHlsaW5lQ29sb3JzIiwicG9seWxpbmVPcGFjaXRpZXMiLCJwb2x5bGluZVdpZHRocyIsInNlbGVjdGluZyIsIm5lYXJlc3RQb2ludCIsIm1vdXNlSXNEb3duIiwiaXNEcmFnU2VxdWVuY2UiLCJsYXN0SG92ZXJlZCIsImNvbnRhaW5lciIsInN0eWxlcyIsInNldFBhcmFtZXRlcnMiLCJjb21wdXRlTGF5b3V0VmFsdWVzIiwic2NlbmUiLCJTY2VuZSIsInJlbmRlcmVyIiwiV2ViR0xSZW5kZXJlciIsImFscGhhIiwicHJlbXVsdGlwbGllZEFscGhhIiwiYW50aWFsaWFzIiwic2V0Q2xlYXJDb2xvciIsImJhY2tncm91bmRDb2xvciIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsImxpZ2h0IiwiUG9pbnRMaWdodCIsImFkZCIsIm9yYml0Q29udHJvbFBhcmFtcyIsInJlY3RhbmdsZVNlbGVjdG9yIiwiU2NhdHRlclBsb3RSZWN0YW5nbGVTZWxlY3RvciIsImJvdW5kaW5nQm94Iiwic2VsZWN0Qm91bmRpbmdCb3giLCJhZGRJbnRlcmFjdGlvbkxpc3RlbmVycyIsInNldERpbWVuc2lvbnMiLCJtYWtlQ2FtZXJhIiwiY2FtZXJhIiwicmVzaXplIiwib25DbGljayIsInVuZGVmaW5lZCIsIm9uSG92ZXIiLCJvblNlbGVjdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbk1vdXNlTW92ZSIsImJpbmQiLCJvbk1vdXNlRG93biIsIm9uTW91c2VVcCIsIndpbmRvdyIsIm9uS2V5RG93biIsIm9uS2V5VXAiLCJhZGRDYW1lcmFDb250cm9sc0V2ZW50TGlzdGVuZXJzIiwiY2FtZXJhQ29udHJvbHMiLCJzdG9wT3JiaXRBbmltYXRpb24iLCJmb3JFYWNoIiwibCIsInBvc2l0aW9uIiwidGFyZ2V0IiwicmVuZGVyIiwibWFrZU9yYml0Q29udHJvbHMiLCJjYW1lcmFJczNEIiwib3JiaXRDYW1lcmFDb250cm9scyIsImRpc3Bvc2UiLCJvY2MiLCJPcmJpdENvbnRyb2xzIiwiZW5hYmxlUm90YXRlIiwiYXV0b1JvdGF0ZSIsImVuYWJsZUtleXMiLCJyb3RhdGVTcGVlZCIsIm1vdXNlQnV0dG9ucyIsIkxFRlQiLCJNT1VTRSIsIlJJR0hUIiwicmVzZXQiLCJjYW1lcmFQYXJhbXMiLCJkZWYiLCJtYWtlRGVmYXVsdENhbWVyYURlZiIsInJlY3JlYXRlQ2FtZXJhIiwiYXhlc1Zpc2libGUiLCJhZGQzZEF4ZXMiLCJyZW1vdmUzZEF4ZXNGcm9tU2NlbmUiLCJtYWtlQ2FtZXJhM0QiLCJjYW1lcmFEZWYiLCJ3IiwiaCIsImFzcGVjdFJhdGlvIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJzZXQiLCJhdCIsImxvb2tBdCIsInpvb20iLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwibWFrZUNhbWVyYTJEIiwibGVmdCIsInJpZ2h0IiwiYm90dG9tIiwidG9wXzEiLCJPcnRob2dyYXBoaWNDYW1lcmEiLCJ1cCIsIm9ydGhvZ3JhcGhpYyIsIngiLCJ5IiwieiIsIm1pbkRpc3RhbmNlIiwibWF4RGlzdGFuY2UiLCJ1cGRhdGUiLCJzdGFydE9yYml0QW5pbWF0aW9uIiwic2V0SW50ZXJhY3Rpb25Nb2RlIiwic3R5bGUiLCJjdXJzb3IiLCJlbmFibGVkIiwibm90aWZ5Iiwic2VsZWN0ZWQiLCJvZmZzZXRYIiwib2Zmc2V0WSIsInNldE5lYXJlc3RQb2ludFRvTW91c2UiLCJjdHJsS2V5Iiwic2NlbmVJczNEIiwiT1JCSVQiLCJQQU4iLCJrZXkiLCJnZXRQb2ludEluZGljZXNGcm9tQm91bmRpbmdCb3giLCJ1cGRhdGVNYXRyaXhXb3JsZCIsImRwciIsImRldmljZVBpeGVsUmF0aW8iLCJzZWxlY3Rpb25YIiwiTWF0aCIsImZsb29yIiwic2VsZWN0aW9uWSIsInNlbGVjdGlvbldpZHRoIiwibWF4Iiwic2VsZWN0aW9uSGVpZ2h0IiwiZ2V0UG9pbnRJbmRpY2VzRnJvbUJvdW5kaW5nQm94UGlja2luZ1RleHR1cmUiLCJjYW52YXMiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsInBvaW50SW5kaWNlcyIsInZlY3RvcjMiLCJzdGFydCIsIl9hIiwic2xpY2UiLCJ3b3JsZFgiLCJ3b3JsZFkiLCJ3b3JsZFoiLCJzY3JlZW5WZWN0b3IiLCJwcm9qZWN0IiwicG9pbnRDb3VudCIsInBpeGVsQnVmZmVyIiwiVWludDhBcnJheSIsInJlYWRSZW5kZXJUYXJnZXRQaXhlbHMiLCJwb2ludEluZGljZXNTZWxlY3Rpb24iLCJpZCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0IiwiYXhlcyIsImdldE9iamVjdEJ5TmFtZSIsInJlbW92ZSIsIkF4ZXNIZWxwZXIiLCJuYW1lIiwiUmFuZ2VFcnJvciIsImdldENhbWVyYVBvc2l0aW9uIiwiY3VyclBvcyIsImdldENhbWVyYVRhcmdldCIsImN1cnJUYXJnZXQiLCJzZXRDYW1lcmFQb3NpdGlvbkFuZFRhcmdldCIsInVwZGF0ZU9yYml0QW5pbWF0aW9uIiwib3JiaXRJc0FuaW1hdGluZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwic2V0QWN0aXZlVmlzdWFsaXplcnMiLCJlXzEiLCJlXzIiLCJfYiIsIm5leHRWaXN1YWxpemVySWRzIiwiU2V0IiwibWFwIiwidiIsIl9jIiwidmFsdWVzIiwiX2QiLCJ2aXN1YWxpemVyIiwiaGFzIiwiZGVsZXRlIiwiZV8xXzEiLCJyZXR1cm4iLCJ2aXN1YWxpemVyc18xIiwidmlzdWFsaXplcnNfMV8xIiwic2V0U2NlbmUiLCJvblJlc2l6ZSIsIm9uUG9pbnRQb3NpdGlvbnNDaGFuZ2VkIiwiZV8yXzEiLCJkaXNwb3NlQWxsVmlzdWFsaXplcnMiLCJjbGVhciIsInNldFBvaW50UG9zaXRpb25zIiwibGlnaHRQb3MiLCJjbG9uZSIsImNhbWVyYVR5cGUiLCJDYW1lcmFUeXBlIiwiUGVyc3BlY3RpdmUiLCJPcnRob2dyYXBoaWMiLCJjYW1lcmFTcGFjZVBvaW50RXh0ZW50cyIsImdldE5lYXJGYXJQb2ludHMiLCJyYyIsIlJlbmRlckNvbnRleHQiLCJsYWJlbHMiLCJvblBpY2tpbmdSZW5kZXIiLCJzZXRSZW5kZXJUYXJnZXQiLCJvblJlbmRlciIsInNldFBvaW50Q29sb3JzIiwiY29sb3JzIiwic2V0UG9pbnRTY2FsZUZhY3RvcnMiLCJzY2FsZUZhY3RvcnMiLCJzZXRMYWJlbHMiLCJzZXRQb2x5bGluZUNvbG9ycyIsInNldFBvbHlsaW5lT3BhY2l0aWVzIiwib3BhY2l0aWVzIiwic2V0UG9seWxpbmVXaWR0aHMiLCJ3aWR0aHMiLCJyZXNldFpvb20iLCJzZXREYXlOaWdodE1vZGUiLCJpc05pZ2h0IiwiY2FudmFzZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZmlsdGVyVmFsdWUiLCJmaWx0ZXIiLCJvbGRXIiwib2xkSCIsIm5ld1ciLCJuZXdIIiwiYXNwZWN0Iiwic2NhbGVXIiwic2NhbGVIIiwibmV3Q2FtSGFsZldpZHRoIiwibmV3Q2FtSGFsZkhlaWdodCIsInRvcCIsInNldFBpeGVsUmF0aW8iLCJzZXRTaXplIiwicmVuZGVyQ2FudmFzU2l6ZSIsIlZlY3RvcjIiLCJnZXRTaXplIiwicGl4ZWxSYXRpbyIsImdldFBpeGVsUmF0aW8iLCJ0ZXh0dXJlIiwibWluRmlsdGVyIiwiTGluZWFyRmlsdGVyIiwib25DYW1lcmFNb3ZlIiwibGlzdGVuZXIiLCJjbGlja09uUG9pbnQiLCJwb2ludEluZGV4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/scatter_plot.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/scatter_plot_rectangle_selector.js":
/*!*************************************************************************!*\
  !*** ./node_modules/scatter-gl/dist/scatter_plot_rectangle_selector.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar ScatterPlotRectangleSelector = function() {\n    function ScatterPlotRectangleSelector(container, selectionCallback, styles) {\n        this.startCoordinates = [\n            0,\n            0\n        ];\n        this.svgElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n        this.svgElement.style.display = \"none\";\n        this.svgElement.style.height = \"100%\";\n        this.svgElement.style.width = \"100%\";\n        this.svgElement.style.position = \"absolute\";\n        container.insertAdjacentElement(\"afterbegin\", this.svgElement);\n        this.rectElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n        this.rectElement.style.stroke = styles.select.stroke;\n        this.rectElement.style.strokeDasharray = styles.select.strokeDashArray;\n        this.rectElement.style.strokeWidth = \"\" + styles.select.strokeWidth;\n        this.rectElement.style.fill = styles.select.fill;\n        this.rectElement.style.fillOpacity = \"\" + styles.select.fillOpacity;\n        this.svgElement.appendChild(this.rectElement);\n        this.selectionCallback = selectionCallback;\n        this.isMouseDown = false;\n    }\n    ScatterPlotRectangleSelector.prototype.onMouseDown = function(offsetX, offsetY) {\n        this.isMouseDown = true;\n        this.rectElement.style.display = \"block\";\n        this.svgElement.style.display = \"block\";\n        this.startCoordinates = [\n            offsetX,\n            offsetY\n        ];\n        this.lastBoundingBox = {\n            x: this.startCoordinates[0],\n            y: this.startCoordinates[1],\n            width: 1,\n            height: 1\n        };\n    };\n    ScatterPlotRectangleSelector.prototype.onMouseMove = function(offsetX, offsetY) {\n        if (!this.isMouseDown) {\n            return;\n        }\n        this.lastBoundingBox.x = Math.min(offsetX, this.startCoordinates[0]);\n        this.lastBoundingBox.y = Math.max(offsetY, this.startCoordinates[1]);\n        this.lastBoundingBox.width = Math.max(offsetX, this.startCoordinates[0]) - this.lastBoundingBox.x;\n        this.lastBoundingBox.height = this.lastBoundingBox.y - Math.min(offsetY, this.startCoordinates[1]);\n        this.rectElement.setAttribute(\"x\", \"\" + this.lastBoundingBox.x);\n        this.rectElement.setAttribute(\"y\", \"\" + (this.lastBoundingBox.y - this.lastBoundingBox.height));\n        this.rectElement.setAttribute(\"width\", \"\" + this.lastBoundingBox.width);\n        this.rectElement.setAttribute(\"height\", \"\" + this.lastBoundingBox.height);\n    };\n    ScatterPlotRectangleSelector.prototype.onMouseUp = function() {\n        this.isMouseDown = false;\n        this.svgElement.style.display = \"none\";\n        this.rectElement.style.display = \"none\";\n        this.rectElement.setAttribute(\"width\", \"0\");\n        this.rectElement.setAttribute(\"height\", \"0\");\n        this.selectionCallback(this.lastBoundingBox);\n    };\n    return ScatterPlotRectangleSelector;\n}();\nexports.ScatterPlotRectangleSelector = ScatterPlotRectangleSelector;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L3NjYXR0ZXJfcGxvdF9yZWN0YW5nbGVfc2VsZWN0b3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYkEsOENBQTZDO0lBQUVHLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0QsSUFBSUMsK0JBQWdDO0lBQ2hDLFNBQVNBLDZCQUE2QkMsU0FBUyxFQUFFQyxpQkFBaUIsRUFBRUMsTUFBTTtRQUN0RSxJQUFJLENBQUNDLGdCQUFnQixHQUFHO1lBQUM7WUFBRztTQUFFO1FBQzlCLElBQUksQ0FBQ0MsVUFBVSxHQUFHQyxTQUFTQyxlQUFlLENBQUMsOEJBQThCO1FBQ3pFLElBQUksQ0FBQ0YsVUFBVSxDQUFDRyxLQUFLLENBQUNDLE9BQU8sR0FBRztRQUNoQyxJQUFJLENBQUNKLFVBQVUsQ0FBQ0csS0FBSyxDQUFDRSxNQUFNLEdBQUc7UUFDL0IsSUFBSSxDQUFDTCxVQUFVLENBQUNHLEtBQUssQ0FBQ0csS0FBSyxHQUFHO1FBQzlCLElBQUksQ0FBQ04sVUFBVSxDQUFDRyxLQUFLLENBQUNJLFFBQVEsR0FBRztRQUNqQ1gsVUFBVVkscUJBQXFCLENBQUMsY0FBYyxJQUFJLENBQUNSLFVBQVU7UUFDN0QsSUFBSSxDQUFDUyxXQUFXLEdBQUdSLFNBQVNDLGVBQWUsQ0FBQyw4QkFBOEI7UUFDMUUsSUFBSSxDQUFDTyxXQUFXLENBQUNOLEtBQUssQ0FBQ08sTUFBTSxHQUFHWixPQUFPYSxNQUFNLENBQUNELE1BQU07UUFDcEQsSUFBSSxDQUFDRCxXQUFXLENBQUNOLEtBQUssQ0FBQ1MsZUFBZSxHQUFHZCxPQUFPYSxNQUFNLENBQUNFLGVBQWU7UUFDdEUsSUFBSSxDQUFDSixXQUFXLENBQUNOLEtBQUssQ0FBQ1csV0FBVyxHQUFHLEtBQUtoQixPQUFPYSxNQUFNLENBQUNHLFdBQVc7UUFDbkUsSUFBSSxDQUFDTCxXQUFXLENBQUNOLEtBQUssQ0FBQ1ksSUFBSSxHQUFHakIsT0FBT2EsTUFBTSxDQUFDSSxJQUFJ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dXJjZXMiOlsid2VicGFjazovL3lvZ2Fwb3NlcGVyZmVjdC8uL25vZGVfbW9kdWxlcy9zY2F0dGVyLWdsL2Rpc3Qvc2NhdHRlcl9wbG90X3JlY3RhbmdsZV9zZWxlY3Rvci5qcz9iMDhmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFNjYXR0ZXJQbG90UmVjdGFuZ2xlU2VsZWN0b3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjYXR0ZXJQbG90UmVjdGFuZ2xlU2VsZWN0b3IoY29udGFpbmVyLCBzZWxlY3Rpb25DYWxsYmFjaywgc3R5bGVzKSB7XG4gICAgICAgIHRoaXMuc3RhcnRDb29yZGluYXRlcyA9IFswLCAwXTtcbiAgICAgICAgdGhpcy5zdmdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICAgICAgdGhpcy5zdmdFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMuc3ZnRWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIHRoaXMuc3ZnRWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgdGhpcy5zdmdFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgY29udGFpbmVyLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJiZWdpbicsIHRoaXMuc3ZnRWxlbWVudCk7XG4gICAgICAgIHRoaXMucmVjdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3JlY3QnKTtcbiAgICAgICAgdGhpcy5yZWN0RWxlbWVudC5zdHlsZS5zdHJva2UgPSBzdHlsZXMuc2VsZWN0LnN0cm9rZTtcbiAgICAgICAgdGhpcy5yZWN0RWxlbWVudC5zdHlsZS5zdHJva2VEYXNoYXJyYXkgPSBzdHlsZXMuc2VsZWN0LnN0cm9rZURhc2hBcnJheTtcbiAgICAgICAgdGhpcy5yZWN0RWxlbWVudC5zdHlsZS5zdHJva2VXaWR0aCA9IFwiXCIgKyBzdHlsZXMuc2VsZWN0LnN0cm9rZVdpZHRoO1xuICAgICAgICB0aGlzLnJlY3RFbGVtZW50LnN0eWxlLmZpbGwgPSBzdHlsZXMuc2VsZWN0LmZpbGw7XG4gICAgICAgIHRoaXMucmVjdEVsZW1lbnQuc3R5bGUuZmlsbE9wYWNpdHkgPSBcIlwiICsgc3R5bGVzLnNlbGVjdC5maWxsT3BhY2l0eTtcbiAgICAgICAgdGhpcy5zdmdFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMucmVjdEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkNhbGxiYWNrID0gc2VsZWN0aW9uQ2FsbGJhY2s7XG4gICAgICAgIHRoaXMuaXNNb3VzZURvd24gPSBmYWxzZTtcbiAgICB9XG4gICAgU2NhdHRlclBsb3RSZWN0YW5nbGVTZWxlY3Rvci5wcm90b3R5cGUub25Nb3VzZURvd24gPSBmdW5jdGlvbiAob2Zmc2V0WCwgb2Zmc2V0WSkge1xuICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZWN0RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgdGhpcy5zdmdFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB0aGlzLnN0YXJ0Q29vcmRpbmF0ZXMgPSBbb2Zmc2V0WCwgb2Zmc2V0WV07XG4gICAgICAgIHRoaXMubGFzdEJvdW5kaW5nQm94ID0ge1xuICAgICAgICAgICAgeDogdGhpcy5zdGFydENvb3JkaW5hdGVzWzBdLFxuICAgICAgICAgICAgeTogdGhpcy5zdGFydENvb3JkaW5hdGVzWzFdLFxuICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICBoZWlnaHQ6IDEsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFJlY3RhbmdsZVNlbGVjdG9yLnByb3RvdHlwZS5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChvZmZzZXRYLCBvZmZzZXRZKSB7XG4gICAgICAgIGlmICghdGhpcy5pc01vdXNlRG93bikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdEJvdW5kaW5nQm94LnggPSBNYXRoLm1pbihvZmZzZXRYLCB0aGlzLnN0YXJ0Q29vcmRpbmF0ZXNbMF0pO1xuICAgICAgICB0aGlzLmxhc3RCb3VuZGluZ0JveC55ID0gTWF0aC5tYXgob2Zmc2V0WSwgdGhpcy5zdGFydENvb3JkaW5hdGVzWzFdKTtcbiAgICAgICAgdGhpcy5sYXN0Qm91bmRpbmdCb3gud2lkdGggPVxuICAgICAgICAgICAgTWF0aC5tYXgob2Zmc2V0WCwgdGhpcy5zdGFydENvb3JkaW5hdGVzWzBdKSAtIHRoaXMubGFzdEJvdW5kaW5nQm94Lng7XG4gICAgICAgIHRoaXMubGFzdEJvdW5kaW5nQm94LmhlaWdodCA9XG4gICAgICAgICAgICB0aGlzLmxhc3RCb3VuZGluZ0JveC55IC0gTWF0aC5taW4ob2Zmc2V0WSwgdGhpcy5zdGFydENvb3JkaW5hdGVzWzFdKTtcbiAgICAgICAgdGhpcy5yZWN0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3gnLCAnJyArIHRoaXMubGFzdEJvdW5kaW5nQm94LngpO1xuICAgICAgICB0aGlzLnJlY3RFbGVtZW50LnNldEF0dHJpYnV0ZSgneScsICcnICsgKHRoaXMubGFzdEJvdW5kaW5nQm94LnkgLSB0aGlzLmxhc3RCb3VuZGluZ0JveC5oZWlnaHQpKTtcbiAgICAgICAgdGhpcy5yZWN0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgJycgKyB0aGlzLmxhc3RCb3VuZGluZ0JveC53aWR0aCk7XG4gICAgICAgIHRoaXMucmVjdEVsZW1lbnQuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAnJyArIHRoaXMubGFzdEJvdW5kaW5nQm94LmhlaWdodCk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFJlY3RhbmdsZVNlbGVjdG9yLnByb3RvdHlwZS5vbk1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNNb3VzZURvd24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdmdFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMucmVjdEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdGhpcy5yZWN0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgJzAnKTtcbiAgICAgICAgdGhpcy5yZWN0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsICcwJyk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uQ2FsbGJhY2sodGhpcy5sYXN0Qm91bmRpbmdCb3gpO1xuICAgIH07XG4gICAgcmV0dXJuIFNjYXR0ZXJQbG90UmVjdGFuZ2xlU2VsZWN0b3I7XG59KCkpO1xuZXhwb3J0cy5TY2F0dGVyUGxvdFJlY3RhbmdsZVNlbGVjdG9yID0gU2NhdHRlclBsb3RSZWN0YW5nbGVTZWxlY3RvcjtcbiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlNjYXR0ZXJQbG90UmVjdGFuZ2xlU2VsZWN0b3IiLCJjb250YWluZXIiLCJzZWxlY3Rpb25DYWxsYmFjayIsInN0eWxlcyIsInN0YXJ0Q29vcmRpbmF0ZXMiLCJzdmdFbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJzdHlsZSIsImRpc3BsYXkiLCJoZWlnaHQiLCJ3aWR0aCIsInBvc2l0aW9uIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwicmVjdEVsZW1lbnQiLCJzdHJva2UiLCJzZWxlY3QiLCJzdHJva2VEYXNoYXJyYXkiLCJzdHJva2VEYXNoQXJyYXkiLCJzdHJva2VXaWR0aCIsImZpbGwiLCJmaWxsT3BhY2l0eSIsImFwcGVuZENoaWxkIiwiaXNNb3VzZURvd24iLCJwcm90b3R5cGUiLCJvbk1vdXNlRG93biIsIm9mZnNldFgiLCJvZmZzZXRZIiwibGFzdEJvdW5kaW5nQm94IiwieCIsInkiLCJvbk1vdXNlTW92ZSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJzZXRBdHRyaWJ1dGUiLCJvbk1vdXNlVXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/scatter_plot_rectangle_selector.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/scatter_plot_visualizer_3d_labels.js":
/*!***************************************************************************!*\
  !*** ./node_modules/scatter-gl/dist/scatter_plot_visualizer_3d_labels.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar THREE = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\nvar util = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/scatter-gl/dist/util.js\");\nvar constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/scatter-gl/dist/constants.js\");\nvar MAX_CANVAS_DIMENSION = 8192;\nvar NUM_GLYPHS = 256;\nvar VERTICES_PER_GLYPH = 2 * 3;\nvar makeVertexShader = function(fontSize, scale) {\n    return \"\\n      attribute vec2 posObj;\\n      attribute vec4 color;\\n      varying vec2 vUv;\\n      varying vec4 vColor;\\n\\n      void main() {\\n        vUv = uv;\\n        vColor = color;\\n\\n        // Rotate label to face camera.\\n\\n        vec4 vRight = vec4(\\n          modelViewMatrix[0][0], modelViewMatrix[1][0], modelViewMatrix[2][0], 0);\\n\\n        vec4 vUp = vec4(\\n          modelViewMatrix[0][1], modelViewMatrix[1][1], modelViewMatrix[2][1], 0);\\n\\n        vec4 vAt = -vec4(\\n          modelViewMatrix[0][2], modelViewMatrix[1][2], modelViewMatrix[2][2], 0);\\n\\n        mat4 pointToCamera = mat4(vRight, vUp, vAt, vec4(0, 0, 0, 1));\\n\\n        vec2 scaledPos = posObj * \" + 1 / fontSize + \" * \" + scale + \";\\n\\n        vec4 posRotated = pointToCamera * vec4(scaledPos, 0, 1);\\n        vec4 mvPosition = modelViewMatrix * (vec4(position, 0) + posRotated);\\n        gl_Position = projectionMatrix * mvPosition;\\n      }\";\n};\nvar FRAGMENT_SHADER = \"\\n      uniform sampler2D glyphTexture;\\n      uniform bool picking;\\n      varying vec2 vUv;\\n      varying vec4 vColor;\\n\\n      void main() {\\n        if (picking) {\\n          gl_FragColor = vColor;\\n        } else {\\n          vec4 fromTexture = texture(glyphTexture, vUv);\\n          gl_FragColor = vColor * fromTexture;\\n        }\\n      }\";\nvar ScatterPlotVisualizer3DLabels = function() {\n    function ScatterPlotVisualizer3DLabels(styles) {\n        this.styles = styles;\n        this.id = \"3D_LABELS\";\n        this.labelStrings = [];\n        this.worldSpacePointPositions = new Float32Array(0);\n        this.pickingColors = new Float32Array(0);\n        this.renderColors = new Float32Array(0);\n        this.uniforms = {};\n        this.totalVertexCount = 0;\n        this.labelVertexMap = [];\n    }\n    ScatterPlotVisualizer3DLabels.prototype.createGlyphTexture = function() {\n        var _a = this.styles.label3D, fontSize = _a.fontSize, backgroundColor = _a.backgroundColor, color = _a.color;\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = MAX_CANVAS_DIMENSION;\n        canvas.height = fontSize;\n        var ctx = canvas.getContext(\"2d\");\n        ctx.font = \"bold \" + fontSize + \"px roboto\";\n        ctx.textBaseline = \"top\";\n        ctx.fillStyle = backgroundColor;\n        ctx.rect(0, 0, canvas.width, canvas.height);\n        ctx.fill();\n        ctx.fillStyle = color;\n        var spaceOffset = ctx.measureText(\" \").width;\n        var glyphLengths = new Float32Array(NUM_GLYPHS);\n        var glyphOffset = new Float32Array(NUM_GLYPHS);\n        var leftCoord = 0;\n        for(var i = 0; i < NUM_GLYPHS; i++){\n            var text = \" \" + String.fromCharCode(i);\n            var textLength = ctx.measureText(text).width;\n            glyphLengths[i] = textLength - spaceOffset;\n            glyphOffset[i] = leftCoord;\n            ctx.fillText(text, leftCoord - spaceOffset, 0);\n            leftCoord += textLength;\n        }\n        var tex = util.createTextureFromCanvas(canvas);\n        return {\n            texture: tex,\n            lengths: glyphLengths,\n            offsets: glyphOffset\n        };\n    };\n    ScatterPlotVisualizer3DLabels.prototype.processLabelVerts = function(pointCount) {\n        var numTotalLetters = 0;\n        this.labelVertexMap = [];\n        for(var i = 0; i < pointCount; i++){\n            var label = this.labelStrings[i];\n            var vertsArray = [];\n            for(var j = 0; j < label.length; j++){\n                for(var k = 0; k < VERTICES_PER_GLYPH; k++){\n                    vertsArray.push(numTotalLetters * VERTICES_PER_GLYPH + k);\n                }\n                numTotalLetters++;\n            }\n            this.labelVertexMap.push(vertsArray);\n        }\n        this.totalVertexCount = numTotalLetters * VERTICES_PER_GLYPH;\n    };\n    ScatterPlotVisualizer3DLabels.prototype.createColorBuffers = function(pointCount) {\n        var _this = this;\n        this.pickingColors = new Float32Array(this.totalVertexCount * constants_1.RGB_NUM_ELEMENTS);\n        this.renderColors = new Float32Array(this.totalVertexCount * constants_1.RGB_NUM_ELEMENTS);\n        var _loop_1 = function(i) {\n            var pickingColor = new THREE.Color(i);\n            this_1.labelVertexMap[i].forEach(function(j) {\n                _this.pickingColors[constants_1.RGB_NUM_ELEMENTS * j] = pickingColor.r;\n                _this.pickingColors[constants_1.RGB_NUM_ELEMENTS * j + 1] = pickingColor.g;\n                _this.pickingColors[constants_1.RGB_NUM_ELEMENTS * j + 2] = pickingColor.b;\n                _this.renderColors[constants_1.RGB_NUM_ELEMENTS * j] = 1.0;\n                _this.renderColors[constants_1.RGB_NUM_ELEMENTS * j + 1] = 1.0;\n                _this.renderColors[constants_1.RGB_NUM_ELEMENTS * j + 2] = 1.0;\n            });\n        };\n        var this_1 = this;\n        for(var i = 0; i < pointCount; i++){\n            _loop_1(i);\n        }\n    };\n    ScatterPlotVisualizer3DLabels.prototype.createLabels = function() {\n        var _this = this;\n        var _a = this.styles.label3D, fontSize = _a.fontSize, scale = _a.scale;\n        if (this.labelStrings == null || this.worldSpacePointPositions == null) {\n            return;\n        }\n        var pointCount = this.worldSpacePointPositions.length / constants_1.XYZ_NUM_ELEMENTS;\n        if (pointCount !== this.labelStrings.length) {\n            return;\n        }\n        this.glyphTexture = this.createGlyphTexture();\n        this.uniforms = {\n            glyphTexture: {\n                value: null\n            },\n            picking: {\n                value: false\n            }\n        };\n        this.material = new THREE.ShaderMaterial({\n            uniforms: this.uniforms,\n            transparent: true,\n            vertexShader: makeVertexShader(fontSize, scale),\n            fragmentShader: FRAGMENT_SHADER\n        });\n        this.processLabelVerts(pointCount);\n        this.createColorBuffers(pointCount);\n        var positionArray = new Float32Array(this.totalVertexCount * constants_1.XYZ_NUM_ELEMENTS);\n        this.positions = new THREE.BufferAttribute(positionArray, constants_1.XYZ_NUM_ELEMENTS);\n        var posArray = new Float32Array(this.totalVertexCount * constants_1.XYZ_NUM_ELEMENTS);\n        var uvArray = new Float32Array(this.totalVertexCount * constants_1.UV_NUM_ELEMENTS);\n        var colorsArray = new Float32Array(this.totalVertexCount * constants_1.RGB_NUM_ELEMENTS);\n        var positionObject = new THREE.BufferAttribute(posArray, 2);\n        var uv = new THREE.BufferAttribute(uvArray, constants_1.UV_NUM_ELEMENTS);\n        var colors = new THREE.BufferAttribute(colorsArray, constants_1.RGB_NUM_ELEMENTS);\n        this.geometry = new THREE.BufferGeometry();\n        this.geometry.setAttribute(\"posObj\", positionObject);\n        this.geometry.setAttribute(\"position\", this.positions);\n        this.geometry.setAttribute(\"uv\", uv);\n        this.geometry.setAttribute(\"color\", colors);\n        var lettersSoFar = 0;\n        for(var i = 0; i < pointCount; i++){\n            var label = this.labelStrings[i];\n            var leftOffset = 0;\n            for(var j = 0; j < label.length; j++){\n                var letterCode = label.charCodeAt(j);\n                leftOffset += this.glyphTexture.lengths[letterCode];\n            }\n            leftOffset /= -2;\n            for(var j = 0; j < label.length; j++){\n                var letterCode = label.charCodeAt(j);\n                var letterWidth = this.glyphTexture.lengths[letterCode];\n                var scale_1 = fontSize;\n                var right = (leftOffset + letterWidth) / scale_1;\n                var left = leftOffset / scale_1;\n                var top_1 = fontSize / scale_1;\n                positionObject.setXY(lettersSoFar * VERTICES_PER_GLYPH + 0, left, 0);\n                positionObject.setXY(lettersSoFar * VERTICES_PER_GLYPH + 1, right, 0);\n                positionObject.setXY(lettersSoFar * VERTICES_PER_GLYPH + 2, left, top_1);\n                positionObject.setXY(lettersSoFar * VERTICES_PER_GLYPH + 3, left, top_1);\n                positionObject.setXY(lettersSoFar * VERTICES_PER_GLYPH + 4, right, 0);\n                positionObject.setXY(lettersSoFar * VERTICES_PER_GLYPH + 5, right, top_1);\n                var uLeft = this.glyphTexture.offsets[letterCode];\n                var uRight = this.glyphTexture.offsets[letterCode] + letterWidth;\n                uLeft /= MAX_CANVAS_DIMENSION;\n                uRight /= MAX_CANVAS_DIMENSION;\n                var vTop = 1;\n                var vBottom = 0;\n                uv.setXY(lettersSoFar * VERTICES_PER_GLYPH + 0, uLeft, vTop);\n                uv.setXY(lettersSoFar * VERTICES_PER_GLYPH + 1, uRight, vTop);\n                uv.setXY(lettersSoFar * VERTICES_PER_GLYPH + 2, uLeft, vBottom);\n                uv.setXY(lettersSoFar * VERTICES_PER_GLYPH + 3, uLeft, vBottom);\n                uv.setXY(lettersSoFar * VERTICES_PER_GLYPH + 4, uRight, vTop);\n                uv.setXY(lettersSoFar * VERTICES_PER_GLYPH + 5, uRight, vBottom);\n                lettersSoFar++;\n                leftOffset += letterWidth;\n            }\n        }\n        var _loop_2 = function(i) {\n            var p = util.vector3FromPackedArray(this_2.worldSpacePointPositions, i);\n            this_2.labelVertexMap[i].forEach(function(j) {\n                _this.positions.setXYZ(j, p.x, p.y, p.z);\n            });\n        };\n        var this_2 = this;\n        for(var i = 0; i < pointCount; i++){\n            _loop_2(i);\n        }\n        this.labelsMesh = new THREE.Mesh(this.geometry, this.material);\n        this.labelsMesh.frustumCulled = false;\n        this.scene.add(this.labelsMesh);\n    };\n    ScatterPlotVisualizer3DLabels.prototype.colorLabels = function(pointColors) {\n        if (this.labelStrings == null || this.geometry == null || pointColors == null) {\n            return;\n        }\n        var colors = this.geometry.getAttribute(\"color\");\n        colors.array = this.renderColors;\n        var n = pointColors.length / constants_1.RGBA_NUM_ELEMENTS;\n        var src = 0;\n        for(var i = 0; i < n; ++i){\n            var c = new THREE.Color(pointColors[src], pointColors[src + 1], pointColors[src + 2]);\n            var m = this.labelVertexMap[i].length;\n            for(var j = 0; j < m; ++j){\n                colors.setXYZ(this.labelVertexMap[i][j], c.r, c.g, c.b);\n            }\n            src += constants_1.RGBA_NUM_ELEMENTS;\n        }\n        colors.needsUpdate = true;\n    };\n    ScatterPlotVisualizer3DLabels.prototype.setScene = function(scene) {\n        this.scene = scene;\n    };\n    ScatterPlotVisualizer3DLabels.prototype.dispose = function() {\n        if (this.labelsMesh) {\n            if (this.scene) {\n                this.scene.remove(this.labelsMesh);\n            }\n            this.labelsMesh = null;\n        }\n        if (this.geometry) {\n            this.geometry.dispose();\n            this.geometry = null;\n        }\n        if (this.glyphTexture != null && this.glyphTexture.texture != null) {\n            this.glyphTexture.texture.dispose();\n            this.glyphTexture.texture = null;\n        }\n    };\n    ScatterPlotVisualizer3DLabels.prototype.onPickingRender = function(rc) {\n        if (this.geometry == null) {\n            this.createLabels();\n            return;\n        }\n        this.material.uniforms.glyphTexture.value = this.glyphTexture.texture;\n        this.material.uniforms.picking.value = true;\n        var colors = this.geometry.getAttribute(\"color\");\n        colors.array = this.pickingColors;\n        colors.needsUpdate = true;\n    };\n    ScatterPlotVisualizer3DLabels.prototype.onRender = function(rc) {\n        if (this.geometry == null) {\n            this.createLabels();\n            return;\n        }\n        this.colorLabels(rc.pointColors);\n        this.material.uniforms.glyphTexture.value = this.glyphTexture.texture;\n        this.material.uniforms.picking.value = false;\n        var colors = this.geometry.getAttribute(\"color\");\n        colors.array = this.renderColors;\n        colors.needsUpdate = true;\n    };\n    ScatterPlotVisualizer3DLabels.prototype.onPointPositionsChanged = function(newPositions) {\n        this.worldSpacePointPositions = newPositions;\n        this.dispose();\n    };\n    ScatterPlotVisualizer3DLabels.prototype.setLabelStrings = function(labelStrings) {\n        this.labelStrings = labelStrings;\n        this.dispose();\n    };\n    ScatterPlotVisualizer3DLabels.prototype.onResize = function(newWidth, newHeight) {};\n    return ScatterPlotVisualizer3DLabels;\n}();\nexports.ScatterPlotVisualizer3DLabels = ScatterPlotVisualizer3DLabels;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L3NjYXR0ZXJfcGxvdF92aXN1YWxpemVyXzNkX2xhYmVscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiQSw4Q0FBNkM7SUFBRUcsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3RCxJQUFJQyxRQUFRQyxtQkFBT0EsQ0FBQywrREFBTztBQUMzQixJQUFJQyxPQUFPRCxtQkFBT0EsQ0FBQyw0REFBUTtBQUMzQixJQUFJRSxjQUFjRixtQkFBT0EsQ0FBQyxzRUFBYTtBQUN2QyxJQUFJRyx1QkFBdUI7QUFDM0IsSUFBSUMsYUFBYTtBQUNqQixJQUFJQyxxQkFBcUIsSUFBSTtBQUM3QixJQUFJQyxtQkFBbUIsU0FBVUMsUUFBUSxFQUFFQyxLQUFLO0lBQUksT0FBTyx1cUJBQXVxQixJQUFJRCxXQUFXLFFBQVFDLFFBQVE7QUFBdU47QUFDeDlCLElBQUlDLGtCQUFrQjtBQUN0QixJQUFJQyxnQ0FBaUM7SUFDakMsU0FBU0EsOEJBQThCQyxNQUFNO1FBQ3pDLElBQUksQ0FBQ0EsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0MsRUFBRSxHQUFHO1FBQ1YsSUFBSSxDQUFDQyxZQUFZLEdBQUcsRUFBRTtRQUN0QixJQUFJLENBQUNDLHdCQUF3QixHQUFHLElBQUlDLGFBQWE7UUFDakQsSUFBSSxDQUFDQyxhQUFhLEdBQUcsSUFBSUQsYUFBYTtRQUN0QyxJQUFJLENBQUNFLFlBQVksR0FBRyxJQUFJRixhQUFhO1FBQ3JDLElBQUksQ0FBQ0csUUFBUSxHQUFHLENBQUM7UUFDakIsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRztRQUN4QixJQUFJLENBQUNDLGNBQWMsR0FBRyxFQUFFO0lBQzVCO0lBQ0FWLDhCQUE4QlcsU0FBUyxDQUFDQyxrQkFBa0IsR0FBRztRQUN6RCxJQUFJQyxLQUFLLElBQUksQ0FBQ1osTUFBTSxDQUFDYSxPQUFPLEVBQUVqQixXQUFXZ0IsR0FBR2hCLFFBQVEsRUFBRWtCLGtCQUFrQkYsR0FBR0Us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QyxPQUFPa0MsS0FBSyxHQUFHLElBQUksQ0FBQy9HLGFBQWE7UUFDakM2RSxPQUFPd0MsV0FBVyxHQUFHO0lBQ3pCO0lBQ0EzSCw4QkFBOEJXLFNBQVMsQ0FBQ3NILFFBQVEsR0FBRyxTQUFVRCxFQUFFO1FBQzNELElBQUksSUFBSSxDQUFDNUMsUUFBUSxJQUFJLE1BQU07WUFDdkIsSUFBSSxDQUFDbkIsWUFBWTtZQUNqQjtRQUNKO1FBQ0EsSUFBSSxDQUFDaUQsV0FBVyxDQUFDYyxHQUFHYixXQUFXO1FBQy9CLElBQUksQ0FBQzlDLFFBQVEsQ0FBQzdELFFBQVEsQ0FBQzJELFlBQVksQ0FBQy9FLEtBQUssR0FBRyxJQUFJLENBQUMrRSxZQUFZLENBQUN6QixPQUFPO1FBQ3JFLElBQUksQ0FBQzJCLFFBQVEsQ0FBQzdELFFBQVEsQ0FBQzRELE9BQU8sQ0FBQ2hGLEtBQUssR0FBRztRQUN2QyxJQUFJK0YsU0FBUyxJQUFJLENBQUNDLFFBQVEsQ0FBQ2dDLFlBQVksQ0FBQztRQUN4Q2pDLE9BQU9rQyxLQUFLLEdBQUcsSUFBSSxDQUFDOUcsWUFBWTtRQUNoQzRFLE9BQU93QyxXQUFXLEdBQUc7SUFDekI7SUFDQTNILDhCQUE4QlcsU0FBUyxDQUFDdUgsdUJBQXVCLEdBQUcsU0FBVUMsWUFBWTtRQUNwRixJQUFJLENBQUMvSCx3QkFBd0IsR0FBRytIO1FBQ2hDLElBQUksQ0FBQ04sT0FBTztJQUNoQjtJQUNBN0gsOEJBQThCVyxTQUFTLENBQUN5SCxlQUFlLEdBQUcsU0FBVWpJLFlBQVk7UUFDNUUsSUFBSSxDQUFDQSxZQUFZLEdBQUdBO1FBQ3BCLElBQUksQ0FBQzBILE9BQU87SUFDaEI7SUFDQTdILDhCQUE4QlcsU0FBUyxDQUFDMEgsUUFBUSxHQUFHLFNBQVVDLFFBQVEsRUFBRUMsU0FBUyxHQUFJO0lBQ3BGLE9BQU92STtBQUNYO0FBQ0FiLHFDQUFxQyxHQUFHYSIsInNvdXJjZXMiOlsid2VicGFjazovL3lvZ2Fwb3NlcGVyZmVjdC8uL25vZGVfbW9kdWxlcy9zY2F0dGVyLWdsL2Rpc3Qvc2NhdHRlcl9wbG90X3Zpc3VhbGl6ZXJfM2RfbGFiZWxzLmpzP2YyMzYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVEhSRUUgPSByZXF1aXJlKFwidGhyZWVcIik7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgTUFYX0NBTlZBU19ESU1FTlNJT04gPSA4MTkyO1xudmFyIE5VTV9HTFlQSFMgPSAyNTY7XG52YXIgVkVSVElDRVNfUEVSX0dMWVBIID0gMiAqIDM7XG52YXIgbWFrZVZlcnRleFNoYWRlciA9IGZ1bmN0aW9uIChmb250U2l6ZSwgc2NhbGUpIHsgcmV0dXJuIFwiXFxuICAgICAgYXR0cmlidXRlIHZlYzIgcG9zT2JqO1xcbiAgICAgIGF0dHJpYnV0ZSB2ZWM0IGNvbG9yO1xcbiAgICAgIHZhcnlpbmcgdmVjMiB2VXY7XFxuICAgICAgdmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICB2VXYgPSB1djtcXG4gICAgICAgIHZDb2xvciA9IGNvbG9yO1xcblxcbiAgICAgICAgLy8gUm90YXRlIGxhYmVsIHRvIGZhY2UgY2FtZXJhLlxcblxcbiAgICAgICAgdmVjNCB2UmlnaHQgPSB2ZWM0KFxcbiAgICAgICAgICBtb2RlbFZpZXdNYXRyaXhbMF1bMF0sIG1vZGVsVmlld01hdHJpeFsxXVswXSwgbW9kZWxWaWV3TWF0cml4WzJdWzBdLCAwKTtcXG5cXG4gICAgICAgIHZlYzQgdlVwID0gdmVjNChcXG4gICAgICAgICAgbW9kZWxWaWV3TWF0cml4WzBdWzFdLCBtb2RlbFZpZXdNYXRyaXhbMV1bMV0sIG1vZGVsVmlld01hdHJpeFsyXVsxXSwgMCk7XFxuXFxuICAgICAgICB2ZWM0IHZBdCA9IC12ZWM0KFxcbiAgICAgICAgICBtb2RlbFZpZXdNYXRyaXhbMF1bMl0sIG1vZGVsVmlld01hdHJpeFsxXVsyXSwgbW9kZWxWaWV3TWF0cml4WzJdWzJdLCAwKTtcXG5cXG4gICAgICAgIG1hdDQgcG9pbnRUb0NhbWVyYSA9IG1hdDQodlJpZ2h0LCB2VXAsIHZBdCwgdmVjNCgwLCAwLCAwLCAxKSk7XFxuXFxuICAgICAgICB2ZWMyIHNjYWxlZFBvcyA9IHBvc09iaiAqIFwiICsgMSAvIGZvbnRTaXplICsgXCIgKiBcIiArIHNjYWxlICsgXCI7XFxuXFxuICAgICAgICB2ZWM0IHBvc1JvdGF0ZWQgPSBwb2ludFRvQ2FtZXJhICogdmVjNChzY2FsZWRQb3MsIDAsIDEpO1xcbiAgICAgICAgdmVjNCBtdlBvc2l0aW9uID0gbW9kZWxWaWV3TWF0cml4ICogKHZlYzQocG9zaXRpb24sIDApICsgcG9zUm90YXRlZCk7XFxuICAgICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO1xcbiAgICAgIH1cIjsgfTtcbnZhciBGUkFHTUVOVF9TSEFERVIgPSBcIlxcbiAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIGdseXBoVGV4dHVyZTtcXG4gICAgICB1bmlmb3JtIGJvb2wgcGlja2luZztcXG4gICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xcbiAgICAgIHZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgaWYgKHBpY2tpbmcpIHtcXG4gICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xcbiAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgdmVjNCBmcm9tVGV4dHVyZSA9IHRleHR1cmUoZ2x5cGhUZXh0dXJlLCB2VXYpO1xcbiAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3IgKiBmcm9tVGV4dHVyZTtcXG4gICAgICAgIH1cXG4gICAgICB9XCI7XG52YXIgU2NhdHRlclBsb3RWaXN1YWxpemVyM0RMYWJlbHMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjYXR0ZXJQbG90VmlzdWFsaXplcjNETGFiZWxzKHN0eWxlcykge1xuICAgICAgICB0aGlzLnN0eWxlcyA9IHN0eWxlcztcbiAgICAgICAgdGhpcy5pZCA9ICczRF9MQUJFTFMnO1xuICAgICAgICB0aGlzLmxhYmVsU3RyaW5ncyA9IFtdO1xuICAgICAgICB0aGlzLndvcmxkU3BhY2VQb2ludFBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoMCk7XG4gICAgICAgIHRoaXMucGlja2luZ0NvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkoMCk7XG4gICAgICAgIHRoaXMucmVuZGVyQ29sb3JzID0gbmV3IEZsb2F0MzJBcnJheSgwKTtcbiAgICAgICAgdGhpcy51bmlmb3JtcyA9IHt9O1xuICAgICAgICB0aGlzLnRvdGFsVmVydGV4Q291bnQgPSAwO1xuICAgICAgICB0aGlzLmxhYmVsVmVydGV4TWFwID0gW107XG4gICAgfVxuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplcjNETGFiZWxzLnByb3RvdHlwZS5jcmVhdGVHbHlwaFRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuc3R5bGVzLmxhYmVsM0QsIGZvbnRTaXplID0gX2EuZm9udFNpemUsIGJhY2tncm91bmRDb2xvciA9IF9hLmJhY2tncm91bmRDb2xvciwgY29sb3IgPSBfYS5jb2xvcjtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjYW52YXMud2lkdGggPSBNQVhfQ0FOVkFTX0RJTUVOU0lPTjtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGZvbnRTaXplO1xuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGN0eC5mb250ID0gJ2JvbGQgJyArIGZvbnRTaXplICsgJ3B4IHJvYm90byc7XG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAndG9wJztcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgY3R4LnJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgICB2YXIgc3BhY2VPZmZzZXQgPSBjdHgubWVhc3VyZVRleHQoJyAnKS53aWR0aDtcbiAgICAgICAgdmFyIGdseXBoTGVuZ3RocyA9IG5ldyBGbG9hdDMyQXJyYXkoTlVNX0dMWVBIUyk7XG4gICAgICAgIHZhciBnbHlwaE9mZnNldCA9IG5ldyBGbG9hdDMyQXJyYXkoTlVNX0dMWVBIUyk7XG4gICAgICAgIHZhciBsZWZ0Q29vcmQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5VTV9HTFlQSFM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHQgPSAnICcgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpO1xuICAgICAgICAgICAgdmFyIHRleHRMZW5ndGggPSBjdHgubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgICAgICAgICBnbHlwaExlbmd0aHNbaV0gPSB0ZXh0TGVuZ3RoIC0gc3BhY2VPZmZzZXQ7XG4gICAgICAgICAgICBnbHlwaE9mZnNldFtpXSA9IGxlZnRDb29yZDtcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0ZXh0LCBsZWZ0Q29vcmQgLSBzcGFjZU9mZnNldCwgMCk7XG4gICAgICAgICAgICBsZWZ0Q29vcmQgKz0gdGV4dExlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGV4ID0gdXRpbC5jcmVhdGVUZXh0dXJlRnJvbUNhbnZhcyhjYW52YXMpO1xuICAgICAgICByZXR1cm4geyB0ZXh0dXJlOiB0ZXgsIGxlbmd0aHM6IGdseXBoTGVuZ3Rocywgb2Zmc2V0czogZ2x5cGhPZmZzZXQgfTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplcjNETGFiZWxzLnByb3RvdHlwZS5wcm9jZXNzTGFiZWxWZXJ0cyA9IGZ1bmN0aW9uIChwb2ludENvdW50KSB7XG4gICAgICAgIHZhciBudW1Ub3RhbExldHRlcnMgPSAwO1xuICAgICAgICB0aGlzLmxhYmVsVmVydGV4TWFwID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSB0aGlzLmxhYmVsU3RyaW5nc1tpXTtcbiAgICAgICAgICAgIHZhciB2ZXJ0c0FycmF5ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxhYmVsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBWRVJUSUNFU19QRVJfR0xZUEg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0c0FycmF5LnB1c2gobnVtVG90YWxMZXR0ZXJzICogVkVSVElDRVNfUEVSX0dMWVBIICsgayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG51bVRvdGFsTGV0dGVycysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYWJlbFZlcnRleE1hcC5wdXNoKHZlcnRzQXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG90YWxWZXJ0ZXhDb3VudCA9IG51bVRvdGFsTGV0dGVycyAqIFZFUlRJQ0VTX1BFUl9HTFlQSDtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplcjNETGFiZWxzLnByb3RvdHlwZS5jcmVhdGVDb2xvckJ1ZmZlcnMgPSBmdW5jdGlvbiAocG9pbnRDb3VudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnBpY2tpbmdDb2xvcnMgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudG90YWxWZXJ0ZXhDb3VudCAqIGNvbnN0YW50c18xLlJHQl9OVU1fRUxFTUVOVFMpO1xuICAgICAgICB0aGlzLnJlbmRlckNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy50b3RhbFZlcnRleENvdW50ICogY29uc3RhbnRzXzEuUkdCX05VTV9FTEVNRU5UUyk7XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciBwaWNraW5nQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoaSk7XG4gICAgICAgICAgICB0aGlzXzEubGFiZWxWZXJ0ZXhNYXBbaV0uZm9yRWFjaChmdW5jdGlvbiAoaikge1xuICAgICAgICAgICAgICAgIF90aGlzLnBpY2tpbmdDb2xvcnNbY29uc3RhbnRzXzEuUkdCX05VTV9FTEVNRU5UUyAqIGpdID0gcGlja2luZ0NvbG9yLnI7XG4gICAgICAgICAgICAgICAgX3RoaXMucGlja2luZ0NvbG9yc1tjb25zdGFudHNfMS5SR0JfTlVNX0VMRU1FTlRTICogaiArIDFdID0gcGlja2luZ0NvbG9yLmc7XG4gICAgICAgICAgICAgICAgX3RoaXMucGlja2luZ0NvbG9yc1tjb25zdGFudHNfMS5SR0JfTlVNX0VMRU1FTlRTICogaiArIDJdID0gcGlja2luZ0NvbG9yLmI7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVuZGVyQ29sb3JzW2NvbnN0YW50c18xLlJHQl9OVU1fRUxFTUVOVFMgKiBqXSA9IDEuMDtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXJDb2xvcnNbY29uc3RhbnRzXzEuUkdCX05VTV9FTEVNRU5UUyAqIGogKyAxXSA9IDEuMDtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXJDb2xvcnNbY29uc3RhbnRzXzEuUkdCX05VTV9FTEVNRU5UUyAqIGogKyAyXSA9IDEuMDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdGhpc18xID0gdGhpcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludENvdW50OyBpKyspIHtcbiAgICAgICAgICAgIF9sb29wXzEoaSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplcjNETGFiZWxzLnByb3RvdHlwZS5jcmVhdGVMYWJlbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuc3R5bGVzLmxhYmVsM0QsIGZvbnRTaXplID0gX2EuZm9udFNpemUsIHNjYWxlID0gX2Euc2NhbGU7XG4gICAgICAgIGlmICh0aGlzLmxhYmVsU3RyaW5ncyA9PSBudWxsIHx8IHRoaXMud29ybGRTcGFjZVBvaW50UG9zaXRpb25zID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9pbnRDb3VudCA9IHRoaXMud29ybGRTcGFjZVBvaW50UG9zaXRpb25zLmxlbmd0aCAvIGNvbnN0YW50c18xLlhZWl9OVU1fRUxFTUVOVFM7XG4gICAgICAgIGlmIChwb2ludENvdW50ICE9PSB0aGlzLmxhYmVsU3RyaW5ncy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdseXBoVGV4dHVyZSA9IHRoaXMuY3JlYXRlR2x5cGhUZXh0dXJlKCk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICAgICAgICBnbHlwaFRleHR1cmU6IHsgdmFsdWU6IG51bGwgfSxcbiAgICAgICAgICAgIHBpY2tpbmc6IHsgdmFsdWU6IGZhbHNlIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICAgICAgICAgIHZlcnRleFNoYWRlcjogbWFrZVZlcnRleFNoYWRlcihmb250U2l6ZSwgc2NhbGUpLFxuICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXI6IEZSQUdNRU5UX1NIQURFUixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHJvY2Vzc0xhYmVsVmVydHMocG9pbnRDb3VudCk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ29sb3JCdWZmZXJzKHBvaW50Q291bnQpO1xuICAgICAgICB2YXIgcG9zaXRpb25BcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy50b3RhbFZlcnRleENvdW50ICogY29uc3RhbnRzXzEuWFlaX05VTV9FTEVNRU5UUyk7XG4gICAgICAgIHRoaXMucG9zaXRpb25zID0gbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbkFycmF5LCBjb25zdGFudHNfMS5YWVpfTlVNX0VMRU1FTlRTKTtcbiAgICAgICAgdmFyIHBvc0FycmF5ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnRvdGFsVmVydGV4Q291bnQgKiBjb25zdGFudHNfMS5YWVpfTlVNX0VMRU1FTlRTKTtcbiAgICAgICAgdmFyIHV2QXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudG90YWxWZXJ0ZXhDb3VudCAqIGNvbnN0YW50c18xLlVWX05VTV9FTEVNRU5UUyk7XG4gICAgICAgIHZhciBjb2xvcnNBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy50b3RhbFZlcnRleENvdW50ICogY29uc3RhbnRzXzEuUkdCX05VTV9FTEVNRU5UUyk7XG4gICAgICAgIHZhciBwb3NpdGlvbk9iamVjdCA9IG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUocG9zQXJyYXksIDIpO1xuICAgICAgICB2YXIgdXYgPSBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKHV2QXJyYXksIGNvbnN0YW50c18xLlVWX05VTV9FTEVNRU5UUyk7XG4gICAgICAgIHZhciBjb2xvcnMgPSBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGNvbG9yc0FycmF5LCBjb25zdGFudHNfMS5SR0JfTlVNX0VMRU1FTlRTKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zT2JqJywgcG9zaXRpb25PYmplY3QpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCB0aGlzLnBvc2l0aW9ucyk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCd1dicsIHV2KTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2NvbG9yJywgY29sb3JzKTtcbiAgICAgICAgdmFyIGxldHRlcnNTb0ZhciA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSB0aGlzLmxhYmVsU3RyaW5nc1tpXTtcbiAgICAgICAgICAgIHZhciBsZWZ0T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGFiZWwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbGV0dGVyQ29kZSA9IGxhYmVsLmNoYXJDb2RlQXQoaik7XG4gICAgICAgICAgICAgICAgbGVmdE9mZnNldCArPSB0aGlzLmdseXBoVGV4dHVyZS5sZW5ndGhzW2xldHRlckNvZGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGVmdE9mZnNldCAvPSAtMjtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGFiZWwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbGV0dGVyQ29kZSA9IGxhYmVsLmNoYXJDb2RlQXQoaik7XG4gICAgICAgICAgICAgICAgdmFyIGxldHRlcldpZHRoID0gdGhpcy5nbHlwaFRleHR1cmUubGVuZ3Roc1tsZXR0ZXJDb2RlXTtcbiAgICAgICAgICAgICAgICB2YXIgc2NhbGVfMSA9IGZvbnRTaXplO1xuICAgICAgICAgICAgICAgIHZhciByaWdodCA9IChsZWZ0T2Zmc2V0ICsgbGV0dGVyV2lkdGgpIC8gc2NhbGVfMTtcbiAgICAgICAgICAgICAgICB2YXIgbGVmdCA9IGxlZnRPZmZzZXQgLyBzY2FsZV8xO1xuICAgICAgICAgICAgICAgIHZhciB0b3BfMSA9IGZvbnRTaXplIC8gc2NhbGVfMTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbk9iamVjdC5zZXRYWShsZXR0ZXJzU29GYXIgKiBWRVJUSUNFU19QRVJfR0xZUEggKyAwLCBsZWZ0LCAwKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbk9iamVjdC5zZXRYWShsZXR0ZXJzU29GYXIgKiBWRVJUSUNFU19QRVJfR0xZUEggKyAxLCByaWdodCwgMCk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25PYmplY3Quc2V0WFkobGV0dGVyc1NvRmFyICogVkVSVElDRVNfUEVSX0dMWVBIICsgMiwgbGVmdCwgdG9wXzEpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uT2JqZWN0LnNldFhZKGxldHRlcnNTb0ZhciAqIFZFUlRJQ0VTX1BFUl9HTFlQSCArIDMsIGxlZnQsIHRvcF8xKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbk9iamVjdC5zZXRYWShsZXR0ZXJzU29GYXIgKiBWRVJUSUNFU19QRVJfR0xZUEggKyA0LCByaWdodCwgMCk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25PYmplY3Quc2V0WFkobGV0dGVyc1NvRmFyICogVkVSVElDRVNfUEVSX0dMWVBIICsgNSwgcmlnaHQsIHRvcF8xKTtcbiAgICAgICAgICAgICAgICB2YXIgdUxlZnQgPSB0aGlzLmdseXBoVGV4dHVyZS5vZmZzZXRzW2xldHRlckNvZGVdO1xuICAgICAgICAgICAgICAgIHZhciB1UmlnaHQgPSB0aGlzLmdseXBoVGV4dHVyZS5vZmZzZXRzW2xldHRlckNvZGVdICsgbGV0dGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgdUxlZnQgLz0gTUFYX0NBTlZBU19ESU1FTlNJT047XG4gICAgICAgICAgICAgICAgdVJpZ2h0IC89IE1BWF9DQU5WQVNfRElNRU5TSU9OO1xuICAgICAgICAgICAgICAgIHZhciB2VG9wID0gMTtcbiAgICAgICAgICAgICAgICB2YXIgdkJvdHRvbSA9IDA7XG4gICAgICAgICAgICAgICAgdXYuc2V0WFkobGV0dGVyc1NvRmFyICogVkVSVElDRVNfUEVSX0dMWVBIICsgMCwgdUxlZnQsIHZUb3ApO1xuICAgICAgICAgICAgICAgIHV2LnNldFhZKGxldHRlcnNTb0ZhciAqIFZFUlRJQ0VTX1BFUl9HTFlQSCArIDEsIHVSaWdodCwgdlRvcCk7XG4gICAgICAgICAgICAgICAgdXYuc2V0WFkobGV0dGVyc1NvRmFyICogVkVSVElDRVNfUEVSX0dMWVBIICsgMiwgdUxlZnQsIHZCb3R0b20pO1xuICAgICAgICAgICAgICAgIHV2LnNldFhZKGxldHRlcnNTb0ZhciAqIFZFUlRJQ0VTX1BFUl9HTFlQSCArIDMsIHVMZWZ0LCB2Qm90dG9tKTtcbiAgICAgICAgICAgICAgICB1di5zZXRYWShsZXR0ZXJzU29GYXIgKiBWRVJUSUNFU19QRVJfR0xZUEggKyA0LCB1UmlnaHQsIHZUb3ApO1xuICAgICAgICAgICAgICAgIHV2LnNldFhZKGxldHRlcnNTb0ZhciAqIFZFUlRJQ0VTX1BFUl9HTFlQSCArIDUsIHVSaWdodCwgdkJvdHRvbSk7XG4gICAgICAgICAgICAgICAgbGV0dGVyc1NvRmFyKys7XG4gICAgICAgICAgICAgICAgbGVmdE9mZnNldCArPSBsZXR0ZXJXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgX2xvb3BfMiA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICB2YXIgcCA9IHV0aWwudmVjdG9yM0Zyb21QYWNrZWRBcnJheSh0aGlzXzIud29ybGRTcGFjZVBvaW50UG9zaXRpb25zLCBpKTtcbiAgICAgICAgICAgIHRoaXNfMi5sYWJlbFZlcnRleE1hcFtpXS5mb3JFYWNoKGZ1bmN0aW9uIChqKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucG9zaXRpb25zLnNldFhZWihqLCBwLngsIHAueSwgcC56KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdGhpc18yID0gdGhpcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludENvdW50OyBpKyspIHtcbiAgICAgICAgICAgIF9sb29wXzIoaSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYWJlbHNNZXNoID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgICAgIHRoaXMubGFiZWxzTWVzaC5mcnVzdHVtQ3VsbGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMubGFiZWxzTWVzaCk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXIzRExhYmVscy5wcm90b3R5cGUuY29sb3JMYWJlbHMgPSBmdW5jdGlvbiAocG9pbnRDb2xvcnMpIHtcbiAgICAgICAgaWYgKHRoaXMubGFiZWxTdHJpbmdzID09IG51bGwgfHxcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkgPT0gbnVsbCB8fFxuICAgICAgICAgICAgcG9pbnRDb2xvcnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmdlb21ldHJ5LmdldEF0dHJpYnV0ZSgnY29sb3InKTtcbiAgICAgICAgY29sb3JzLmFycmF5ID0gdGhpcy5yZW5kZXJDb2xvcnM7XG4gICAgICAgIHZhciBuID0gcG9pbnRDb2xvcnMubGVuZ3RoIC8gY29uc3RhbnRzXzEuUkdCQV9OVU1fRUxFTUVOVFM7XG4gICAgICAgIHZhciBzcmMgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgdmFyIGMgPSBuZXcgVEhSRUUuQ29sb3IocG9pbnRDb2xvcnNbc3JjXSwgcG9pbnRDb2xvcnNbc3JjICsgMV0sIHBvaW50Q29sb3JzW3NyYyArIDJdKTtcbiAgICAgICAgICAgIHZhciBtID0gdGhpcy5sYWJlbFZlcnRleE1hcFtpXS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG07ICsraikge1xuICAgICAgICAgICAgICAgIGNvbG9ycy5zZXRYWVoodGhpcy5sYWJlbFZlcnRleE1hcFtpXVtqXSwgYy5yLCBjLmcsIGMuYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcmMgKz0gY29uc3RhbnRzXzEuUkdCQV9OVU1fRUxFTUVOVFM7XG4gICAgICAgIH1cbiAgICAgICAgY29sb3JzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplcjNETGFiZWxzLnByb3RvdHlwZS5zZXRTY2VuZSA9IGZ1bmN0aW9uIChzY2VuZSkge1xuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXIzRExhYmVscy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubGFiZWxzTWVzaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlbW92ZSh0aGlzLmxhYmVsc01lc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYWJlbHNNZXNoID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeSkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nbHlwaFRleHR1cmUgIT0gbnVsbCAmJiB0aGlzLmdseXBoVGV4dHVyZS50ZXh0dXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZ2x5cGhUZXh0dXJlLnRleHR1cmUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5nbHlwaFRleHR1cmUudGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplcjNETGFiZWxzLnByb3RvdHlwZS5vblBpY2tpbmdSZW5kZXIgPSBmdW5jdGlvbiAocmMpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2VvbWV0cnkgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVMYWJlbHMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLmdseXBoVGV4dHVyZS52YWx1ZSA9IHRoaXMuZ2x5cGhUZXh0dXJlLnRleHR1cmU7XG4gICAgICAgIHRoaXMubWF0ZXJpYWwudW5pZm9ybXMucGlja2luZy52YWx1ZSA9IHRydWU7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmdlb21ldHJ5LmdldEF0dHJpYnV0ZSgnY29sb3InKTtcbiAgICAgICAgY29sb3JzLmFycmF5ID0gdGhpcy5waWNraW5nQ29sb3JzO1xuICAgICAgICBjb2xvcnMubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3RWaXN1YWxpemVyM0RMYWJlbHMucHJvdG90eXBlLm9uUmVuZGVyID0gZnVuY3Rpb24gKHJjKSB7XG4gICAgICAgIGlmICh0aGlzLmdlb21ldHJ5ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTGFiZWxzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xvckxhYmVscyhyYy5wb2ludENvbG9ycyk7XG4gICAgICAgIHRoaXMubWF0ZXJpYWwudW5pZm9ybXMuZ2x5cGhUZXh0dXJlLnZhbHVlID0gdGhpcy5nbHlwaFRleHR1cmUudGV4dHVyZTtcbiAgICAgICAgdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy5waWNraW5nLnZhbHVlID0gZmFsc2U7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmdlb21ldHJ5LmdldEF0dHJpYnV0ZSgnY29sb3InKTtcbiAgICAgICAgY29sb3JzLmFycmF5ID0gdGhpcy5yZW5kZXJDb2xvcnM7XG4gICAgICAgIGNvbG9ycy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXIzRExhYmVscy5wcm90b3R5cGUub25Qb2ludFBvc2l0aW9uc0NoYW5nZWQgPSBmdW5jdGlvbiAobmV3UG9zaXRpb25zKSB7XG4gICAgICAgIHRoaXMud29ybGRTcGFjZVBvaW50UG9zaXRpb25zID0gbmV3UG9zaXRpb25zO1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplcjNETGFiZWxzLnByb3RvdHlwZS5zZXRMYWJlbFN0cmluZ3MgPSBmdW5jdGlvbiAobGFiZWxTdHJpbmdzKSB7XG4gICAgICAgIHRoaXMubGFiZWxTdHJpbmdzID0gbGFiZWxTdHJpbmdzO1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplcjNETGFiZWxzLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uIChuZXdXaWR0aCwgbmV3SGVpZ2h0KSB7IH07XG4gICAgcmV0dXJuIFNjYXR0ZXJQbG90VmlzdWFsaXplcjNETGFiZWxzO1xufSgpKTtcbmV4cG9ydHMuU2NhdHRlclBsb3RWaXN1YWxpemVyM0RMYWJlbHMgPSBTY2F0dGVyUGxvdFZpc3VhbGl6ZXIzRExhYmVscztcbiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlRIUkVFIiwicmVxdWlyZSIsInV0aWwiLCJjb25zdGFudHNfMSIsIk1BWF9DQU5WQVNfRElNRU5TSU9OIiwiTlVNX0dMWVBIUyIsIlZFUlRJQ0VTX1BFUl9HTFlQSCIsIm1ha2VWZXJ0ZXhTaGFkZXIiLCJmb250U2l6ZSIsInNjYWxlIiwiRlJBR01FTlRfU0hBREVSIiwiU2NhdHRlclBsb3RWaXN1YWxpemVyM0RMYWJlbHMiLCJzdHlsZXMiLCJpZCIsImxhYmVsU3RyaW5ncyIsIndvcmxkU3BhY2VQb2ludFBvc2l0aW9ucyIsIkZsb2F0MzJBcnJheSIsInBpY2tpbmdDb2xvcnMiLCJyZW5kZXJDb2xvcnMiLCJ1bmlmb3JtcyIsInRvdGFsVmVydGV4Q291bnQiLCJsYWJlbFZlcnRleE1hcCIsInByb3RvdHlwZSIsImNyZWF0ZUdseXBoVGV4dHVyZSIsIl9hIiwibGFiZWwzRCIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJjdHgiLCJnZXRDb250ZXh0IiwiZm9udCIsInRleHRCYXNlbGluZSIsImZpbGxTdHlsZSIsInJlY3QiLCJmaWxsIiwic3BhY2VPZmZzZXQiLCJtZWFzdXJlVGV4dCIsImdseXBoTGVuZ3RocyIsImdseXBoT2Zmc2V0IiwibGVmdENvb3JkIiwiaSIsInRleHQiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJ0ZXh0TGVuZ3RoIiwiZmlsbFRleHQiLCJ0ZXgiLCJjcmVhdGVUZXh0dXJlRnJvbUNhbnZhcyIsInRleHR1cmUiLCJsZW5ndGhzIiwib2Zmc2V0cyIsInByb2Nlc3NMYWJlbFZlcnRzIiwicG9pbnRDb3VudCIsIm51bVRvdGFsTGV0dGVycyIsImxhYmVsIiwidmVydHNBcnJheSIsImoiLCJsZW5ndGgiLCJrIiwicHVzaCIsImNyZWF0ZUNvbG9yQnVmZmVycyIsIl90aGlzIiwiUkdCX05VTV9FTEVNRU5UUyIsIl9sb29wXzEiLCJwaWNraW5nQ29sb3IiLCJDb2xvciIsInRoaXNfMSIsImZvckVhY2giLCJyIiwiZyIsImIiLCJjcmVhdGVMYWJlbHMiLCJYWVpfTlVNX0VMRU1FTlRTIiwiZ2x5cGhUZXh0dXJlIiwicGlja2luZyIsIm1hdGVyaWFsIiwiU2hhZGVyTWF0ZXJpYWwiLCJ0cmFuc3BhcmVudCIsInZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwicG9zaXRpb25BcnJheSIsInBvc2l0aW9ucyIsIkJ1ZmZlckF0dHJpYnV0ZSIsInBvc0FycmF5IiwidXZBcnJheSIsIlVWX05VTV9FTEVNRU5UUyIsImNvbG9yc0FycmF5IiwicG9zaXRpb25PYmplY3QiLCJ1diIsImNvbG9ycyIsImdlb21ldHJ5IiwiQnVmZmVyR2VvbWV0cnkiLCJzZXRBdHRyaWJ1dGUiLCJsZXR0ZXJzU29GYXIiLCJsZWZ0T2Zmc2V0IiwibGV0dGVyQ29kZSIsImNoYXJDb2RlQXQiLCJsZXR0ZXJXaWR0aCIsInNjYWxlXzEiLCJyaWdodCIsImxlZnQiLCJ0b3BfMSIsInNldFhZIiwidUxlZnQiLCJ1UmlnaHQiLCJ2VG9wIiwidkJvdHRvbSIsIl9sb29wXzIiLCJwIiwidmVjdG9yM0Zyb21QYWNrZWRBcnJheSIsInRoaXNfMiIsInNldFhZWiIsIngiLCJ5IiwieiIsImxhYmVsc01lc2giLCJNZXNoIiwiZnJ1c3R1bUN1bGxlZCIsInNjZW5lIiwiYWRkIiwiY29sb3JMYWJlbHMiLCJwb2ludENvbG9ycyIsImdldEF0dHJpYnV0ZSIsImFycmF5IiwibiIsIlJHQkFfTlVNX0VMRU1FTlRTIiwic3JjIiwiYyIsIm0iLCJuZWVkc1VwZGF0ZSIsInNldFNjZW5lIiwiZGlzcG9zZSIsInJlbW92ZSIsIm9uUGlja2luZ1JlbmRlciIsInJjIiwib25SZW5kZXIiLCJvblBvaW50UG9zaXRpb25zQ2hhbmdlZCIsIm5ld1Bvc2l0aW9ucyIsInNldExhYmVsU3RyaW5ncyIsIm9uUmVzaXplIiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/scatter_plot_visualizer_3d_labels.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/scatter_plot_visualizer_canvas_labels.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/scatter-gl/dist/scatter_plot_visualizer_canvas_labels.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar __read = (void 0) && (void 0).__read || function(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);\n    } catch (error) {\n        e = {\n            error: error\n        };\n    } finally{\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally{\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar THREE = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\nvar render_1 = __webpack_require__(/*! ./render */ \"(ssr)/./node_modules/scatter-gl/dist/render.js\");\nvar label_1 = __webpack_require__(/*! ./label */ \"(ssr)/./node_modules/scatter-gl/dist/label.js\");\nvar util = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/scatter-gl/dist/util.js\");\nvar MAX_LABELS_ON_SCREEN = 10000;\nvar ScatterPlotVisualizerCanvasLabels = function() {\n    function ScatterPlotVisualizerCanvasLabels(container, styles) {\n        this.styles = styles;\n        this.id = \"CANVAS_LABELS\";\n        this.worldSpacePointPositions = new Float32Array(0);\n        this.labelsActive = true;\n        this.canvas = document.createElement(\"canvas\");\n        container.appendChild(this.canvas);\n        this.gc = this.canvas.getContext(\"2d\");\n        this.canvas.style.position = \"absolute\";\n        this.canvas.style.left = \"0\";\n        this.canvas.style.top = \"0\";\n        this.canvas.style.pointerEvents = \"none\";\n    }\n    ScatterPlotVisualizerCanvasLabels.prototype.removeAllLabels = function() {\n        var pixelWidth = this.canvas.width * window.devicePixelRatio;\n        var pixelHeight = this.canvas.height * window.devicePixelRatio;\n        this.gc.clearRect(0, 0, pixelWidth, pixelHeight);\n    };\n    ScatterPlotVisualizerCanvasLabels.prototype.makeLabels = function(rc) {\n        if (rc.labels == null || rc.labels.pointIndices.length === 0) {\n            return;\n        }\n        if (this.worldSpacePointPositions == null) {\n            return;\n        }\n        var lrc = rc.labels;\n        var sceneIs3D = rc.cameraType === render_1.CameraType.Perspective;\n        var labelHeight = parseInt(this.gc.font, 10);\n        var dpr = window.devicePixelRatio;\n        var grid;\n        {\n            var pixw = this.canvas.width * dpr;\n            var pixh = this.canvas.height * dpr;\n            var bb = {\n                loX: 0,\n                hiX: pixw,\n                loY: 0,\n                hiY: pixh\n            };\n            grid = new label_1.CollisionGrid(bb, pixw / 25, pixh / 50);\n        }\n        var cameraDomain = [\n            rc.farthestCameraSpacePointZ,\n            rc.nearestCameraSpacePointZ\n        ];\n        var opacityMap = function(x) {\n            return util.scaleExponential(x, cameraDomain, [\n                0.1,\n                1\n            ]);\n        };\n        var camPos = rc.camera.position;\n        var camToTarget = camPos.clone().sub(rc.cameraTarget);\n        var camToPoint = new THREE.Vector3();\n        this.gc.textBaseline = \"middle\";\n        this.gc.miterLimit = 2;\n        var labelMargin = 2;\n        var xShift = 4;\n        var n = Math.min(MAX_LABELS_ON_SCREEN, lrc.pointIndices.length);\n        for(var i = 0; i < n; ++i){\n            var point = void 0;\n            {\n                var pi = lrc.pointIndices[i];\n                point = util.vector3FromPackedArray(this.worldSpacePointPositions, pi);\n            }\n            camToPoint.copy(camPos).sub(point);\n            if (camToTarget.dot(camToPoint) < 0) {\n                continue;\n            }\n            var _a = __read(util.vector3DToScreenCoords(rc.camera, rc.screenWidth, rc.screenHeight, point), 2), x = _a[0], y = _a[1];\n            x += xShift;\n            var textBoundingBox = {\n                loX: x - labelMargin,\n                hiX: x + 1 + labelMargin,\n                loY: y - labelHeight / 2 - labelMargin,\n                hiY: y + labelHeight / 2 + labelMargin\n            };\n            if (grid.insert(textBoundingBox, true)) {\n                var text = lrc.labelStrings[i];\n                var fontSize = lrc.defaultFontSize * lrc.scaleFactors[i] * dpr;\n                this.gc.font = fontSize + \"px roboto\";\n                textBoundingBox.hiX += this.gc.measureText(text).width - 1;\n                if (grid.insert(textBoundingBox)) {\n                    var opacity = 1;\n                    if (sceneIs3D && lrc.useSceneOpacityFlags[i] === 1) {\n                        opacity = opacityMap(camToPoint.length());\n                    }\n                    this.gc.fillStyle = this.styleStringFromPackedRgba(lrc.fillColors, i, opacity);\n                    this.gc.strokeStyle = this.styleStringFromPackedRgba(lrc.strokeColors, i, opacity);\n                    this.gc.lineWidth = this.styles.label.strokeWidth;\n                    this.gc.strokeText(text, x, y);\n                    this.gc.lineWidth = this.styles.label.fillWidth;\n                    this.gc.fillText(text, x, y);\n                }\n            }\n        }\n    };\n    ScatterPlotVisualizerCanvasLabels.prototype.styleStringFromPackedRgba = function(packedRgbaArray, colorIndex, opacity) {\n        var offset = colorIndex * 3;\n        var r = packedRgbaArray[offset];\n        var g = packedRgbaArray[offset + 1];\n        var b = packedRgbaArray[offset + 2];\n        return \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + opacity + \")\";\n    };\n    ScatterPlotVisualizerCanvasLabels.prototype.onResize = function(newWidth, newHeight) {\n        var dpr = window.devicePixelRatio;\n        this.canvas.width = newWidth * dpr;\n        this.canvas.height = newHeight * dpr;\n        this.canvas.style.width = newWidth + \"px\";\n        this.canvas.style.height = newHeight + \"px\";\n    };\n    ScatterPlotVisualizerCanvasLabels.prototype.dispose = function() {\n        this.removeAllLabels();\n    };\n    ScatterPlotVisualizerCanvasLabels.prototype.onPointPositionsChanged = function(newPositions) {\n        this.worldSpacePointPositions = newPositions;\n        this.removeAllLabels();\n    };\n    ScatterPlotVisualizerCanvasLabels.prototype.onRender = function(rc) {\n        if (!this.labelsActive) {\n            return;\n        }\n        this.removeAllLabels();\n        this.makeLabels(rc);\n    };\n    ScatterPlotVisualizerCanvasLabels.prototype.setScene = function(scene) {};\n    ScatterPlotVisualizerCanvasLabels.prototype.onPickingRender = function(renderContext) {};\n    return ScatterPlotVisualizerCanvasLabels;\n}();\nexports.ScatterPlotVisualizerCanvasLabels = ScatterPlotVisualizerCanvasLabels;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L3NjYXR0ZXJfcGxvdF92aXN1YWxpemVyX2NhbnZhc19sYWJlbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxTQUFTLENBQUMsTUFBRyxLQUFLLE9BQUcsRUFBRUEsTUFBTSxJQUFLLFNBQVVDLENBQUMsRUFBRUMsQ0FBQztJQUNoRCxJQUFJQyxJQUFJLE9BQU9DLFdBQVcsY0FBY0gsQ0FBQyxDQUFDRyxPQUFPQyxRQUFRLENBQUM7SUFDMUQsSUFBSSxDQUFDRixHQUFHLE9BQU9GO0lBQ2YsSUFBSUssSUFBSUgsRUFBRUksSUFBSSxDQUFDTixJQUFJTyxHQUFHQyxLQUFLLEVBQUUsRUFBRUM7SUFDL0IsSUFBSTtRQUNBLE1BQU8sQ0FBQ1IsTUFBTSxLQUFLLEtBQUtBLE1BQU0sTUFBTSxDQUFDLENBQUNNLElBQUlGLEVBQUVLLElBQUksRUFBQyxFQUFHQyxJQUFJLENBQUVILEdBQUdJLElBQUksQ0FBQ0wsRUFBRU0sS0FBSztJQUM3RSxFQUNBLE9BQU9DLE9BQU87UUFBRUwsSUFBSTtZQUFFSyxPQUFPQTtRQUFNO0lBQUcsU0FDOUI7UUFDSixJQUFJO1lBQ0EsSUFBSVAsS0FBSyxDQUFDQSxFQUFFSSxJQUFJLElBQUtULENBQUFBLElBQUlHLENBQUMsQ0FBQyxTQUFTLEdBQUdILEVBQUVJLElBQUksQ0FBQ0Q7UUFDbEQsU0FDUTtZQUFFLElBQUlJLEdBQUcsTUFBTUEsRUFBRUssS0FBSztRQUFFO0lBQ3BDO0lBQ0EsT0FBT047QUFDWDtBQUNBTyw4Q0FBNkM7SUFBRUYsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3RCxJQUFJSyxRQUFRQyxtQkFBT0EsQ0FBQywrREFBTztBQUMzQixJQUFJQyxXQUFXRCxtQkFBT0EsQ0FBQyxnRUFBVTtBQUNqQyxJQUFJRSxVQUFVRixtQkFBT0EsQ0FBQyw4REFBUztBQUMvQixJQUFJRyxPQUFPSCxtQkFBT0EsQ0FBQyw0REFBUTtBQUMzQixJQUFJSSx1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c2NhdHRlcl9wbG90X3Zpc3VhbGl6ZXJfY2FudmFzX2xhYmVscy5qcz82MWE4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFRIUkVFID0gcmVxdWlyZShcInRocmVlXCIpO1xudmFyIHJlbmRlcl8xID0gcmVxdWlyZShcIi4vcmVuZGVyXCIpO1xudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcbnZhciB1dGlsID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbnZhciBNQVhfTEFCRUxTX09OX1NDUkVFTiA9IDEwMDAwO1xudmFyIFNjYXR0ZXJQbG90VmlzdWFsaXplckNhbnZhc0xhYmVscyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NhdHRlclBsb3RWaXN1YWxpemVyQ2FudmFzTGFiZWxzKGNvbnRhaW5lciwgc3R5bGVzKSB7XG4gICAgICAgIHRoaXMuc3R5bGVzID0gc3R5bGVzO1xuICAgICAgICB0aGlzLmlkID0gJ0NBTlZBU19MQUJFTFMnO1xuICAgICAgICB0aGlzLndvcmxkU3BhY2VQb2ludFBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoMCk7XG4gICAgICAgIHRoaXMubGFiZWxzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcbiAgICAgICAgdGhpcy5nYyA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUudG9wID0gJzAnO1xuICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIH1cbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJDYW52YXNMYWJlbHMucHJvdG90eXBlLnJlbW92ZUFsbExhYmVscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBpeGVsV2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB2YXIgcGl4ZWxIZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5nYy5jbGVhclJlY3QoMCwgMCwgcGl4ZWxXaWR0aCwgcGl4ZWxIZWlnaHQpO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3RWaXN1YWxpemVyQ2FudmFzTGFiZWxzLnByb3RvdHlwZS5tYWtlTGFiZWxzID0gZnVuY3Rpb24gKHJjKSB7XG4gICAgICAgIGlmIChyYy5sYWJlbHMgPT0gbnVsbCB8fCByYy5sYWJlbHMucG9pbnRJbmRpY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLndvcmxkU3BhY2VQb2ludFBvc2l0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxyYyA9IHJjLmxhYmVscztcbiAgICAgICAgdmFyIHNjZW5lSXMzRCA9IHJjLmNhbWVyYVR5cGUgPT09IHJlbmRlcl8xLkNhbWVyYVR5cGUuUGVyc3BlY3RpdmU7XG4gICAgICAgIHZhciBsYWJlbEhlaWdodCA9IHBhcnNlSW50KHRoaXMuZ2MuZm9udCwgMTApO1xuICAgICAgICB2YXIgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHZhciBncmlkO1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcGl4dyA9IHRoaXMuY2FudmFzLndpZHRoICogZHByO1xuICAgICAgICAgICAgdmFyIHBpeGggPSB0aGlzLmNhbnZhcy5oZWlnaHQgKiBkcHI7XG4gICAgICAgICAgICB2YXIgYmIgPSB7IGxvWDogMCwgaGlYOiBwaXh3LCBsb1k6IDAsIGhpWTogcGl4aCB9O1xuICAgICAgICAgICAgZ3JpZCA9IG5ldyBsYWJlbF8xLkNvbGxpc2lvbkdyaWQoYmIsIHBpeHcgLyAyNSwgcGl4aCAvIDUwKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FtZXJhRG9tYWluID0gW1xuICAgICAgICAgICAgcmMuZmFydGhlc3RDYW1lcmFTcGFjZVBvaW50WixcbiAgICAgICAgICAgIHJjLm5lYXJlc3RDYW1lcmFTcGFjZVBvaW50WixcbiAgICAgICAgXTtcbiAgICAgICAgdmFyIG9wYWNpdHlNYXAgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWwuc2NhbGVFeHBvbmVudGlhbCh4LCBjYW1lcmFEb21haW4sIFswLjEsIDFdKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNhbVBvcyA9IHJjLmNhbWVyYS5wb3NpdGlvbjtcbiAgICAgICAgdmFyIGNhbVRvVGFyZ2V0ID0gY2FtUG9zLmNsb25lKCkuc3ViKHJjLmNhbWVyYVRhcmdldCk7XG4gICAgICAgIHZhciBjYW1Ub1BvaW50ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5nYy50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgICAgdGhpcy5nYy5taXRlckxpbWl0ID0gMjtcbiAgICAgICAgdmFyIGxhYmVsTWFyZ2luID0gMjtcbiAgICAgICAgdmFyIHhTaGlmdCA9IDQ7XG4gICAgICAgIHZhciBuID0gTWF0aC5taW4oTUFYX0xBQkVMU19PTl9TQ1JFRU4sIGxyYy5wb2ludEluZGljZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgcGkgPSBscmMucG9pbnRJbmRpY2VzW2ldO1xuICAgICAgICAgICAgICAgIHBvaW50ID0gdXRpbC52ZWN0b3IzRnJvbVBhY2tlZEFycmF5KHRoaXMud29ybGRTcGFjZVBvaW50UG9zaXRpb25zLCBwaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYW1Ub1BvaW50LmNvcHkoY2FtUG9zKS5zdWIocG9pbnQpO1xuICAgICAgICAgICAgaWYgKGNhbVRvVGFyZ2V0LmRvdChjYW1Ub1BvaW50KSA8IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZCh1dGlsLnZlY3RvcjNEVG9TY3JlZW5Db29yZHMocmMuY2FtZXJhLCByYy5zY3JlZW5XaWR0aCwgcmMuc2NyZWVuSGVpZ2h0LCBwb2ludCksIDIpLCB4ID0gX2FbMF0sIHkgPSBfYVsxXTtcbiAgICAgICAgICAgIHggKz0geFNoaWZ0O1xuICAgICAgICAgICAgdmFyIHRleHRCb3VuZGluZ0JveCA9IHtcbiAgICAgICAgICAgICAgICBsb1g6IHggLSBsYWJlbE1hcmdpbixcbiAgICAgICAgICAgICAgICBoaVg6IHggKyAxICsgbGFiZWxNYXJnaW4sXG4gICAgICAgICAgICAgICAgbG9ZOiB5IC0gbGFiZWxIZWlnaHQgLyAyIC0gbGFiZWxNYXJnaW4sXG4gICAgICAgICAgICAgICAgaGlZOiB5ICsgbGFiZWxIZWlnaHQgLyAyICsgbGFiZWxNYXJnaW4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGdyaWQuaW5zZXJ0KHRleHRCb3VuZGluZ0JveCwgdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IGxyYy5sYWJlbFN0cmluZ3NbaV07XG4gICAgICAgICAgICAgICAgdmFyIGZvbnRTaXplID0gbHJjLmRlZmF1bHRGb250U2l6ZSAqIGxyYy5zY2FsZUZhY3RvcnNbaV0gKiBkcHI7XG4gICAgICAgICAgICAgICAgdGhpcy5nYy5mb250ID0gZm9udFNpemUgKyAncHggcm9ib3RvJztcbiAgICAgICAgICAgICAgICB0ZXh0Qm91bmRpbmdCb3guaGlYICs9IHRoaXMuZ2MubWVhc3VyZVRleHQodGV4dCkud2lkdGggLSAxO1xuICAgICAgICAgICAgICAgIGlmIChncmlkLmluc2VydCh0ZXh0Qm91bmRpbmdCb3gpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcGFjaXR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjZW5lSXMzRCAmJiBscmMudXNlU2NlbmVPcGFjaXR5RmxhZ3NbaV0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHkgPSBvcGFjaXR5TWFwKGNhbVRvUG9pbnQubGVuZ3RoKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2MuZmlsbFN0eWxlID0gdGhpcy5zdHlsZVN0cmluZ0Zyb21QYWNrZWRSZ2JhKGxyYy5maWxsQ29sb3JzLCBpLCBvcGFjaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYy5zdHJva2VTdHlsZSA9IHRoaXMuc3R5bGVTdHJpbmdGcm9tUGFja2VkUmdiYShscmMuc3Ryb2tlQ29sb3JzLCBpLCBvcGFjaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYy5saW5lV2lkdGggPSB0aGlzLnN0eWxlcy5sYWJlbC5zdHJva2VXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYy5zdHJva2VUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdjLmxpbmVXaWR0aCA9IHRoaXMuc3R5bGVzLmxhYmVsLmZpbGxXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYy5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplckNhbnZhc0xhYmVscy5wcm90b3R5cGUuc3R5bGVTdHJpbmdGcm9tUGFja2VkUmdiYSA9IGZ1bmN0aW9uIChwYWNrZWRSZ2JhQXJyYXksIGNvbG9ySW5kZXgsIG9wYWNpdHkpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IGNvbG9ySW5kZXggKiAzO1xuICAgICAgICB2YXIgciA9IHBhY2tlZFJnYmFBcnJheVtvZmZzZXRdO1xuICAgICAgICB2YXIgZyA9IHBhY2tlZFJnYmFBcnJheVtvZmZzZXQgKyAxXTtcbiAgICAgICAgdmFyIGIgPSBwYWNrZWRSZ2JhQXJyYXlbb2Zmc2V0ICsgMl07XG4gICAgICAgIHJldHVybiAncmdiYSgnICsgciArICcsJyArIGcgKyAnLCcgKyBiICsgJywnICsgb3BhY2l0eSArICcpJztcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplckNhbnZhc0xhYmVscy5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAobmV3V2lkdGgsIG5ld0hlaWdodCkge1xuICAgICAgICB2YXIgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gbmV3V2lkdGggKiBkcHI7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IG5ld0hlaWdodCAqIGRwcjtcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUud2lkdGggPSBuZXdXaWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IG5ld0hlaWdodCArICdweCc7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJDYW52YXNMYWJlbHMucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGFiZWxzKCk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJDYW52YXNMYWJlbHMucHJvdG90eXBlLm9uUG9pbnRQb3NpdGlvbnNDaGFuZ2VkID0gZnVuY3Rpb24gKG5ld1Bvc2l0aW9ucykge1xuICAgICAgICB0aGlzLndvcmxkU3BhY2VQb2ludFBvc2l0aW9ucyA9IG5ld1Bvc2l0aW9ucztcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMYWJlbHMoKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplckNhbnZhc0xhYmVscy5wcm90b3R5cGUub25SZW5kZXIgPSBmdW5jdGlvbiAocmMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxhYmVsc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGFiZWxzKCk7XG4gICAgICAgIHRoaXMubWFrZUxhYmVscyhyYyk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJDYW52YXNMYWJlbHMucHJvdG90eXBlLnNldFNjZW5lID0gZnVuY3Rpb24gKHNjZW5lKSB7IH07XG4gICAgU2NhdHRlclBsb3RWaXN1YWxpemVyQ2FudmFzTGFiZWxzLnByb3RvdHlwZS5vblBpY2tpbmdSZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyQ29udGV4dCkgeyB9O1xuICAgIHJldHVybiBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJDYW52YXNMYWJlbHM7XG59KCkpO1xuZXhwb3J0cy5TY2F0dGVyUGxvdFZpc3VhbGl6ZXJDYW52YXNMYWJlbHMgPSBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJDYW52YXNMYWJlbHM7XG4iXSwibmFtZXMiOlsiX19yZWFkIiwibyIsIm4iLCJtIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJpIiwiY2FsbCIsInIiLCJhciIsImUiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJ2YWx1ZSIsImVycm9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwiVEhSRUUiLCJyZXF1aXJlIiwicmVuZGVyXzEiLCJsYWJlbF8xIiwidXRpbCIsIk1BWF9MQUJFTFNfT05fU0NSRUVOIiwiU2NhdHRlclBsb3RWaXN1YWxpemVyQ2FudmFzTGFiZWxzIiwiY29udGFpbmVyIiwic3R5bGVzIiwiaWQiLCJ3b3JsZFNwYWNlUG9pbnRQb3NpdGlvbnMiLCJGbG9hdDMyQXJyYXkiLCJsYWJlbHNBY3RpdmUiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImdjIiwiZ2V0Q29udGV4dCIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIiwicG9pbnRlckV2ZW50cyIsInByb3RvdHlwZSIsInJlbW92ZUFsbExhYmVscyIsInBpeGVsV2lkdGgiLCJ3aWR0aCIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJwaXhlbEhlaWdodCIsImhlaWdodCIsImNsZWFyUmVjdCIsIm1ha2VMYWJlbHMiLCJyYyIsImxhYmVscyIsInBvaW50SW5kaWNlcyIsImxlbmd0aCIsImxyYyIsInNjZW5lSXMzRCIsImNhbWVyYVR5cGUiLCJDYW1lcmFUeXBlIiwiUGVyc3BlY3RpdmUiLCJsYWJlbEhlaWdodCIsInBhcnNlSW50IiwiZm9udCIsImRwciIsImdyaWQiLCJwaXh3IiwicGl4aCIsImJiIiwibG9YIiwiaGlYIiwibG9ZIiwiaGlZIiwiQ29sbGlzaW9uR3JpZCIsImNhbWVyYURvbWFpbiIsImZhcnRoZXN0Q2FtZXJhU3BhY2VQb2ludFoiLCJuZWFyZXN0Q2FtZXJhU3BhY2VQb2ludFoiLCJvcGFjaXR5TWFwIiwieCIsInNjYWxlRXhwb25lbnRpYWwiLCJjYW1Qb3MiLCJjYW1lcmEiLCJjYW1Ub1RhcmdldCIsImNsb25lIiwic3ViIiwiY2FtZXJhVGFyZ2V0IiwiY2FtVG9Qb2ludCIsIlZlY3RvcjMiLCJ0ZXh0QmFzZWxpbmUiLCJtaXRlckxpbWl0IiwibGFiZWxNYXJnaW4iLCJ4U2hpZnQiLCJNYXRoIiwibWluIiwicG9pbnQiLCJwaSIsInZlY3RvcjNGcm9tUGFja2VkQXJyYXkiLCJjb3B5IiwiZG90IiwiX2EiLCJ2ZWN0b3IzRFRvU2NyZWVuQ29vcmRzIiwic2NyZWVuV2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJ5IiwidGV4dEJvdW5kaW5nQm94IiwiaW5zZXJ0IiwidGV4dCIsImxhYmVsU3RyaW5ncyIsImZvbnRTaXplIiwiZGVmYXVsdEZvbnRTaXplIiwic2NhbGVGYWN0b3JzIiwibWVhc3VyZVRleHQiLCJvcGFjaXR5IiwidXNlU2NlbmVPcGFjaXR5RmxhZ3MiLCJmaWxsU3R5bGUiLCJzdHlsZVN0cmluZ0Zyb21QYWNrZWRSZ2JhIiwiZmlsbENvbG9ycyIsInN0cm9rZVN0eWxlIiwic3Ryb2tlQ29sb3JzIiwibGluZVdpZHRoIiwibGFiZWwiLCJzdHJva2VXaWR0aCIsInN0cm9rZVRleHQiLCJmaWxsV2lkdGgiLCJmaWxsVGV4dCIsInBhY2tlZFJnYmFBcnJheSIsImNvbG9ySW5kZXgiLCJvZmZzZXQiLCJnIiwiYiIsIm9uUmVzaXplIiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJkaXNwb3NlIiwib25Qb2ludFBvc2l0aW9uc0NoYW5nZWQiLCJuZXdQb3NpdGlvbnMiLCJvblJlbmRlciIsInNldFNjZW5lIiwic2NlbmUiLCJvblBpY2tpbmdSZW5kZXIiLCJyZW5kZXJDb250ZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/scatter_plot_visualizer_canvas_labels.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/scatter_plot_visualizer_polylines.js":
/*!***************************************************************************!*\
  !*** ./node_modules/scatter-gl/dist/scatter_plot_visualizer_polylines.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar __values = (void 0) && (void 0).__values || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar THREE = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\nvar util = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/scatter-gl/dist/util.js\");\nvar constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/scatter-gl/dist/constants.js\");\nvar ScatterPlotVisualizerPolylines = function() {\n    function ScatterPlotVisualizerPolylines() {\n        this.id = \"POLYLINES\";\n        this.sequences = [];\n        this.polylines = [];\n        this.polylinePositionBuffer = {};\n        this.polylineColorBuffer = {};\n        this.pointSequenceIndices = new Map();\n    }\n    ScatterPlotVisualizerPolylines.prototype.getPointSequenceIndex = function(pointIndex) {\n        return this.pointSequenceIndices.get(pointIndex);\n    };\n    ScatterPlotVisualizerPolylines.prototype.updateSequenceIndices = function() {\n        for(var i = 0; i < this.sequences.length; i++){\n            var sequence = this.sequences[i];\n            for(var j = 0; j < sequence.indices.length - 1; j++){\n                var pointIndex = sequence.indices[j];\n                this.pointSequenceIndices.set(pointIndex, i);\n                this.pointSequenceIndices.set(pointIndex + 1, i);\n            }\n        }\n    };\n    ScatterPlotVisualizerPolylines.prototype.createPolylines = function() {\n        var e_1, _a;\n        this.updateSequenceIndices();\n        try {\n            for(var _b = __values(this.polylines), _c = _b.next(); !_c.done; _c = _b.next()){\n                var polyline = _c.value;\n                this.scene.remove(polyline);\n                polyline.geometry.dispose();\n            }\n        } catch (e_1_1) {\n            e_1 = {\n                error: e_1_1\n            };\n        } finally{\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            } finally{\n                if (e_1) throw e_1.error;\n            }\n        }\n        this.polylines = [];\n        for(var i = 0; i < this.sequences.length; i++){\n            var geometry = new THREE.BufferGeometry();\n            geometry.addAttribute(\"position\", this.polylinePositionBuffer[i]);\n            geometry.addAttribute(\"color\", this.polylineColorBuffer[i]);\n            var material = new THREE.LineBasicMaterial({\n                linewidth: 1,\n                opacity: 1.0,\n                transparent: true,\n                vertexColors: true\n            });\n            var polyline = new THREE.LineSegments(geometry, material);\n            polyline.frustumCulled = false;\n            this.polylines.push(polyline);\n            this.scene.add(polyline);\n        }\n    };\n    ScatterPlotVisualizerPolylines.prototype.dispose = function() {\n        var e_2, _a;\n        try {\n            for(var _b = __values(this.polylines), _c = _b.next(); !_c.done; _c = _b.next()){\n                var polyline = _c.value;\n                this.scene.remove(polyline);\n                polyline.geometry.dispose();\n            }\n        } catch (e_2_1) {\n            e_2 = {\n                error: e_2_1\n            };\n        } finally{\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            } finally{\n                if (e_2) throw e_2.error;\n            }\n        }\n        this.polylines = [];\n        this.polylinePositionBuffer = {};\n        this.polylineColorBuffer = {};\n    };\n    ScatterPlotVisualizerPolylines.prototype.setScene = function(scene) {\n        this.scene = scene;\n    };\n    ScatterPlotVisualizerPolylines.prototype.setSequences = function(sequences) {\n        this.sequences = sequences;\n    };\n    ScatterPlotVisualizerPolylines.prototype.onPointPositionsChanged = function(newPositions) {\n        if (newPositions == null) this.dispose();\n        if (newPositions == null || this.sequences.length === 0) {\n            return;\n        }\n        for(var i = 0; i < this.sequences.length; i++){\n            var sequence = this.sequences[i];\n            var vertexCount = 2 * (sequence.indices.length - 1);\n            var polylines = new Float32Array(vertexCount * constants_1.XYZ_NUM_ELEMENTS);\n            this.polylinePositionBuffer[i] = new THREE.BufferAttribute(polylines, constants_1.XYZ_NUM_ELEMENTS);\n            var colors = new Float32Array(vertexCount * constants_1.RGBA_NUM_ELEMENTS);\n            this.polylineColorBuffer[i] = new THREE.BufferAttribute(colors, constants_1.RGBA_NUM_ELEMENTS);\n        }\n        for(var i = 0; i < this.sequences.length; i++){\n            var sequence = this.sequences[i];\n            var src = 0;\n            for(var j = 0; j < sequence.indices.length - 1; j++){\n                var p1Index = sequence.indices[j];\n                var p2Index = sequence.indices[j + 1];\n                var p1 = util.vector3FromPackedArray(newPositions, p1Index);\n                var p2 = util.vector3FromPackedArray(newPositions, p2Index);\n                this.polylinePositionBuffer[i].setXYZ(src, p1.x, p1.y, p1.z);\n                this.polylinePositionBuffer[i].setXYZ(src + 1, p2.x, p2.y, p2.z);\n                src += 2;\n            }\n            this.polylinePositionBuffer[i].needsUpdate = true;\n        }\n        this.createPolylines();\n    };\n    ScatterPlotVisualizerPolylines.prototype.onRender = function(renderContext) {\n        for(var i = 0; i < this.polylines.length; i++){\n            var material = this.polylines[i].material;\n            material.opacity = renderContext.polylineOpacities[i];\n            material.linewidth = renderContext.polylineWidths[i];\n            this.polylineColorBuffer[i].array = renderContext.polylineColors[i];\n            this.polylineColorBuffer[i].needsUpdate = true;\n        }\n    };\n    ScatterPlotVisualizerPolylines.prototype.onPickingRender = function(renderContext) {};\n    ScatterPlotVisualizerPolylines.prototype.onResize = function(newWidth, newHeight) {};\n    return ScatterPlotVisualizerPolylines;\n}();\nexports.ScatterPlotVisualizerPolylines = ScatterPlotVisualizerPolylines;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L3NjYXR0ZXJfcGxvdF92aXN1YWxpemVyX3BvbHlsaW5lcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLFdBQVcsQ0FBQyxNQUFHLEtBQUssT0FBRyxFQUFFQSxRQUFRLElBQUssU0FBU0MsQ0FBQztJQUNoRCxJQUFJQyxJQUFJLE9BQU9DLFdBQVcsY0FBY0EsT0FBT0MsUUFBUSxFQUFFQyxJQUFJSCxLQUFLRCxDQUFDLENBQUNDLEVBQUUsRUFBRUksSUFBSTtJQUM1RSxJQUFJRCxHQUFHLE9BQU9BLEVBQUVFLElBQUksQ0FBQ047SUFDckIsSUFBSUEsS0FBSyxPQUFPQSxFQUFFTyxNQUFNLEtBQUssVUFBVSxPQUFPO1FBQzFDQyxNQUFNO1lBQ0YsSUFBSVIsS0FBS0ssS0FBS0wsRUFBRU8sTUFBTSxFQUFFUCxJQUFJLEtBQUs7WUFDakMsT0FBTztnQkFBRVMsT0FBT1QsS0FBS0EsQ0FBQyxDQUFDSyxJQUFJO2dCQUFFSyxNQUFNLENBQUNWO1lBQUU7UUFDMUM7SUFDSjtJQUNBLE1BQU0sSUFBSVcsVUFBVVYsSUFBSSw0QkFBNEI7QUFDeEQ7QUFDQVcsOENBQTZDO0lBQUVILE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0QsSUFBSU0sUUFBUUMsbUJBQU9BLENBQUMsK0RBQU87QUFDM0IsSUFBSUMsT0FBT0QsbUJBQU9BLENBQUMsNERBQVE7QUFDM0IsSUFBSUUsY0FBY0YsbUJBQU9BLENBQUMsc0VBQWE7QUFDdkMsSUFBSUcsaUNBQWtDO0lBQ2xDLFNBQVNBO1FBQ0wsSUFBSSxDQUFDQyxFQUFFLEdBQUc7UUFDVixJQUFJLENBQUNDLFNBQVMsR0FBRyxFQUFFO1FBQ25CLElBQUksQ0FBQ0MsU0FBUyxHQUFHLEVBQUU7UUFDbkIsSUFBSSxDQUFDQyxzQkFBc0IsR0FBRyxDQUFDO1FBQy9CLElBQUksQ0FBQ0MsbUJBQW1CLEdBQUcsQ0FBQztRQUM1QixJQUFJLENBQUNDLG9CQUFvQixHQUFH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LE9BQU87WUFDWDtZQUNBLElBQUksQ0FBQ2xELHNCQUFzQixDQUFDbEIsRUFBRSxDQUFDOEUsV0FBVyxHQUFHO1FBQ2pEO1FBQ0EsSUFBSSxDQUFDL0MsZUFBZTtJQUN4QjtJQUNBakIsK0JBQStCUSxTQUFTLENBQUN5RCxRQUFRLEdBQUcsU0FBVUMsYUFBYTtRQUN2RSxJQUFLLElBQUloRixJQUFJLEdBQUdBLElBQUksSUFBSSxDQUFDaUIsU0FBUyxDQUFDZixNQUFNLEVBQUVGLElBQUs7WUFDNUMsSUFBSThDLFdBQVcsSUFBSSxDQUFDN0IsU0FBUyxDQUFDakIsRUFBRSxDQUFDOEMsUUFBUTtZQUN6Q0EsU0FBU0csT0FBTyxHQUFHK0IsY0FBY0MsaUJBQWlCLENBQUNqRixFQUFFO1lBQ3JEOEMsU0FBU0UsU0FBUyxHQUFHZ0MsY0FBY0UsY0FBYyxDQUFDbEYsRUFBRTtZQUNwRCxJQUFJLENBQUNtQixtQkFBbUIsQ0FBQ25CLEVBQUUsQ0FBQ21GLEtBQUssR0FBR0gsY0FBY0ksY0FBYyxDQUFDcEYsRUFBRTtZQUNuRSxJQUFJLENBQUNtQixtQkFBbUIsQ0FBQ25CLEVBQUUsQ0FBQzhFLFdBQVcsR0FBRztRQUM5QztJQUNKO0lBQ0FoRSwrQkFBK0JRLFNBQVMsQ0FBQytELGVBQWUsR0FBRyxTQUFVTCxhQUFhLEdBQUk7SUFDdEZsRSwrQkFBK0JRLFNBQVMsQ0FBQ2dFLFFBQVEsR0FBRyxTQUFVQyxRQUFRLEVBQUVDLFNBQVMsR0FBSTtJQUNyRixPQUFPMUU7QUFDWDtBQUNBTCxzQ0FBc0MsR0FBR0siLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly95b2dhcG9zZXBlcmZlY3QvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L3NjYXR0ZXJfcGxvdF92aXN1YWxpemVyX3BvbHlsaW5lcy5qcz9mN2UxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFRIUkVFID0gcmVxdWlyZShcInRocmVlXCIpO1xudmFyIHV0aWwgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIFNjYXR0ZXJQbG90VmlzdWFsaXplclBvbHlsaW5lcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NhdHRlclBsb3RWaXN1YWxpemVyUG9seWxpbmVzKCkge1xuICAgICAgICB0aGlzLmlkID0gJ1BPTFlMSU5FUyc7XG4gICAgICAgIHRoaXMuc2VxdWVuY2VzID0gW107XG4gICAgICAgIHRoaXMucG9seWxpbmVzID0gW107XG4gICAgICAgIHRoaXMucG9seWxpbmVQb3NpdGlvbkJ1ZmZlciA9IHt9O1xuICAgICAgICB0aGlzLnBvbHlsaW5lQ29sb3JCdWZmZXIgPSB7fTtcbiAgICAgICAgdGhpcy5wb2ludFNlcXVlbmNlSW5kaWNlcyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgU2NhdHRlclBsb3RWaXN1YWxpemVyUG9seWxpbmVzLnByb3RvdHlwZS5nZXRQb2ludFNlcXVlbmNlSW5kZXggPSBmdW5jdGlvbiAocG9pbnRJbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludFNlcXVlbmNlSW5kaWNlcy5nZXQocG9pbnRJbmRleCk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJQb2x5bGluZXMucHJvdG90eXBlLnVwZGF0ZVNlcXVlbmNlSW5kaWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlcXVlbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNlcXVlbmNlID0gdGhpcy5zZXF1ZW5jZXNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNlcXVlbmNlLmluZGljZXMubGVuZ3RoIC0gMTsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvaW50SW5kZXggPSBzZXF1ZW5jZS5pbmRpY2VzW2pdO1xuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRTZXF1ZW5jZUluZGljZXMuc2V0KHBvaW50SW5kZXgsIGkpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRTZXF1ZW5jZUluZGljZXMuc2V0KHBvaW50SW5kZXggKyAxLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NhdHRlclBsb3RWaXN1YWxpemVyUG9seWxpbmVzLnByb3RvdHlwZS5jcmVhdGVQb2x5bGluZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB0aGlzLnVwZGF0ZVNlcXVlbmNlSW5kaWNlcygpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvbHlsaW5lcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9seWxpbmUgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlbW92ZShwb2x5bGluZSk7XG4gICAgICAgICAgICAgICAgcG9seWxpbmUuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb2x5bGluZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlcXVlbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgdGhpcy5wb2x5bGluZVBvc2l0aW9uQnVmZmVyW2ldKTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgnY29sb3InLCB0aGlzLnBvbHlsaW5lQ29sb3JCdWZmZXJbaV0pO1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gbmV3IFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsKHtcbiAgICAgICAgICAgICAgICBsaW5ld2lkdGg6IDEsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMS4wLFxuICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxuICAgICAgICAgICAgICAgIHZlcnRleENvbG9yczogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHBvbHlsaW5lID0gbmV3IFRIUkVFLkxpbmVTZWdtZW50cyhnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICAgICAgcG9seWxpbmUuZnJ1c3R1bUN1bGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5wb2x5bGluZXMucHVzaChwb2x5bGluZSk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmFkZChwb2x5bGluZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplclBvbHlsaW5lcy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMiwgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMucG9seWxpbmVzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBwb2x5bGluZSA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKHBvbHlsaW5lKTtcbiAgICAgICAgICAgICAgICBwb2x5bGluZS5nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvbHlsaW5lcyA9IFtdO1xuICAgICAgICB0aGlzLnBvbHlsaW5lUG9zaXRpb25CdWZmZXIgPSB7fTtcbiAgICAgICAgdGhpcy5wb2x5bGluZUNvbG9yQnVmZmVyID0ge307XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJQb2x5bGluZXMucHJvdG90eXBlLnNldFNjZW5lID0gZnVuY3Rpb24gKHNjZW5lKSB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplclBvbHlsaW5lcy5wcm90b3R5cGUuc2V0U2VxdWVuY2VzID0gZnVuY3Rpb24gKHNlcXVlbmNlcykge1xuICAgICAgICB0aGlzLnNlcXVlbmNlcyA9IHNlcXVlbmNlcztcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplclBvbHlsaW5lcy5wcm90b3R5cGUub25Qb2ludFBvc2l0aW9uc0NoYW5nZWQgPSBmdW5jdGlvbiAobmV3UG9zaXRpb25zKSB7XG4gICAgICAgIGlmIChuZXdQb3NpdGlvbnMgPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICBpZiAobmV3UG9zaXRpb25zID09IG51bGwgfHwgdGhpcy5zZXF1ZW5jZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlcXVlbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNlcXVlbmNlID0gdGhpcy5zZXF1ZW5jZXNbaV07XG4gICAgICAgICAgICB2YXIgdmVydGV4Q291bnQgPSAyICogKHNlcXVlbmNlLmluZGljZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB2YXIgcG9seWxpbmVzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0ZXhDb3VudCAqIGNvbnN0YW50c18xLlhZWl9OVU1fRUxFTUVOVFMpO1xuICAgICAgICAgICAgdGhpcy5wb2x5bGluZVBvc2l0aW9uQnVmZmVyW2ldID0gbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShwb2x5bGluZXMsIGNvbnN0YW50c18xLlhZWl9OVU1fRUxFTUVOVFMpO1xuICAgICAgICAgICAgdmFyIGNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGV4Q291bnQgKiBjb25zdGFudHNfMS5SR0JBX05VTV9FTEVNRU5UUyk7XG4gICAgICAgICAgICB0aGlzLnBvbHlsaW5lQ29sb3JCdWZmZXJbaV0gPSBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGNvbG9ycywgY29uc3RhbnRzXzEuUkdCQV9OVU1fRUxFTUVOVFMpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZXF1ZW5jZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzZXF1ZW5jZSA9IHRoaXMuc2VxdWVuY2VzW2ldO1xuICAgICAgICAgICAgdmFyIHNyYyA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNlcXVlbmNlLmluZGljZXMubGVuZ3RoIC0gMTsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHAxSW5kZXggPSBzZXF1ZW5jZS5pbmRpY2VzW2pdO1xuICAgICAgICAgICAgICAgIHZhciBwMkluZGV4ID0gc2VxdWVuY2UuaW5kaWNlc1tqICsgMV07XG4gICAgICAgICAgICAgICAgdmFyIHAxID0gdXRpbC52ZWN0b3IzRnJvbVBhY2tlZEFycmF5KG5ld1Bvc2l0aW9ucywgcDFJbmRleCk7XG4gICAgICAgICAgICAgICAgdmFyIHAyID0gdXRpbC52ZWN0b3IzRnJvbVBhY2tlZEFycmF5KG5ld1Bvc2l0aW9ucywgcDJJbmRleCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb2x5bGluZVBvc2l0aW9uQnVmZmVyW2ldLnNldFhZWihzcmMsIHAxLngsIHAxLnksIHAxLnopO1xuICAgICAgICAgICAgICAgIHRoaXMucG9seWxpbmVQb3NpdGlvbkJ1ZmZlcltpXS5zZXRYWVooc3JjICsgMSwgcDIueCwgcDIueSwgcDIueik7XG4gICAgICAgICAgICAgICAgc3JjICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBvbHlsaW5lUG9zaXRpb25CdWZmZXJbaV0ubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3JlYXRlUG9seWxpbmVzKCk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJQb2x5bGluZXMucHJvdG90eXBlLm9uUmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlckNvbnRleHQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBvbHlsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gdGhpcy5wb2x5bGluZXNbaV0ubWF0ZXJpYWw7XG4gICAgICAgICAgICBtYXRlcmlhbC5vcGFjaXR5ID0gcmVuZGVyQ29udGV4dC5wb2x5bGluZU9wYWNpdGllc1tpXTtcbiAgICAgICAgICAgIG1hdGVyaWFsLmxpbmV3aWR0aCA9IHJlbmRlckNvbnRleHQucG9seWxpbmVXaWR0aHNbaV07XG4gICAgICAgICAgICB0aGlzLnBvbHlsaW5lQ29sb3JCdWZmZXJbaV0uYXJyYXkgPSByZW5kZXJDb250ZXh0LnBvbHlsaW5lQ29sb3JzW2ldO1xuICAgICAgICAgICAgdGhpcy5wb2x5bGluZUNvbG9yQnVmZmVyW2ldLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NhdHRlclBsb3RWaXN1YWxpemVyUG9seWxpbmVzLnByb3RvdHlwZS5vblBpY2tpbmdSZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyQ29udGV4dCkgeyB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplclBvbHlsaW5lcy5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAobmV3V2lkdGgsIG5ld0hlaWdodCkgeyB9O1xuICAgIHJldHVybiBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJQb2x5bGluZXM7XG59KCkpO1xuZXhwb3J0cy5TY2F0dGVyUGxvdFZpc3VhbGl6ZXJQb2x5bGluZXMgPSBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJQb2x5bGluZXM7XG4iXSwibmFtZXMiOlsiX192YWx1ZXMiLCJvIiwicyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibSIsImkiLCJjYWxsIiwibGVuZ3RoIiwibmV4dCIsInZhbHVlIiwiZG9uZSIsIlR5cGVFcnJvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsIlRIUkVFIiwicmVxdWlyZSIsInV0aWwiLCJjb25zdGFudHNfMSIsIlNjYXR0ZXJQbG90VmlzdWFsaXplclBvbHlsaW5lcyIsImlkIiwic2VxdWVuY2VzIiwicG9seWxpbmVzIiwicG9seWxpbmVQb3NpdGlvbkJ1ZmZlciIsInBvbHlsaW5lQ29sb3JCdWZmZXIiLCJwb2ludFNlcXVlbmNlSW5kaWNlcyIsIk1hcCIsInByb3RvdHlwZSIsImdldFBvaW50U2VxdWVuY2VJbmRleCIsInBvaW50SW5kZXgiLCJnZXQiLCJ1cGRhdGVTZXF1ZW5jZUluZGljZXMiLCJzZXF1ZW5jZSIsImoiLCJpbmRpY2VzIiwic2V0IiwiY3JlYXRlUG9seWxpbmVzIiwiZV8xIiwiX2EiLCJfYiIsIl9jIiwicG9seWxpbmUiLCJzY2VuZSIsInJlbW92ZSIsImdlb21ldHJ5IiwiZGlzcG9zZSIsImVfMV8xIiwiZXJyb3IiLCJyZXR1cm4iLCJCdWZmZXJHZW9tZXRyeSIsImFkZEF0dHJpYnV0ZSIsIm1hdGVyaWFsIiwiTGluZUJhc2ljTWF0ZXJpYWwiLCJsaW5ld2lkdGgiLCJvcGFjaXR5IiwidHJhbnNwYXJlbnQiLCJ2ZXJ0ZXhDb2xvcnMiLCJMaW5lU2VnbWVudHMiLCJmcnVzdHVtQ3VsbGVkIiwicHVzaCIsImFkZCIsImVfMiIsImVfMl8xIiwic2V0U2NlbmUiLCJzZXRTZXF1ZW5jZXMiLCJvblBvaW50UG9zaXRpb25zQ2hhbmdlZCIsIm5ld1Bvc2l0aW9ucyIsInZlcnRleENvdW50IiwiRmxvYXQzMkFycmF5IiwiWFlaX05VTV9FTEVNRU5UUyIsIkJ1ZmZlckF0dHJpYnV0ZSIsImNvbG9ycyIsIlJHQkFfTlVNX0VMRU1FTlRTIiwic3JjIiwicDFJbmRleCIsInAySW5kZXgiLCJwMSIsInZlY3RvcjNGcm9tUGFja2VkQXJyYXkiLCJwMiIsInNldFhZWiIsIngiLCJ5IiwieiIsIm5lZWRzVXBkYXRlIiwib25SZW5kZXIiLCJyZW5kZXJDb250ZXh0IiwicG9seWxpbmVPcGFjaXRpZXMiLCJwb2x5bGluZVdpZHRocyIsImFycmF5IiwicG9seWxpbmVDb2xvcnMiLCJvblBpY2tpbmdSZW5kZXIiLCJvblJlc2l6ZSIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/scatter_plot_visualizer_polylines.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/scatter_plot_visualizer_sprites.js":
/*!*************************************************************************!*\
  !*** ./node_modules/scatter-gl/dist/scatter_plot_visualizer_sprites.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar THREE = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\nvar render_1 = __webpack_require__(/*! ./render */ \"(ssr)/./node_modules/scatter-gl/dist/render.js\");\nvar util = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/scatter-gl/dist/util.js\");\nvar constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/scatter-gl/dist/constants.js\");\nvar makeVertexShader = function(minPointSize) {\n    return \"\\n    // Index of the specific vertex (passed in as bufferAttribute), and the\\n    // variable that will be used to pass it to the fragment shader.\\n    attribute float spriteIndex;\\n    attribute vec4 color;\\n    attribute float scaleFactor;\\n\\n    varying vec2 xyIndex;\\n    varying vec4 vColor;\\n\\n    uniform bool sizeAttenuation;\\n    uniform float pointSize;\\n    uniform float spritesPerRow;\\n    uniform float spritesPerColumn;\\n\\n    varying float fogDepth;\\n\\n    void main() {\\n      // Pass index and color values to fragment shader.\\n      vColor = color;\\n      xyIndex = vec2(mod(spriteIndex, spritesPerRow),\\n                floor(spriteIndex / spritesPerColumn));\\n\\n      // Transform current vertex by modelViewMatrix (model world position and\\n      // camera world position matrix).\\n      vec4 cameraSpacePos = modelViewMatrix * vec4(position, 1.0);\\n\\n      // Project vertex in camera-space to screen coordinates using the camera's\\n      // projection matrix.\\n      gl_Position = projectionMatrix * cameraSpacePos;\\n\\n      // Create size attenuation (if we're in 3D mode) by making the size of\\n      // each point inversly proportional to its distance to the camera.\\n      float outputPointSize = pointSize;\\n      if (sizeAttenuation) {\\n        outputPointSize = -pointSize / cameraSpacePos.z;\\n        fogDepth = pointSize / outputPointSize * 1.2;\\n      } else {  // Create size attenuation (if we're in 2D mode)\\n        const float PI = 3.1415926535897932384626433832795;\\n        const float minScale = 0.1;  // minimum scaling factor\\n        const float outSpeed = 2.0;  // shrink speed when zooming out\\n        const float outNorm = (1. - minScale) / atan(outSpeed);\\n        const float maxScale = 15.0;  // maximum scaling factor\\n        const float inSpeed = 0.02;  // enlarge speed when zooming in\\n        const float zoomOffset = 0.3;  // offset zoom pivot\\n        float zoom = projectionMatrix[0][0] + zoomOffset;  // zoom pivot\\n        float scale = zoom < 1. ? 1. + outNorm * atan(outSpeed * (zoom - 1.)) :\\n                      1. + 2. / PI * (maxScale - 1.) * atan(inSpeed * (zoom - 1.));\\n        outputPointSize = pointSize * scale;\\n      }\\n\\n      gl_PointSize =\\n        max(outputPointSize * scaleFactor, \" + minPointSize.toFixed(1) + \");\\n    }\";\n};\nvar FRAGMENT_SHADER_POINT_TEST_CHUNK = \"\\n    bool point_in_unit_circle(vec2 spriteCoord) {\\n      vec2 centerToP = spriteCoord - vec2(0.5, 0.5);\\n      return dot(centerToP, centerToP) < (0.5 * 0.5);\\n    }\\n\\n    bool point_in_unit_equilateral_triangle(vec2 spriteCoord) {\\n      vec3 v0 = vec3(0, 1, 0);\\n      vec3 v1 = vec3(0.5, 0, 0);\\n      vec3 v2 = vec3(1, 1, 0);\\n      vec3 p = vec3(spriteCoord, 0);\\n      float p_in_v0_v1 = cross(v1 - v0, p - v0).z;\\n      float p_in_v1_v2 = cross(v2 - v1, p - v1).z;\\n      return (p_in_v0_v1 > 0.0) && (p_in_v1_v2 > 0.0);\\n    }\\n\\n    bool point_in_unit_square(vec2 spriteCoord) {\\n      return true;\\n    }\\n  \";\nvar FRAGMENT_SHADER = \"\\n    varying vec2 xyIndex;\\n    varying vec4 vColor;\\n\\n    uniform sampler2D spriteTexture;\\n    uniform float spritesPerRow;\\n    uniform float spritesPerColumn;\\n    uniform bool isImage;\\n\\n    \" + THREE.ShaderChunk[\"common\"] + \"\\n    \" + FRAGMENT_SHADER_POINT_TEST_CHUNK + \"\\n    uniform vec3 fogColor;\\n    varying float fogDepth;\\n\t\tuniform float fogNear;\\n    uniform float fogFar;\\n\\n    void main() {\\n      if (isImage) {\\n        // Coordinates of the vertex within the entire sprite image.\\n        vec2 coords =\\n          (gl_PointCoord + xyIndex) / vec2(spritesPerRow, spritesPerColumn);\\n        gl_FragColor = vColor * texture(spriteTexture, coords);\\n      } else {\\n        bool inside = point_in_unit_circle(gl_PointCoord);\\n        if (!inside) {\\n          discard;\\n        }\\n        gl_FragColor = vColor;\\n      }\\n      float fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n      gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n    }\";\nvar FRAGMENT_SHADER_PICKING = \"\\n    varying vec2 xyIndex;\\n    varying vec4 vColor;\\n    uniform bool isImage;\\n\\n    \" + FRAGMENT_SHADER_POINT_TEST_CHUNK + \"\\n\\n    varying float fogDepth;\\n\\n    void main() {\\n      xyIndex; // Silence 'unused variable' warning.\\n      fogDepth; // Silence 'unused variable' warning.\\n      if (isImage) {\\n        gl_FragColor = vColor;\\n      } else {\\n        bool inside = point_in_unit_circle(gl_PointCoord);\\n        if (!inside) {\\n          discard;\\n        }\\n        gl_FragColor = vColor;\\n      }\\n    }\";\nvar ScatterPlotVisualizerSprites = function() {\n    function ScatterPlotVisualizerSprites(styles, spriteSheetParams) {\n        this.styles = styles;\n        this.id = \"SPRITES\";\n        this.isSpriteSheetMode = false;\n        this.spritesPerRow = 0;\n        this.spritesPerColumn = 0;\n        this.spriteDimensions = [\n            0,\n            0\n        ];\n        this.worldSpacePointPositions = new Float32Array(0);\n        this.pickingColors = new Float32Array(0);\n        this.renderColors = new Float32Array(0);\n        this.standinTextureForPoints = util.createTextureFromCanvas(document.createElement(\"canvas\"));\n        if (spriteSheetParams) {\n            this.spriteSheetParams = spriteSheetParams;\n            this.setSpriteSheet(spriteSheetParams);\n            this.isSpriteSheetMode = true;\n        }\n        this.renderMaterial = this.createRenderMaterial();\n        this.pickingMaterial = this.createPickingMaterial();\n    }\n    ScatterPlotVisualizerSprites.prototype.createUniforms = function() {\n        return {\n            spriteTexture: {\n                type: \"t\"\n            },\n            spritesPerRow: {\n                type: \"f\"\n            },\n            spritesPerColumn: {\n                type: \"f\"\n            },\n            fogColor: {\n                type: \"c\"\n            },\n            fogNear: {\n                type: \"f\"\n            },\n            fogFar: {\n                type: \"f\"\n            },\n            isImage: {\n                type: \"bool\"\n            },\n            sizeAttenuation: {\n                type: \"bool\"\n            },\n            pointSize: {\n                type: \"f\"\n            }\n        };\n    };\n    ScatterPlotVisualizerSprites.prototype.createRenderMaterial = function() {\n        var isSpriteSheetMode = this.isSpriteSheetMode;\n        var uniforms = this.createUniforms();\n        return new THREE.ShaderMaterial({\n            uniforms: uniforms,\n            vertexShader: makeVertexShader(this.styles.sprites.minPointSize),\n            fragmentShader: FRAGMENT_SHADER,\n            transparent: true,\n            depthFunc: THREE.LessDepth,\n            fog: this.styles.fog.enabled,\n            blending: THREE.NormalBlending\n        });\n    };\n    ScatterPlotVisualizerSprites.prototype.createPickingMaterial = function() {\n        var uniforms = this.createUniforms();\n        return new THREE.ShaderMaterial({\n            uniforms: uniforms,\n            vertexShader: makeVertexShader(this.styles.sprites.minPointSize),\n            fragmentShader: FRAGMENT_SHADER_PICKING,\n            transparent: true,\n            depthTest: true,\n            depthWrite: true,\n            fog: false,\n            blending: THREE.NormalBlending\n        });\n    };\n    ScatterPlotVisualizerSprites.prototype.createPointSprites = function(scene, positions) {\n        var pointCount = positions != null ? positions.length / constants_1.XYZ_NUM_ELEMENTS : 0;\n        var geometry = this.createGeometry(pointCount);\n        this.fog = new THREE.Fog(0xffffff);\n        this.points = new THREE.Points(geometry, this.renderMaterial);\n        this.points.frustumCulled = false;\n        if (this.spriteIndexBufferAttribute != null) {\n            this.points.geometry.setAttribute(\"spriteIndex\", this.spriteIndexBufferAttribute);\n        }\n        scene.add(this.points);\n    };\n    ScatterPlotVisualizerSprites.prototype.calculatePointSize = function(sceneIs3D) {\n        var imageSize = this.styles.sprites.imageSize;\n        if (this.texture) {\n            return sceneIs3D ? imageSize : this.spriteDimensions[0];\n        }\n        var n = this.worldSpacePointPositions != null ? this.worldSpacePointPositions.length / constants_1.XYZ_NUM_ELEMENTS : 1;\n        var SCALE = 200;\n        var LOG_BASE = 8;\n        var DIVISOR = 1.5;\n        var pointSize = SCALE / Math.log(n) / Math.log(LOG_BASE);\n        return sceneIs3D ? pointSize : pointSize / DIVISOR;\n    };\n    ScatterPlotVisualizerSprites.prototype.createGeometry = function(pointCount) {\n        var n = pointCount;\n        this.pickingColors = new Float32Array(n * constants_1.RGBA_NUM_ELEMENTS);\n        {\n            var dst = 0;\n            for(var i = 0; i < n; i++){\n                var c = new THREE.Color(i);\n                this.pickingColors[dst++] = c.r;\n                this.pickingColors[dst++] = c.g;\n                this.pickingColors[dst++] = c.b;\n                this.pickingColors[dst++] = 1;\n            }\n        }\n        var geometry = new THREE.BufferGeometry();\n        geometry.setAttribute(\"position\", new THREE.BufferAttribute(new Float32Array([]), constants_1.XYZ_NUM_ELEMENTS));\n        geometry.setAttribute(\"color\", new THREE.BufferAttribute(new Float32Array([]), constants_1.RGBA_NUM_ELEMENTS));\n        geometry.setAttribute(\"scaleFactor\", new THREE.BufferAttribute(new Float32Array([]), constants_1.INDEX_NUM_ELEMENTS));\n        geometry.computeVertexNormals();\n        return geometry;\n    };\n    ScatterPlotVisualizerSprites.prototype.setFogDistances = function(sceneIs3D, nearestPointZ, farthestPointZ) {\n        var _a = this.styles.fog, threshold = _a.threshold, enabled = _a.enabled;\n        if (sceneIs3D && enabled) {\n            this.fog.near = nearestPointZ;\n            var delta = nearestPointZ - farthestPointZ;\n            this.fog.far = nearestPointZ - threshold * delta;\n        } else {\n            this.fog.near = Infinity;\n            this.fog.far = Infinity;\n        }\n    };\n    ScatterPlotVisualizerSprites.prototype.dispose = function() {\n        this.disposeGeometry();\n        this.disposeSpriteSheet();\n    };\n    ScatterPlotVisualizerSprites.prototype.disposeGeometry = function() {\n        if (this.points != null) {\n            this.scene.remove(this.points);\n            this.points.geometry.dispose();\n            this.points = null;\n            this.worldSpacePointPositions = null;\n        }\n    };\n    ScatterPlotVisualizerSprites.prototype.disposeSpriteSheet = function() {\n        if (this.texture) {\n            this.texture.dispose();\n        }\n        this.texture = null;\n        this.renderMaterial = null;\n        this.pickingMaterial = null;\n        this.spriteSheetImage = null;\n    };\n    ScatterPlotVisualizerSprites.prototype.setScene = function(scene) {\n        this.scene = scene;\n    };\n    ScatterPlotVisualizerSprites.prototype.setSpriteSheet = function(spriteSheetParams) {\n        var _this = this;\n        var spriteDimensions = spriteSheetParams.spriteDimensions, onImageLoad = spriteSheetParams.onImageLoad;\n        var spriteSheet = spriteSheetParams.spritesheetImage;\n        if (typeof spriteSheet === \"string\") {\n            var spriteSheetUrl = spriteSheet;\n            spriteSheet = new Image();\n            spriteSheet.src = spriteSheetUrl;\n        }\n        this.spriteSheetImage = spriteSheet;\n        this.texture = util.createTextureFromImage(this.spriteSheetImage, function() {\n            _this.spritesPerRow = _this.spriteSheetImage.width / spriteDimensions[0];\n            _this.spritesPerColumn = _this.spriteSheetImage.height / spriteDimensions[1];\n            onImageLoad();\n        });\n        this.spriteDimensions = spriteDimensions;\n        this.setSpriteIndexBuffer();\n    };\n    ScatterPlotVisualizerSprites.prototype.setSpriteIndexBuffer = function() {\n        var spriteIndices = this.spriteSheetParams.spriteIndices;\n        this.spriteIndexBufferAttribute = new THREE.BufferAttribute(spriteIndices, constants_1.INDEX_NUM_ELEMENTS);\n        if (this.points != null) {\n            this.points.geometry.setAttribute(\"spriteIndex\", this.spriteIndexBufferAttribute);\n        }\n    };\n    ScatterPlotVisualizerSprites.prototype.onPointPositionsChanged = function(newPositions) {\n        if (this.points != null) {\n            if (this.worldSpacePointPositions.length !== newPositions.length) {\n                this.disposeGeometry();\n            }\n        }\n        this.worldSpacePointPositions = newPositions;\n        if (this.points == null) {\n            this.createPointSprites(this.scene, newPositions);\n        }\n        if (this.spriteSheetParams) {\n            this.setSpriteIndexBuffer();\n        }\n        this.renderMaterial = this.createRenderMaterial();\n        this.pickingMaterial = this.createPickingMaterial();\n        var positions = this.points.geometry.getAttribute(\"position\");\n        positions.array = newPositions;\n        positions.count = newPositions.length / constants_1.XYZ_NUM_ELEMENTS;\n        positions.needsUpdate = true;\n    };\n    ScatterPlotVisualizerSprites.prototype.onPickingRender = function(rc) {\n        var sceneIs3D = rc.cameraType === render_1.CameraType.Perspective;\n        this.pickingMaterial.uniforms.spritesPerRow.value = this.spritesPerRow;\n        this.pickingMaterial.uniforms.spritesPerRow.value = this.spritesPerColumn;\n        this.pickingMaterial.uniforms.sizeAttenuation.value = sceneIs3D;\n        this.pickingMaterial.uniforms.pointSize.value = this.calculatePointSize(sceneIs3D);\n        this.points.material = this.pickingMaterial;\n        var colors = this.points.geometry.getAttribute(\"color\");\n        colors.array = this.pickingColors;\n        colors.count = this.pickingColors.length / constants_1.RGBA_NUM_ELEMENTS;\n        colors.needsUpdate = true;\n        var scaleFactors = this.points.geometry.getAttribute(\"scaleFactor\");\n        scaleFactors.array = rc.pointScaleFactors;\n        scaleFactors.count = rc.pointScaleFactors.length;\n        scaleFactors.count = rc.pointScaleFactors.length / constants_1.INDEX_NUM_ELEMENTS;\n        scaleFactors.needsUpdate = true;\n    };\n    ScatterPlotVisualizerSprites.prototype.onRender = function(rc) {\n        var sceneIs3D = rc.camera instanceof THREE.PerspectiveCamera;\n        this.setFogDistances(sceneIs3D, rc.nearestCameraSpacePointZ, rc.farthestCameraSpacePointZ);\n        this.scene.fog = this.fog;\n        this.scene.fog.color = new THREE.Color(rc.backgroundColor);\n        this.renderMaterial.uniforms.fogColor.value = this.scene.fog.color;\n        this.renderMaterial.uniforms.fogNear.value = this.fog.near;\n        this.renderMaterial.uniforms.fogFar.value = this.fog.far;\n        this.renderMaterial.uniforms.spritesPerRow.value = this.spritesPerRow;\n        this.renderMaterial.uniforms.spritesPerColumn.value = this.spritesPerColumn;\n        this.renderMaterial.uniforms.isImage.value = this.texture != null;\n        this.renderMaterial.uniforms.spriteTexture.value = this.texture != null ? this.texture : this.standinTextureForPoints;\n        this.renderMaterial.uniforms.sizeAttenuation.value = sceneIs3D;\n        this.renderMaterial.uniforms.pointSize.value = this.calculatePointSize(sceneIs3D);\n        this.points.material = this.renderMaterial;\n        var colors = this.points.geometry.getAttribute(\"color\");\n        this.renderColors = rc.pointColors;\n        colors.array = this.renderColors;\n        colors.count = this.renderColors.length / constants_1.RGBA_NUM_ELEMENTS;\n        colors.needsUpdate = true;\n        var scaleFactors = this.points.geometry.getAttribute(\"scaleFactor\");\n        scaleFactors.array = rc.pointScaleFactors;\n        scaleFactors.count = rc.pointScaleFactors.length / constants_1.INDEX_NUM_ELEMENTS;\n        scaleFactors.needsUpdate = true;\n    };\n    ScatterPlotVisualizerSprites.prototype.onResize = function(newWidth, newHeight) {};\n    return ScatterPlotVisualizerSprites;\n}();\nexports.ScatterPlotVisualizerSprites = ScatterPlotVisualizerSprites;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L3NjYXR0ZXJfcGxvdF92aXN1YWxpemVyX3Nwcml0ZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYkEsOENBQTZDO0lBQUVHLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0QsSUFBSUMsUUFBUUMsbUJBQU9BLENBQUMsK0RBQU87QUFDM0IsSUFBSUMsV0FBV0QsbUJBQU9BLENBQUMsZ0VBQVU7QUFDakMsSUFBSUUsT0FBT0YsbUJBQU9BLENBQUMsNERBQVE7QUFDM0IsSUFBSUcsY0FBY0gsbUJBQU9BLENBQUMsc0VBQWE7QUFDdkMsSUFBSUksbUJBQW1CLFNBQVVDLFlBQVk7SUFBSSxPQUFPLGd1RUFBZ3VFQSxhQUFhQyxPQUFPLENBQUMsS0FBSztBQUFhO0FBQy96RSxJQUFJQyxtQ0FBbUM7QUFDdkMsSUFBSUMsa0JBQWtCLDRNQUE0TVQsTUFBTVUsV0FBVyxDQUFDLFNBQVMsR0FBRyxXQUFXRixtQ0FBbUM7QUFDOVMsSUFBSUcsMEJBQTBCLDZGQUE2RkgsbUNBQW1DO0FBQzlKLElBQUlJLCtCQUFnQztJQUNoQyxTQUFTQSw2QkFBNkJDLE1BQU0sRUFBRUMsaUJBQWlCO1FBQzNELElBQUksQ0FBQ0QsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0UsRUFBRSxHQUFHO1FBQ1YsSUFBSSxDQUFDQyxpQkFBaUIsR0FBRztRQUN6QixJQUFJLENBQUNDLGFBQWEsR0FBRztRQUNyQixJQUFJLENBQUNDLGdCQUFnQixHQUFHO1FBQ3hCLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUc7WUFBQztZQUFHO1NBQUU7UUFDOUIsSUFBSSxDQUFDQyx3QkFBd0IsR0FBRyxJQUFJQyxhQUFhO1FBQ2pELElBQUksQ0FBQ0MsYUFBYSxHQUFHLElBQUlELGFBQWE7UUFDdEMsSUFBSSxDQUFDRSxZQUFZLEdBQUcsSUFBSUYsYUFBYTtRQUNyQyxJQUFJLENBQUNHLHVCQUF1QixHQUFHckIsS0FBS3NCLHVCQUF1QixDQUFDQyxTQUFT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QUMrRyxRQUFRLEdBQUcsU0FBVUMsUUFBUSxFQUFFQyxTQUFTLEdBQUk7SUFDbkYsT0FBT3RJO0FBQ1g7QUFDQWQsb0NBQW9DLEdBQUdjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veW9nYXBvc2VwZXJmZWN0Ly4vbm9kZV9tb2R1bGVzL3NjYXR0ZXItZ2wvZGlzdC9zY2F0dGVyX3Bsb3RfdmlzdWFsaXplcl9zcHJpdGVzLmpzP2JlNTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVEhSRUUgPSByZXF1aXJlKFwidGhyZWVcIik7XG52YXIgcmVuZGVyXzEgPSByZXF1aXJlKFwiLi9yZW5kZXJcIik7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgbWFrZVZlcnRleFNoYWRlciA9IGZ1bmN0aW9uIChtaW5Qb2ludFNpemUpIHsgcmV0dXJuIFwiXFxuICAgIC8vIEluZGV4IG9mIHRoZSBzcGVjaWZpYyB2ZXJ0ZXggKHBhc3NlZCBpbiBhcyBidWZmZXJBdHRyaWJ1dGUpLCBhbmQgdGhlXFxuICAgIC8vIHZhcmlhYmxlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHBhc3MgaXQgdG8gdGhlIGZyYWdtZW50IHNoYWRlci5cXG4gICAgYXR0cmlidXRlIGZsb2F0IHNwcml0ZUluZGV4O1xcbiAgICBhdHRyaWJ1dGUgdmVjNCBjb2xvcjtcXG4gICAgYXR0cmlidXRlIGZsb2F0IHNjYWxlRmFjdG9yO1xcblxcbiAgICB2YXJ5aW5nIHZlYzIgeHlJbmRleDtcXG4gICAgdmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG4gICAgdW5pZm9ybSBib29sIHNpemVBdHRlbnVhdGlvbjtcXG4gICAgdW5pZm9ybSBmbG9hdCBwb2ludFNpemU7XFxuICAgIHVuaWZvcm0gZmxvYXQgc3ByaXRlc1BlclJvdztcXG4gICAgdW5pZm9ybSBmbG9hdCBzcHJpdGVzUGVyQ29sdW1uO1xcblxcbiAgICB2YXJ5aW5nIGZsb2F0IGZvZ0RlcHRoO1xcblxcbiAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgLy8gUGFzcyBpbmRleCBhbmQgY29sb3IgdmFsdWVzIHRvIGZyYWdtZW50IHNoYWRlci5cXG4gICAgICB2Q29sb3IgPSBjb2xvcjtcXG4gICAgICB4eUluZGV4ID0gdmVjMihtb2Qoc3ByaXRlSW5kZXgsIHNwcml0ZXNQZXJSb3cpLFxcbiAgICAgICAgICAgICAgICBmbG9vcihzcHJpdGVJbmRleCAvIHNwcml0ZXNQZXJDb2x1bW4pKTtcXG5cXG4gICAgICAvLyBUcmFuc2Zvcm0gY3VycmVudCB2ZXJ0ZXggYnkgbW9kZWxWaWV3TWF0cml4IChtb2RlbCB3b3JsZCBwb3NpdGlvbiBhbmRcXG4gICAgICAvLyBjYW1lcmEgd29ybGQgcG9zaXRpb24gbWF0cml4KS5cXG4gICAgICB2ZWM0IGNhbWVyYVNwYWNlUG9zID0gbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcXG5cXG4gICAgICAvLyBQcm9qZWN0IHZlcnRleCBpbiBjYW1lcmEtc3BhY2UgdG8gc2NyZWVuIGNvb3JkaW5hdGVzIHVzaW5nIHRoZSBjYW1lcmEnc1xcbiAgICAgIC8vIHByb2plY3Rpb24gbWF0cml4LlxcbiAgICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIGNhbWVyYVNwYWNlUG9zO1xcblxcbiAgICAgIC8vIENyZWF0ZSBzaXplIGF0dGVudWF0aW9uIChpZiB3ZSdyZSBpbiAzRCBtb2RlKSBieSBtYWtpbmcgdGhlIHNpemUgb2ZcXG4gICAgICAvLyBlYWNoIHBvaW50IGludmVyc2x5IHByb3BvcnRpb25hbCB0byBpdHMgZGlzdGFuY2UgdG8gdGhlIGNhbWVyYS5cXG4gICAgICBmbG9hdCBvdXRwdXRQb2ludFNpemUgPSBwb2ludFNpemU7XFxuICAgICAgaWYgKHNpemVBdHRlbnVhdGlvbikge1xcbiAgICAgICAgb3V0cHV0UG9pbnRTaXplID0gLXBvaW50U2l6ZSAvIGNhbWVyYVNwYWNlUG9zLno7XFxuICAgICAgICBmb2dEZXB0aCA9IHBvaW50U2l6ZSAvIG91dHB1dFBvaW50U2l6ZSAqIDEuMjtcXG4gICAgICB9IGVsc2UgeyAgLy8gQ3JlYXRlIHNpemUgYXR0ZW51YXRpb24gKGlmIHdlJ3JlIGluIDJEIG1vZGUpXFxuICAgICAgICBjb25zdCBmbG9hdCBQSSA9IDMuMTQxNTkyNjUzNTg5NzkzMjM4NDYyNjQzMzgzMjc5NTtcXG4gICAgICAgIGNvbnN0IGZsb2F0IG1pblNjYWxlID0gMC4xOyAgLy8gbWluaW11bSBzY2FsaW5nIGZhY3RvclxcbiAgICAgICAgY29uc3QgZmxvYXQgb3V0U3BlZWQgPSAyLjA7ICAvLyBzaHJpbmsgc3BlZWQgd2hlbiB6b29taW5nIG91dFxcbiAgICAgICAgY29uc3QgZmxvYXQgb3V0Tm9ybSA9ICgxLiAtIG1pblNjYWxlKSAvIGF0YW4ob3V0U3BlZWQpO1xcbiAgICAgICAgY29uc3QgZmxvYXQgbWF4U2NhbGUgPSAxNS4wOyAgLy8gbWF4aW11bSBzY2FsaW5nIGZhY3RvclxcbiAgICAgICAgY29uc3QgZmxvYXQgaW5TcGVlZCA9IDAuMDI7ICAvLyBlbmxhcmdlIHNwZWVkIHdoZW4gem9vbWluZyBpblxcbiAgICAgICAgY29uc3QgZmxvYXQgem9vbU9mZnNldCA9IDAuMzsgIC8vIG9mZnNldCB6b29tIHBpdm90XFxuICAgICAgICBmbG9hdCB6b29tID0gcHJvamVjdGlvbk1hdHJpeFswXVswXSArIHpvb21PZmZzZXQ7ICAvLyB6b29tIHBpdm90XFxuICAgICAgICBmbG9hdCBzY2FsZSA9IHpvb20gPCAxLiA/IDEuICsgb3V0Tm9ybSAqIGF0YW4ob3V0U3BlZWQgKiAoem9vbSAtIDEuKSkgOlxcbiAgICAgICAgICAgICAgICAgICAgICAxLiArIDIuIC8gUEkgKiAobWF4U2NhbGUgLSAxLikgKiBhdGFuKGluU3BlZWQgKiAoem9vbSAtIDEuKSk7XFxuICAgICAgICBvdXRwdXRQb2ludFNpemUgPSBwb2ludFNpemUgKiBzY2FsZTtcXG4gICAgICB9XFxuXFxuICAgICAgZ2xfUG9pbnRTaXplID1cXG4gICAgICAgIG1heChvdXRwdXRQb2ludFNpemUgKiBzY2FsZUZhY3RvciwgXCIgKyBtaW5Qb2ludFNpemUudG9GaXhlZCgxKSArIFwiKTtcXG4gICAgfVwiOyB9O1xudmFyIEZSQUdNRU5UX1NIQURFUl9QT0lOVF9URVNUX0NIVU5LID0gXCJcXG4gICAgYm9vbCBwb2ludF9pbl91bml0X2NpcmNsZSh2ZWMyIHNwcml0ZUNvb3JkKSB7XFxuICAgICAgdmVjMiBjZW50ZXJUb1AgPSBzcHJpdGVDb29yZCAtIHZlYzIoMC41LCAwLjUpO1xcbiAgICAgIHJldHVybiBkb3QoY2VudGVyVG9QLCBjZW50ZXJUb1ApIDwgKDAuNSAqIDAuNSk7XFxuICAgIH1cXG5cXG4gICAgYm9vbCBwb2ludF9pbl91bml0X2VxdWlsYXRlcmFsX3RyaWFuZ2xlKHZlYzIgc3ByaXRlQ29vcmQpIHtcXG4gICAgICB2ZWMzIHYwID0gdmVjMygwLCAxLCAwKTtcXG4gICAgICB2ZWMzIHYxID0gdmVjMygwLjUsIDAsIDApO1xcbiAgICAgIHZlYzMgdjIgPSB2ZWMzKDEsIDEsIDApO1xcbiAgICAgIHZlYzMgcCA9IHZlYzMoc3ByaXRlQ29vcmQsIDApO1xcbiAgICAgIGZsb2F0IHBfaW5fdjBfdjEgPSBjcm9zcyh2MSAtIHYwLCBwIC0gdjApLno7XFxuICAgICAgZmxvYXQgcF9pbl92MV92MiA9IGNyb3NzKHYyIC0gdjEsIHAgLSB2MSkuejtcXG4gICAgICByZXR1cm4gKHBfaW5fdjBfdjEgPiAwLjApICYmIChwX2luX3YxX3YyID4gMC4wKTtcXG4gICAgfVxcblxcbiAgICBib29sIHBvaW50X2luX3VuaXRfc3F1YXJlKHZlYzIgc3ByaXRlQ29vcmQpIHtcXG4gICAgICByZXR1cm4gdHJ1ZTtcXG4gICAgfVxcbiAgXCI7XG52YXIgRlJBR01FTlRfU0hBREVSID0gXCJcXG4gICAgdmFyeWluZyB2ZWMyIHh5SW5kZXg7XFxuICAgIHZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHNwcml0ZVRleHR1cmU7XFxuICAgIHVuaWZvcm0gZmxvYXQgc3ByaXRlc1BlclJvdztcXG4gICAgdW5pZm9ybSBmbG9hdCBzcHJpdGVzUGVyQ29sdW1uO1xcbiAgICB1bmlmb3JtIGJvb2wgaXNJbWFnZTtcXG5cXG4gICAgXCIgKyBUSFJFRS5TaGFkZXJDaHVua1snY29tbW9uJ10gKyBcIlxcbiAgICBcIiArIEZSQUdNRU5UX1NIQURFUl9QT0lOVF9URVNUX0NIVU5LICsgXCJcXG4gICAgdW5pZm9ybSB2ZWMzIGZvZ0NvbG9yO1xcbiAgICB2YXJ5aW5nIGZsb2F0IGZvZ0RlcHRoO1xcblxcdFxcdHVuaWZvcm0gZmxvYXQgZm9nTmVhcjtcXG4gICAgdW5pZm9ybSBmbG9hdCBmb2dGYXI7XFxuXFxuICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICBpZiAoaXNJbWFnZSkge1xcbiAgICAgICAgLy8gQ29vcmRpbmF0ZXMgb2YgdGhlIHZlcnRleCB3aXRoaW4gdGhlIGVudGlyZSBzcHJpdGUgaW1hZ2UuXFxuICAgICAgICB2ZWMyIGNvb3JkcyA9XFxuICAgICAgICAgIChnbF9Qb2ludENvb3JkICsgeHlJbmRleCkgLyB2ZWMyKHNwcml0ZXNQZXJSb3csIHNwcml0ZXNQZXJDb2x1bW4pO1xcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yICogdGV4dHVyZShzcHJpdGVUZXh0dXJlLCBjb29yZHMpO1xcbiAgICAgIH0gZWxzZSB7XFxuICAgICAgICBib29sIGluc2lkZSA9IHBvaW50X2luX3VuaXRfY2lyY2xlKGdsX1BvaW50Q29vcmQpO1xcbiAgICAgICAgaWYgKCFpbnNpZGUpIHtcXG4gICAgICAgICAgZGlzY2FyZDtcXG4gICAgICAgIH1cXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcXG4gICAgICB9XFxuICAgICAgZmxvYXQgZm9nRmFjdG9yID0gc21vb3Roc3RlcCggZm9nTmVhciwgZm9nRmFyLCBmb2dEZXB0aCApO1xcbiAgICAgIGdsX0ZyYWdDb2xvci5yZ2IgPSBtaXgoIGdsX0ZyYWdDb2xvci5yZ2IsIGZvZ0NvbG9yLCBmb2dGYWN0b3IgKTtcXG4gICAgfVwiO1xudmFyIEZSQUdNRU5UX1NIQURFUl9QSUNLSU5HID0gXCJcXG4gICAgdmFyeWluZyB2ZWMyIHh5SW5kZXg7XFxuICAgIHZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuICAgIHVuaWZvcm0gYm9vbCBpc0ltYWdlO1xcblxcbiAgICBcIiArIEZSQUdNRU5UX1NIQURFUl9QT0lOVF9URVNUX0NIVU5LICsgXCJcXG5cXG4gICAgdmFyeWluZyBmbG9hdCBmb2dEZXB0aDtcXG5cXG4gICAgdm9pZCBtYWluKCkge1xcbiAgICAgIHh5SW5kZXg7IC8vIFNpbGVuY2UgJ3VudXNlZCB2YXJpYWJsZScgd2FybmluZy5cXG4gICAgICBmb2dEZXB0aDsgLy8gU2lsZW5jZSAndW51c2VkIHZhcmlhYmxlJyB3YXJuaW5nLlxcbiAgICAgIGlmIChpc0ltYWdlKSB7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XFxuICAgICAgfSBlbHNlIHtcXG4gICAgICAgIGJvb2wgaW5zaWRlID0gcG9pbnRfaW5fdW5pdF9jaXJjbGUoZ2xfUG9pbnRDb29yZCk7XFxuICAgICAgICBpZiAoIWluc2lkZSkge1xcbiAgICAgICAgICBkaXNjYXJkO1xcbiAgICAgICAgfVxcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xcbiAgICAgIH1cXG4gICAgfVwiO1xudmFyIFNjYXR0ZXJQbG90VmlzdWFsaXplclNwcml0ZXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjYXR0ZXJQbG90VmlzdWFsaXplclNwcml0ZXMoc3R5bGVzLCBzcHJpdGVTaGVldFBhcmFtcykge1xuICAgICAgICB0aGlzLnN0eWxlcyA9IHN0eWxlcztcbiAgICAgICAgdGhpcy5pZCA9ICdTUFJJVEVTJztcbiAgICAgICAgdGhpcy5pc1Nwcml0ZVNoZWV0TW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNwcml0ZXNQZXJSb3cgPSAwO1xuICAgICAgICB0aGlzLnNwcml0ZXNQZXJDb2x1bW4gPSAwO1xuICAgICAgICB0aGlzLnNwcml0ZURpbWVuc2lvbnMgPSBbMCwgMF07XG4gICAgICAgIHRoaXMud29ybGRTcGFjZVBvaW50UG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheSgwKTtcbiAgICAgICAgdGhpcy5waWNraW5nQ29sb3JzID0gbmV3IEZsb2F0MzJBcnJheSgwKTtcbiAgICAgICAgdGhpcy5yZW5kZXJDb2xvcnMgPSBuZXcgRmxvYXQzMkFycmF5KDApO1xuICAgICAgICB0aGlzLnN0YW5kaW5UZXh0dXJlRm9yUG9pbnRzID0gdXRpbC5jcmVhdGVUZXh0dXJlRnJvbUNhbnZhcyhkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSk7XG4gICAgICAgIGlmIChzcHJpdGVTaGVldFBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5zcHJpdGVTaGVldFBhcmFtcyA9IHNwcml0ZVNoZWV0UGFyYW1zO1xuICAgICAgICAgICAgdGhpcy5zZXRTcHJpdGVTaGVldChzcHJpdGVTaGVldFBhcmFtcyk7XG4gICAgICAgICAgICB0aGlzLmlzU3ByaXRlU2hlZXRNb2RlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlck1hdGVyaWFsID0gdGhpcy5jcmVhdGVSZW5kZXJNYXRlcmlhbCgpO1xuICAgICAgICB0aGlzLnBpY2tpbmdNYXRlcmlhbCA9IHRoaXMuY3JlYXRlUGlja2luZ01hdGVyaWFsKCk7XG4gICAgfVxuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplclNwcml0ZXMucHJvdG90eXBlLmNyZWF0ZVVuaWZvcm1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3ByaXRlVGV4dHVyZTogeyB0eXBlOiAndCcgfSxcbiAgICAgICAgICAgIHNwcml0ZXNQZXJSb3c6IHsgdHlwZTogJ2YnIH0sXG4gICAgICAgICAgICBzcHJpdGVzUGVyQ29sdW1uOiB7IHR5cGU6ICdmJyB9LFxuICAgICAgICAgICAgZm9nQ29sb3I6IHsgdHlwZTogJ2MnIH0sXG4gICAgICAgICAgICBmb2dOZWFyOiB7IHR5cGU6ICdmJyB9LFxuICAgICAgICAgICAgZm9nRmFyOiB7IHR5cGU6ICdmJyB9LFxuICAgICAgICAgICAgaXNJbWFnZTogeyB0eXBlOiAnYm9vbCcgfSxcbiAgICAgICAgICAgIHNpemVBdHRlbnVhdGlvbjogeyB0eXBlOiAnYm9vbCcgfSxcbiAgICAgICAgICAgIHBvaW50U2l6ZTogeyB0eXBlOiAnZicgfSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplclNwcml0ZXMucHJvdG90eXBlLmNyZWF0ZVJlbmRlck1hdGVyaWFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXNTcHJpdGVTaGVldE1vZGUgPSB0aGlzLmlzU3ByaXRlU2hlZXRNb2RlO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB0aGlzLmNyZWF0ZVVuaWZvcm1zKCk7XG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgICAgICAgdW5pZm9ybXM6IHVuaWZvcm1zLFxuICAgICAgICAgICAgdmVydGV4U2hhZGVyOiBtYWtlVmVydGV4U2hhZGVyKHRoaXMuc3R5bGVzLnNwcml0ZXMubWluUG9pbnRTaXplKSxcbiAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyOiBGUkFHTUVOVF9TSEFERVIsXG4gICAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICAgICAgICAgIGRlcHRoRnVuYzogVEhSRUUuTGVzc0RlcHRoLFxuICAgICAgICAgICAgZm9nOiB0aGlzLnN0eWxlcy5mb2cuZW5hYmxlZCxcbiAgICAgICAgICAgIGJsZW5kaW5nOiBUSFJFRS5Ob3JtYWxCbGVuZGluZyxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJTcHJpdGVzLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nTWF0ZXJpYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHRoaXMuY3JlYXRlVW5pZm9ybXMoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICAgICAgICB1bmlmb3JtczogdW5pZm9ybXMsXG4gICAgICAgICAgICB2ZXJ0ZXhTaGFkZXI6IG1ha2VWZXJ0ZXhTaGFkZXIodGhpcy5zdHlsZXMuc3ByaXRlcy5taW5Qb2ludFNpemUpLFxuICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXI6IEZSQUdNRU5UX1NIQURFUl9QSUNLSU5HLFxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXG4gICAgICAgICAgICBkZXB0aFRlc3Q6IHRydWUsXG4gICAgICAgICAgICBkZXB0aFdyaXRlOiB0cnVlLFxuICAgICAgICAgICAgZm9nOiBmYWxzZSxcbiAgICAgICAgICAgIGJsZW5kaW5nOiBUSFJFRS5Ob3JtYWxCbGVuZGluZyxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJTcHJpdGVzLnByb3RvdHlwZS5jcmVhdGVQb2ludFNwcml0ZXMgPSBmdW5jdGlvbiAoc2NlbmUsIHBvc2l0aW9ucykge1xuICAgICAgICB2YXIgcG9pbnRDb3VudCA9IHBvc2l0aW9ucyAhPSBudWxsID8gcG9zaXRpb25zLmxlbmd0aCAvIGNvbnN0YW50c18xLlhZWl9OVU1fRUxFTUVOVFMgOiAwO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmNyZWF0ZUdlb21ldHJ5KHBvaW50Q291bnQpO1xuICAgICAgICB0aGlzLmZvZyA9IG5ldyBUSFJFRS5Gb2coMHhmZmZmZmYpO1xuICAgICAgICB0aGlzLnBvaW50cyA9IG5ldyBUSFJFRS5Qb2ludHMoZ2VvbWV0cnksIHRoaXMucmVuZGVyTWF0ZXJpYWwpO1xuICAgICAgICB0aGlzLnBvaW50cy5mcnVzdHVtQ3VsbGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnNwcml0ZUluZGV4QnVmZmVyQXR0cmlidXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzLmdlb21ldHJ5LnNldEF0dHJpYnV0ZSgnc3ByaXRlSW5kZXgnLCB0aGlzLnNwcml0ZUluZGV4QnVmZmVyQXR0cmlidXRlKTtcbiAgICAgICAgfVxuICAgICAgICBzY2VuZS5hZGQodGhpcy5wb2ludHMpO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3RWaXN1YWxpemVyU3ByaXRlcy5wcm90b3R5cGUuY2FsY3VsYXRlUG9pbnRTaXplID0gZnVuY3Rpb24gKHNjZW5lSXMzRCkge1xuICAgICAgICB2YXIgaW1hZ2VTaXplID0gdGhpcy5zdHlsZXMuc3ByaXRlcy5pbWFnZVNpemU7XG4gICAgICAgIGlmICh0aGlzLnRleHR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2VuZUlzM0QgPyBpbWFnZVNpemUgOiB0aGlzLnNwcml0ZURpbWVuc2lvbnNbMF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG4gPSB0aGlzLndvcmxkU3BhY2VQb2ludFBvc2l0aW9ucyAhPSBudWxsXG4gICAgICAgICAgICA/IHRoaXMud29ybGRTcGFjZVBvaW50UG9zaXRpb25zLmxlbmd0aCAvIGNvbnN0YW50c18xLlhZWl9OVU1fRUxFTUVOVFNcbiAgICAgICAgICAgIDogMTtcbiAgICAgICAgdmFyIFNDQUxFID0gMjAwO1xuICAgICAgICB2YXIgTE9HX0JBU0UgPSA4O1xuICAgICAgICB2YXIgRElWSVNPUiA9IDEuNTtcbiAgICAgICAgdmFyIHBvaW50U2l6ZSA9IFNDQUxFIC8gTWF0aC5sb2cobikgLyBNYXRoLmxvZyhMT0dfQkFTRSk7XG4gICAgICAgIHJldHVybiBzY2VuZUlzM0QgPyBwb2ludFNpemUgOiBwb2ludFNpemUgLyBESVZJU09SO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3RWaXN1YWxpemVyU3ByaXRlcy5wcm90b3R5cGUuY3JlYXRlR2VvbWV0cnkgPSBmdW5jdGlvbiAocG9pbnRDb3VudCkge1xuICAgICAgICB2YXIgbiA9IHBvaW50Q291bnQ7XG4gICAgICAgIHRoaXMucGlja2luZ0NvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkobiAqIGNvbnN0YW50c18xLlJHQkFfTlVNX0VMRU1FTlRTKTtcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGRzdCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjID0gbmV3IFRIUkVFLkNvbG9yKGkpO1xuICAgICAgICAgICAgICAgIHRoaXMucGlja2luZ0NvbG9yc1tkc3QrK10gPSBjLnI7XG4gICAgICAgICAgICAgICAgdGhpcy5waWNraW5nQ29sb3JzW2RzdCsrXSA9IGMuZztcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tpbmdDb2xvcnNbZHN0KytdID0gYy5iO1xuICAgICAgICAgICAgICAgIHRoaXMucGlja2luZ0NvbG9yc1tkc3QrK10gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KFtdKSwgY29uc3RhbnRzXzEuWFlaX05VTV9FTEVNRU5UUykpO1xuICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2NvbG9yJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KFtdKSwgY29uc3RhbnRzXzEuUkdCQV9OVU1fRUxFTUVOVFMpKTtcbiAgICAgICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCdzY2FsZUZhY3RvcicsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShbXSksIGNvbnN0YW50c18xLklOREVYX05VTV9FTEVNRU5UUykpO1xuICAgICAgICBnZW9tZXRyeS5jb21wdXRlVmVydGV4Tm9ybWFscygpO1xuICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJTcHJpdGVzLnByb3RvdHlwZS5zZXRGb2dEaXN0YW5jZXMgPSBmdW5jdGlvbiAoc2NlbmVJczNELCBuZWFyZXN0UG9pbnRaLCBmYXJ0aGVzdFBvaW50Wikge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnN0eWxlcy5mb2csIHRocmVzaG9sZCA9IF9hLnRocmVzaG9sZCwgZW5hYmxlZCA9IF9hLmVuYWJsZWQ7XG4gICAgICAgIGlmIChzY2VuZUlzM0QgJiYgZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5mb2cubmVhciA9IG5lYXJlc3RQb2ludFo7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBuZWFyZXN0UG9pbnRaIC0gZmFydGhlc3RQb2ludFo7XG4gICAgICAgICAgICB0aGlzLmZvZy5mYXIgPSBuZWFyZXN0UG9pbnRaIC0gdGhyZXNob2xkICogZGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZvZy5uZWFyID0gSW5maW5pdHk7XG4gICAgICAgICAgICB0aGlzLmZvZy5mYXIgPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NhdHRlclBsb3RWaXN1YWxpemVyU3ByaXRlcy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlR2VvbWV0cnkoKTtcbiAgICAgICAgdGhpcy5kaXNwb3NlU3ByaXRlU2hlZXQoKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplclNwcml0ZXMucHJvdG90eXBlLmRpc3Bvc2VHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMucG9pbnRzKTtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzLmdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMud29ybGRTcGFjZVBvaW50UG9zaXRpb25zID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NhdHRlclBsb3RWaXN1YWxpemVyU3ByaXRlcy5wcm90b3R5cGUuZGlzcG9zZVNwcml0ZVNoZWV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyTWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICB0aGlzLnBpY2tpbmdNYXRlcmlhbCA9IG51bGw7XG4gICAgICAgIHRoaXMuc3ByaXRlU2hlZXRJbWFnZSA9IG51bGw7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJTcHJpdGVzLnByb3RvdHlwZS5zZXRTY2VuZSA9IGZ1bmN0aW9uIChzY2VuZSkge1xuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJTcHJpdGVzLnByb3RvdHlwZS5zZXRTcHJpdGVTaGVldCA9IGZ1bmN0aW9uIChzcHJpdGVTaGVldFBhcmFtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc3ByaXRlRGltZW5zaW9ucyA9IHNwcml0ZVNoZWV0UGFyYW1zLnNwcml0ZURpbWVuc2lvbnMsIG9uSW1hZ2VMb2FkID0gc3ByaXRlU2hlZXRQYXJhbXMub25JbWFnZUxvYWQ7XG4gICAgICAgIHZhciBzcHJpdGVTaGVldCA9IHNwcml0ZVNoZWV0UGFyYW1zLnNwcml0ZXNoZWV0SW1hZ2U7XG4gICAgICAgIGlmICh0eXBlb2Ygc3ByaXRlU2hlZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlU2hlZXRVcmwgPSBzcHJpdGVTaGVldDtcbiAgICAgICAgICAgIHNwcml0ZVNoZWV0ID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBzcHJpdGVTaGVldC5zcmMgPSBzcHJpdGVTaGVldFVybDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwcml0ZVNoZWV0SW1hZ2UgPSBzcHJpdGVTaGVldDtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdXRpbC5jcmVhdGVUZXh0dXJlRnJvbUltYWdlKHRoaXMuc3ByaXRlU2hlZXRJbWFnZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc3ByaXRlc1BlclJvdyA9IF90aGlzLnNwcml0ZVNoZWV0SW1hZ2Uud2lkdGggLyBzcHJpdGVEaW1lbnNpb25zWzBdO1xuICAgICAgICAgICAgX3RoaXMuc3ByaXRlc1BlckNvbHVtbiA9XG4gICAgICAgICAgICAgICAgX3RoaXMuc3ByaXRlU2hlZXRJbWFnZS5oZWlnaHQgLyBzcHJpdGVEaW1lbnNpb25zWzFdO1xuICAgICAgICAgICAgb25JbWFnZUxvYWQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3ByaXRlRGltZW5zaW9ucyA9IHNwcml0ZURpbWVuc2lvbnM7XG4gICAgICAgIHRoaXMuc2V0U3ByaXRlSW5kZXhCdWZmZXIoKTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplclNwcml0ZXMucHJvdG90eXBlLnNldFNwcml0ZUluZGV4QnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3ByaXRlSW5kaWNlcyA9IHRoaXMuc3ByaXRlU2hlZXRQYXJhbXMuc3ByaXRlSW5kaWNlcztcbiAgICAgICAgdGhpcy5zcHJpdGVJbmRleEJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoc3ByaXRlSW5kaWNlcywgY29uc3RhbnRzXzEuSU5ERVhfTlVNX0VMRU1FTlRTKTtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzLmdlb21ldHJ5LnNldEF0dHJpYnV0ZSgnc3ByaXRlSW5kZXgnLCB0aGlzLnNwcml0ZUluZGV4QnVmZmVyQXR0cmlidXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NhdHRlclBsb3RWaXN1YWxpemVyU3ByaXRlcy5wcm90b3R5cGUub25Qb2ludFBvc2l0aW9uc0NoYW5nZWQgPSBmdW5jdGlvbiAobmV3UG9zaXRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLnBvaW50cyAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy53b3JsZFNwYWNlUG9pbnRQb3NpdGlvbnMubGVuZ3RoICE9PSBuZXdQb3NpdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlR2VvbWV0cnkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLndvcmxkU3BhY2VQb2ludFBvc2l0aW9ucyA9IG5ld1Bvc2l0aW9ucztcbiAgICAgICAgaWYgKHRoaXMucG9pbnRzID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUG9pbnRTcHJpdGVzKHRoaXMuc2NlbmUsIG5ld1Bvc2l0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlU2hlZXRQYXJhbXMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3ByaXRlSW5kZXhCdWZmZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlck1hdGVyaWFsID0gdGhpcy5jcmVhdGVSZW5kZXJNYXRlcmlhbCgpO1xuICAgICAgICB0aGlzLnBpY2tpbmdNYXRlcmlhbCA9IHRoaXMuY3JlYXRlUGlja2luZ01hdGVyaWFsKCk7XG4gICAgICAgIHZhciBwb3NpdGlvbnMgPSB0aGlzLnBvaW50c1xuICAgICAgICAgICAgLmdlb21ldHJ5LmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKTtcbiAgICAgICAgcG9zaXRpb25zLmFycmF5ID0gbmV3UG9zaXRpb25zO1xuICAgICAgICBwb3NpdGlvbnMuY291bnQgPSBuZXdQb3NpdGlvbnMubGVuZ3RoIC8gY29uc3RhbnRzXzEuWFlaX05VTV9FTEVNRU5UUztcbiAgICAgICAgcG9zaXRpb25zLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB9O1xuICAgIFNjYXR0ZXJQbG90VmlzdWFsaXplclNwcml0ZXMucHJvdG90eXBlLm9uUGlja2luZ1JlbmRlciA9IGZ1bmN0aW9uIChyYykge1xuICAgICAgICB2YXIgc2NlbmVJczNEID0gcmMuY2FtZXJhVHlwZSA9PT0gcmVuZGVyXzEuQ2FtZXJhVHlwZS5QZXJzcGVjdGl2ZTtcbiAgICAgICAgdGhpcy5waWNraW5nTWF0ZXJpYWwudW5pZm9ybXMuc3ByaXRlc1BlclJvdy52YWx1ZSA9IHRoaXMuc3ByaXRlc1BlclJvdztcbiAgICAgICAgdGhpcy5waWNraW5nTWF0ZXJpYWwudW5pZm9ybXMuc3ByaXRlc1BlclJvdy52YWx1ZSA9IHRoaXMuc3ByaXRlc1BlckNvbHVtbjtcbiAgICAgICAgdGhpcy5waWNraW5nTWF0ZXJpYWwudW5pZm9ybXMuc2l6ZUF0dGVudWF0aW9uLnZhbHVlID0gc2NlbmVJczNEO1xuICAgICAgICB0aGlzLnBpY2tpbmdNYXRlcmlhbC51bmlmb3Jtcy5wb2ludFNpemUudmFsdWUgPSB0aGlzLmNhbGN1bGF0ZVBvaW50U2l6ZShzY2VuZUlzM0QpO1xuICAgICAgICB0aGlzLnBvaW50cy5tYXRlcmlhbCA9IHRoaXMucGlja2luZ01hdGVyaWFsO1xuICAgICAgICB2YXIgY29sb3JzID0gdGhpcy5wb2ludHMuZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdjb2xvcicpO1xuICAgICAgICBjb2xvcnMuYXJyYXkgPSB0aGlzLnBpY2tpbmdDb2xvcnM7XG4gICAgICAgIGNvbG9ycy5jb3VudCA9IHRoaXMucGlja2luZ0NvbG9ycy5sZW5ndGggLyBjb25zdGFudHNfMS5SR0JBX05VTV9FTEVNRU5UUztcbiAgICAgICAgY29sb3JzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgdmFyIHNjYWxlRmFjdG9ycyA9IHRoaXMucG9pbnRzXG4gICAgICAgICAgICAuZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdzY2FsZUZhY3RvcicpO1xuICAgICAgICBzY2FsZUZhY3RvcnMuYXJyYXkgPSByYy5wb2ludFNjYWxlRmFjdG9ycztcbiAgICAgICAgc2NhbGVGYWN0b3JzLmNvdW50ID0gcmMucG9pbnRTY2FsZUZhY3RvcnMubGVuZ3RoO1xuICAgICAgICBzY2FsZUZhY3RvcnMuY291bnQgPSByYy5wb2ludFNjYWxlRmFjdG9ycy5sZW5ndGggLyBjb25zdGFudHNfMS5JTkRFWF9OVU1fRUxFTUVOVFM7XG4gICAgICAgIHNjYWxlRmFjdG9ycy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgfTtcbiAgICBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJTcHJpdGVzLnByb3RvdHlwZS5vblJlbmRlciA9IGZ1bmN0aW9uIChyYykge1xuICAgICAgICB2YXIgc2NlbmVJczNEID0gcmMuY2FtZXJhIGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmE7XG4gICAgICAgIHRoaXMuc2V0Rm9nRGlzdGFuY2VzKHNjZW5lSXMzRCwgcmMubmVhcmVzdENhbWVyYVNwYWNlUG9pbnRaLCByYy5mYXJ0aGVzdENhbWVyYVNwYWNlUG9pbnRaKTtcbiAgICAgICAgdGhpcy5zY2VuZS5mb2cgPSB0aGlzLmZvZztcbiAgICAgICAgdGhpcy5zY2VuZS5mb2cuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IocmMuYmFja2dyb3VuZENvbG9yKTtcbiAgICAgICAgdGhpcy5yZW5kZXJNYXRlcmlhbC51bmlmb3Jtcy5mb2dDb2xvci52YWx1ZSA9IHRoaXMuc2NlbmUuZm9nLmNvbG9yO1xuICAgICAgICB0aGlzLnJlbmRlck1hdGVyaWFsLnVuaWZvcm1zLmZvZ05lYXIudmFsdWUgPSB0aGlzLmZvZy5uZWFyO1xuICAgICAgICB0aGlzLnJlbmRlck1hdGVyaWFsLnVuaWZvcm1zLmZvZ0Zhci52YWx1ZSA9IHRoaXMuZm9nLmZhcjtcbiAgICAgICAgdGhpcy5yZW5kZXJNYXRlcmlhbC51bmlmb3Jtcy5zcHJpdGVzUGVyUm93LnZhbHVlID0gdGhpcy5zcHJpdGVzUGVyUm93O1xuICAgICAgICB0aGlzLnJlbmRlck1hdGVyaWFsLnVuaWZvcm1zLnNwcml0ZXNQZXJDb2x1bW4udmFsdWUgPSB0aGlzLnNwcml0ZXNQZXJDb2x1bW47XG4gICAgICAgIHRoaXMucmVuZGVyTWF0ZXJpYWwudW5pZm9ybXMuaXNJbWFnZS52YWx1ZSA9IHRoaXMudGV4dHVyZSAhPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlck1hdGVyaWFsLnVuaWZvcm1zLnNwcml0ZVRleHR1cmUudmFsdWUgPVxuICAgICAgICAgICAgdGhpcy50ZXh0dXJlICE9IG51bGwgPyB0aGlzLnRleHR1cmUgOiB0aGlzLnN0YW5kaW5UZXh0dXJlRm9yUG9pbnRzO1xuICAgICAgICB0aGlzLnJlbmRlck1hdGVyaWFsLnVuaWZvcm1zLnNpemVBdHRlbnVhdGlvbi52YWx1ZSA9IHNjZW5lSXMzRDtcbiAgICAgICAgdGhpcy5yZW5kZXJNYXRlcmlhbC51bmlmb3Jtcy5wb2ludFNpemUudmFsdWUgPSB0aGlzLmNhbGN1bGF0ZVBvaW50U2l6ZShzY2VuZUlzM0QpO1xuICAgICAgICB0aGlzLnBvaW50cy5tYXRlcmlhbCA9IHRoaXMucmVuZGVyTWF0ZXJpYWw7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLnBvaW50cy5nZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ2NvbG9yJyk7XG4gICAgICAgIHRoaXMucmVuZGVyQ29sb3JzID0gcmMucG9pbnRDb2xvcnM7XG4gICAgICAgIGNvbG9ycy5hcnJheSA9IHRoaXMucmVuZGVyQ29sb3JzO1xuICAgICAgICBjb2xvcnMuY291bnQgPSB0aGlzLnJlbmRlckNvbG9ycy5sZW5ndGggLyBjb25zdGFudHNfMS5SR0JBX05VTV9FTEVNRU5UUztcbiAgICAgICAgY29sb3JzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgdmFyIHNjYWxlRmFjdG9ycyA9IHRoaXMucG9pbnRzXG4gICAgICAgICAgICAuZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdzY2FsZUZhY3RvcicpO1xuICAgICAgICBzY2FsZUZhY3RvcnMuYXJyYXkgPSByYy5wb2ludFNjYWxlRmFjdG9ycztcbiAgICAgICAgc2NhbGVGYWN0b3JzLmNvdW50ID0gcmMucG9pbnRTY2FsZUZhY3RvcnMubGVuZ3RoIC8gY29uc3RhbnRzXzEuSU5ERVhfTlVNX0VMRU1FTlRTO1xuICAgICAgICBzY2FsZUZhY3RvcnMubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIH07XG4gICAgU2NhdHRlclBsb3RWaXN1YWxpemVyU3ByaXRlcy5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAobmV3V2lkdGgsIG5ld0hlaWdodCkgeyB9O1xuICAgIHJldHVybiBTY2F0dGVyUGxvdFZpc3VhbGl6ZXJTcHJpdGVzO1xufSgpKTtcbmV4cG9ydHMuU2NhdHRlclBsb3RWaXN1YWxpemVyU3ByaXRlcyA9IFNjYXR0ZXJQbG90VmlzdWFsaXplclNwcml0ZXM7XG4iXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJUSFJFRSIsInJlcXVpcmUiLCJyZW5kZXJfMSIsInV0aWwiLCJjb25zdGFudHNfMSIsIm1ha2VWZXJ0ZXhTaGFkZXIiLCJtaW5Qb2ludFNpemUiLCJ0b0ZpeGVkIiwiRlJBR01FTlRfU0hBREVSX1BPSU5UX1RFU1RfQ0hVTksiLCJGUkFHTUVOVF9TSEFERVIiLCJTaGFkZXJDaHVuayIsIkZSQUdNRU5UX1NIQURFUl9QSUNLSU5HIiwiU2NhdHRlclBsb3RWaXN1YWxpemVyU3ByaXRlcyIsInN0eWxlcyIsInNwcml0ZVNoZWV0UGFyYW1zIiwiaWQiLCJpc1Nwcml0ZVNoZWV0TW9kZSIsInNwcml0ZXNQZXJSb3ciLCJzcHJpdGVzUGVyQ29sdW1uIiwic3ByaXRlRGltZW5zaW9ucyIsIndvcmxkU3BhY2VQb2ludFBvc2l0aW9ucyIsIkZsb2F0MzJBcnJheSIsInBpY2tpbmdDb2xvcnMiLCJyZW5kZXJDb2xvcnMiLCJzdGFuZGluVGV4dHVyZUZvclBvaW50cyIsImNyZWF0ZVRleHR1cmVGcm9tQ2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0U3ByaXRlU2hlZXQiLCJyZW5kZXJNYXRlcmlhbCIsImNyZWF0ZVJlbmRlck1hdGVyaWFsIiwicGlja2luZ01hdGVyaWFsIiwiY3JlYXRlUGlja2luZ01hdGVyaWFsIiwicHJvdG90eXBlIiwiY3JlYXRlVW5pZm9ybXMiLCJzcHJpdGVUZXh0dXJlIiwidHlwZSIsImZvZ0NvbG9yIiwiZm9nTmVhciIsImZvZ0ZhciIsImlzSW1hZ2UiLCJzaXplQXR0ZW51YXRpb24iLCJwb2ludFNpemUiLCJ1bmlmb3JtcyIsIlNoYWRlck1hdGVyaWFsIiwidmVydGV4U2hhZGVyIiwic3ByaXRlcyIsImZyYWdtZW50U2hhZGVyIiwidHJhbnNwYXJlbnQiLCJkZXB0aEZ1bmMiLCJMZXNzRGVwdGgiLCJmb2ciLCJlbmFibGVkIiwiYmxlbmRpbmciLCJOb3JtYWxCbGVuZGluZyIsImRlcHRoVGVzdCIsImRlcHRoV3JpdGUiLCJjcmVhdGVQb2ludFNwcml0ZXMiLCJzY2VuZSIsInBvc2l0aW9ucyIsInBvaW50Q291bnQiLCJsZW5ndGgiLCJYWVpfTlVNX0VMRU1FTlRTIiwiZ2VvbWV0cnkiLCJjcmVhdGVHZW9tZXRyeSIsIkZvZyIsInBvaW50cyIsIlBvaW50cyIsImZydXN0dW1DdWxsZWQiLCJzcHJpdGVJbmRleEJ1ZmZlckF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImFkZCIsImNhbGN1bGF0ZVBvaW50U2l6ZSIsInNjZW5lSXMzRCIsImltYWdlU2l6ZSIsInRleHR1cmUiLCJuIiwiU0NBTEUiLCJMT0dfQkFTRSIsIkRJVklTT1IiLCJNYXRoIiwibG9nIiwiUkdCQV9OVU1fRUxFTUVOVFMiLCJkc3QiLCJpIiwiYyIsIkNvbG9yIiwiciIsImciLCJiIiwiQnVmZmVyR2VvbWV0cnkiLCJCdWZmZXJBdHRyaWJ1dGUiLCJJTkRFWF9OVU1fRUxFTUVOVFMiLCJjb21wdXRlVmVydGV4Tm9ybWFscyIsInNldEZvZ0Rpc3RhbmNlcyIsIm5lYXJlc3RQb2ludFoiLCJmYXJ0aGVzdFBvaW50WiIsIl9hIiwidGhyZXNob2xkIiwibmVhciIsImRlbHRhIiwiZmFyIiwiSW5maW5pdHkiLCJkaXNwb3NlIiwiZGlzcG9zZUdlb21ldHJ5IiwiZGlzcG9zZVNwcml0ZVNoZWV0IiwicmVtb3ZlIiwic3ByaXRlU2hlZXRJbWFnZSIsInNldFNjZW5lIiwiX3RoaXMiLCJvbkltYWdlTG9hZCIsInNwcml0ZVNoZWV0Iiwic3ByaXRlc2hlZXRJbWFnZSIsInNwcml0ZVNoZWV0VXJsIiwiSW1hZ2UiLCJzcmMiLCJjcmVhdGVUZXh0dXJlRnJvbUltYWdlIiwid2lkdGgiLCJoZWlnaHQiLCJzZXRTcHJpdGVJbmRleEJ1ZmZlciIsInNwcml0ZUluZGljZXMiLCJvblBvaW50UG9zaXRpb25zQ2hhbmdlZCIsIm5ld1Bvc2l0aW9ucyIsImdldEF0dHJpYnV0ZSIsImFycmF5IiwiY291bnQiLCJuZWVkc1VwZGF0ZSIsIm9uUGlja2luZ1JlbmRlciIsInJjIiwiY2FtZXJhVHlwZSIsIkNhbWVyYVR5cGUiLCJQZXJzcGVjdGl2ZSIsIm1hdGVyaWFsIiwiY29sb3JzIiwic2NhbGVGYWN0b3JzIiwicG9pbnRTY2FsZUZhY3RvcnMiLCJvblJlbmRlciIsImNhbWVyYSIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwibmVhcmVzdENhbWVyYVNwYWNlUG9pbnRaIiwiZmFydGhlc3RDYW1lcmFTcGFjZVBvaW50WiIsImNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwicG9pbnRDb2xvcnMiLCJvblJlc2l6ZSIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/scatter_plot_visualizer_sprites.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/styles.js":
/*!************************************************!*\
  !*** ./node_modules/scatter-gl/dist/styles.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar makeDefaultStyles = function() {\n    var defaultStyles = {\n        backgroundColor: \"#ffffff\",\n        axesVisible: true,\n        fog: {\n            color: \"#ffffff\",\n            enabled: true,\n            threshold: 5000\n        },\n        label: {\n            fontSize: 10,\n            scaleDefault: 1,\n            scaleLarge: 2,\n            fillColorSelected: \"#000000\",\n            fillColorHover: \"#000000\",\n            strokeColorSelected: \"#ffffff\",\n            strokeColorHover: \"#ffffff\",\n            strokeWidth: 3,\n            fillWidth: 6\n        },\n        label3D: {\n            fontSize: 80,\n            scale: 2.2,\n            color: \"black\",\n            backgroundColor: \"#ffffff\",\n            colorUnselected: \"#ffffff\",\n            colorNoSelection: \"#ffffff\"\n        },\n        point: {\n            colorUnselected: \"rgba(227, 227, 227, 0.7)\",\n            colorNoSelection: \"rgba(117, 117, 217, 0.7)\",\n            colorSelected: \"rgba(250, 102, 102, 0.7)\",\n            colorHover: \"rgba(118, 11, 79, 0.7)\",\n            scaleDefault: 1.0,\n            scaleSelected: 1.2,\n            scaleHover: 1.2\n        },\n        polyline: {\n            startHue: 60,\n            endHue: 360,\n            saturation: 1,\n            lightness: 0.3,\n            defaultOpacity: 0.2,\n            defaultLineWidth: 2,\n            selectedOpacity: 0.9,\n            selectedLineWidth: 3,\n            deselectedOpacity: 0.05\n        },\n        select: {\n            fill: \"#dddddd\",\n            fillOpacity: 0.2,\n            stroke: \"#aaaaaa\",\n            strokeWidth: 2,\n            strokeDashArray: \"10 5\"\n        },\n        sprites: {\n            minPointSize: 5.0,\n            imageSize: 30,\n            colorUnselected: \"#ffffff\",\n            colorNoSelection: \"#ffffff\"\n        }\n    };\n    return defaultStyles;\n};\nfunction makeStyles(userStyles) {\n    var defaultStyles = makeDefaultStyles();\n    if (userStyles === undefined) {\n        return defaultStyles;\n    }\n    for(var key in defaultStyles){\n        var _key = key;\n        if (typeof defaultStyles[_key] === \"object\" && typeof userStyles[_key] === \"object\") {\n            defaultStyles[_key] = Object.assign(defaultStyles[_key], userStyles[_key]);\n        } else if (userStyles[_key] !== undefined) {\n            defaultStyles[_key] = userStyles[_key];\n        }\n    }\n    return defaultStyles;\n}\nexports.makeStyles = makeStyles;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L3N0eWxlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiQSw4Q0FBNkM7SUFBRUcsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3RCxJQUFJQyxvQkFBb0I7SUFDcEIsSUFBSUMsZ0JBQWdCO1FBQ2hCQyxpQkFBaUI7UUFDakJDLGFBQWE7UUFDYkMsS0FBSztZQUNEQyxPQUFPO1lBQ1BDLFNBQVM7WUFDVEMsV0FBVztRQUNmO1FBQ0FDLE9BQU87WUFDSEMsVUFBVTtZQUNWQyxjQUFjO1lBQ2RDLFlBQVk7WUFDWkMsbUJBQW1CO1lBQ25CQyxnQkFBZ0I7WUFDaEJDLHFCQUFxQjtZQUNyQkMsa0JBQWtCO1lBQ2xCQyxhQUFhO1lBQ2JDLFdBQVc7UUFDZjtRQUNBQyxTQUFTO1lBQ0xULFVBQVU7WUFDVlUsT0FBTztZQUNQZCxPQUFPO1lBQ1BILGlCQUFpQjtZQUNqQmtCLGlCQUFpQjtZQUNqQkMsa0JBQWtCO1FBQ3RCO1FBQ0FDLE9BQU87WUFDSEYsaUJBQWlCO1lBQ2pCQyxrQkFBa0I7WUFDbEJFLGVBQWU7WUFDZkMsWUFBWTtZQUNaZCxjQUFjO1lBQ2RlLGVBQWU7WUFDZkMsWUFBWTtRQUNoQjtRQUNBQyxVQUFVO1lBQ05DLFVBQVU7WUFDVkMsUUFBUTtZQUNSQyxZQUFZO1lBQ1pDLFdBQVc7WUFDWEMsZ0JBQWdCO1lBQ2hCQyxrQkFBa0I7WUFDbEJDLGlCQUFpQjtZQUNqQkMsbUJBQW1CO1lBQ25CQyxtQkFBbUI7UUFDdkI7UUFDQUMsUUFBUTtZQUNKQyxNQUFNO1lBQ05DLGFBQWE7WUFDYkMsUUFBUTtZQUNSeEIsYUFBYTtZQUNieUIsaUJBQWlCO1FBQ3JCO1FBQ0FDLFNBQVM7WUFDTEMsY0FBYztZQUNkQyxXQUFXO1lBQ1h4QixpQkFBaUI7WUFDakJDLGtCQUFrQjtRQUN0QjtJQUNKO0lBQ0EsT0FBT3BCO0FBQ1g7QUFDQSxTQUFTNEMsV0FBV0MsVUFBVTtJQUMxQixJQUFJN0MsZ0JBQWdCRDtJQUNwQixJQUFJOEMsZUFBZUMsV0FBVztRQUMxQixPQUFPOUM7SUFDWDtJQUNBLElBQUssSUFBSStDLE9BQU8vQyxjQUFlO1FBQzNCLElBQUlnRCxPQUFPRDtRQUNYLElBQUksT0FBTy9DLGFBQWEsQ0FBQ2dELEtBQUssS0FBSyxZQUMvQixPQUFPSCxVQUFVLENBQUNHLEtBQUssS0FBSyxVQUFVO1lBQ3RDaEQsYUFBYSxDQUFDZ0QsS0FBSyxHQUFHckQsT0FBT3NELE1BQU0sQ0FBQ2pELGFBQWEsQ0FBQ2dELEtBQUssRUFBRUgsVUFBVSxDQUFDRyxLQUFLO1FBQzdFLE9BQ0ssSUFBSUgsVUFBVSxDQUFDRyxLQUFLLEtBQUtGLFdBQVc7WUFDckM5QyxhQUFhLENBQUNnRCxLQUFLLEdBQUdILFVBQVUsQ0FBQ0csS0FBSztRQUMxQztJQUNKO0lBQ0EsT0FBT2hEO0FBQ1g7QUFDQUgsa0JBQWtCLEdBQUcrQyIsInNvdXJjZXMiOlsid2VicGFjazovL3lvZ2Fwb3NlcGVyZmVjdC8uL25vZGVfbW9kdWxlcy9zY2F0dGVyLWdsL2Rpc3Qvc3R5bGVzLmpzPzQwNzQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbWFrZURlZmF1bHRTdHlsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRlZmF1bHRTdHlsZXMgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICBheGVzVmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgZm9nOiB7XG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIHRocmVzaG9sZDogNTAwMCxcbiAgICAgICAgfSxcbiAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAxMCxcbiAgICAgICAgICAgIHNjYWxlRGVmYXVsdDogMSxcbiAgICAgICAgICAgIHNjYWxlTGFyZ2U6IDIsXG4gICAgICAgICAgICBmaWxsQ29sb3JTZWxlY3RlZDogJyMwMDAwMDAnLFxuICAgICAgICAgICAgZmlsbENvbG9ySG92ZXI6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgIHN0cm9rZUNvbG9yU2VsZWN0ZWQ6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgIHN0cm9rZUNvbG9ySG92ZXI6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAzLFxuICAgICAgICAgICAgZmlsbFdpZHRoOiA2LFxuICAgICAgICB9LFxuICAgICAgICBsYWJlbDNEOiB7XG4gICAgICAgICAgICBmb250U2l6ZTogODAsXG4gICAgICAgICAgICBzY2FsZTogMi4yLFxuICAgICAgICAgICAgY29sb3I6ICdibGFjaycsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgIGNvbG9yVW5zZWxlY3RlZDogJyNmZmZmZmYnLFxuICAgICAgICAgICAgY29sb3JOb1NlbGVjdGlvbjogJyNmZmZmZmYnLFxuICAgICAgICB9LFxuICAgICAgICBwb2ludDoge1xuICAgICAgICAgICAgY29sb3JVbnNlbGVjdGVkOiAncmdiYSgyMjcsIDIyNywgMjI3LCAwLjcpJyxcbiAgICAgICAgICAgIGNvbG9yTm9TZWxlY3Rpb246ICdyZ2JhKDExNywgMTE3LCAyMTcsIDAuNyknLFxuICAgICAgICAgICAgY29sb3JTZWxlY3RlZDogJ3JnYmEoMjUwLCAxMDIsIDEwMiwgMC43KScsXG4gICAgICAgICAgICBjb2xvckhvdmVyOiAncmdiYSgxMTgsIDExLCA3OSwgMC43KScsXG4gICAgICAgICAgICBzY2FsZURlZmF1bHQ6IDEuMCxcbiAgICAgICAgICAgIHNjYWxlU2VsZWN0ZWQ6IDEuMixcbiAgICAgICAgICAgIHNjYWxlSG92ZXI6IDEuMixcbiAgICAgICAgfSxcbiAgICAgICAgcG9seWxpbmU6IHtcbiAgICAgICAgICAgIHN0YXJ0SHVlOiA2MCxcbiAgICAgICAgICAgIGVuZEh1ZTogMzYwLFxuICAgICAgICAgICAgc2F0dXJhdGlvbjogMSxcbiAgICAgICAgICAgIGxpZ2h0bmVzczogMC4zLFxuICAgICAgICAgICAgZGVmYXVsdE9wYWNpdHk6IDAuMixcbiAgICAgICAgICAgIGRlZmF1bHRMaW5lV2lkdGg6IDIsXG4gICAgICAgICAgICBzZWxlY3RlZE9wYWNpdHk6IDAuOSxcbiAgICAgICAgICAgIHNlbGVjdGVkTGluZVdpZHRoOiAzLFxuICAgICAgICAgICAgZGVzZWxlY3RlZE9wYWNpdHk6IDAuMDUsXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgZmlsbDogJyNkZGRkZGQnLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMixcbiAgICAgICAgICAgIHN0cm9rZTogJyNhYWFhYWEnLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDIsXG4gICAgICAgICAgICBzdHJva2VEYXNoQXJyYXk6ICcxMCA1JyxcbiAgICAgICAgfSxcbiAgICAgICAgc3ByaXRlczoge1xuICAgICAgICAgICAgbWluUG9pbnRTaXplOiA1LjAsXG4gICAgICAgICAgICBpbWFnZVNpemU6IDMwLFxuICAgICAgICAgICAgY29sb3JVbnNlbGVjdGVkOiAnI2ZmZmZmZicsXG4gICAgICAgICAgICBjb2xvck5vU2VsZWN0aW9uOiAnI2ZmZmZmZicsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVmYXVsdFN0eWxlcztcbn07XG5mdW5jdGlvbiBtYWtlU3R5bGVzKHVzZXJTdHlsZXMpIHtcbiAgICB2YXIgZGVmYXVsdFN0eWxlcyA9IG1ha2VEZWZhdWx0U3R5bGVzKCk7XG4gICAgaWYgKHVzZXJTdHlsZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFN0eWxlcztcbiAgICB9XG4gICAgZm9yICh2YXIga2V5IGluIGRlZmF1bHRTdHlsZXMpIHtcbiAgICAgICAgdmFyIF9rZXkgPSBrZXk7XG4gICAgICAgIGlmICh0eXBlb2YgZGVmYXVsdFN0eWxlc1tfa2V5XSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIHR5cGVvZiB1c2VyU3R5bGVzW19rZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZGVmYXVsdFN0eWxlc1tfa2V5XSA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdFN0eWxlc1tfa2V5XSwgdXNlclN0eWxlc1tfa2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodXNlclN0eWxlc1tfa2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWZhdWx0U3R5bGVzW19rZXldID0gdXNlclN0eWxlc1tfa2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFN0eWxlcztcbn1cbmV4cG9ydHMubWFrZVN0eWxlcyA9IG1ha2VTdHlsZXM7XG4iXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJtYWtlRGVmYXVsdFN0eWxlcyIsImRlZmF1bHRTdHlsZXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJheGVzVmlzaWJsZSIsImZvZyIsImNvbG9yIiwiZW5hYmxlZCIsInRocmVzaG9sZCIsImxhYmVsIiwiZm9udFNpemUiLCJzY2FsZURlZmF1bHQiLCJzY2FsZUxhcmdlIiwiZmlsbENvbG9yU2VsZWN0ZWQiLCJmaWxsQ29sb3JIb3ZlciIsInN0cm9rZUNvbG9yU2VsZWN0ZWQiLCJzdHJva2VDb2xvckhvdmVyIiwic3Ryb2tlV2lkdGgiLCJmaWxsV2lkdGgiLCJsYWJlbDNEIiwic2NhbGUiLCJjb2xvclVuc2VsZWN0ZWQiLCJjb2xvck5vU2VsZWN0aW9uIiwicG9pbnQiLCJjb2xvclNlbGVjdGVkIiwiY29sb3JIb3ZlciIsInNjYWxlU2VsZWN0ZWQiLCJzY2FsZUhvdmVyIiwicG9seWxpbmUiLCJzdGFydEh1ZSIsImVuZEh1ZSIsInNhdHVyYXRpb24iLCJsaWdodG5lc3MiLCJkZWZhdWx0T3BhY2l0eSIsImRlZmF1bHRMaW5lV2lkdGgiLCJzZWxlY3RlZE9wYWNpdHkiLCJzZWxlY3RlZExpbmVXaWR0aCIsImRlc2VsZWN0ZWRPcGFjaXR5Iiwic2VsZWN0IiwiZmlsbCIsImZpbGxPcGFjaXR5Iiwic3Ryb2tlIiwic3Ryb2tlRGFzaEFycmF5Iiwic3ByaXRlcyIsIm1pblBvaW50U2l6ZSIsImltYWdlU2l6ZSIsIm1ha2VTdHlsZXMiLCJ1c2VyU3R5bGVzIiwidW5kZWZpbmVkIiwia2V5IiwiX2tleSIsImFzc2lnbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/styles.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/scatter-gl/dist/util.js":
/*!**********************************************!*\
  !*** ./node_modules/scatter-gl/dist/util.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar THREE = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\nfunction vector3DToScreenCoords(cam, w, h, v) {\n    var dpr = window.devicePixelRatio;\n    var pv = new THREE.Vector3().copy(v).project(cam);\n    var coords = [\n        (pv.x + 1) / 2 * w * dpr,\n        -((pv.y - 1) / 2 * h) * dpr\n    ];\n    return coords;\n}\nexports.vector3DToScreenCoords = vector3DToScreenCoords;\nfunction vector3FromPackedArray(a, pointIndex) {\n    var offset = pointIndex * 3;\n    return new THREE.Vector3(a[offset], a[offset + 1], a[offset + 2]);\n}\nexports.vector3FromPackedArray = vector3FromPackedArray;\nfunction getNearFarPoints(worldSpacePoints, cameraPos, cameraTarget) {\n    var shortestDist = Infinity;\n    var furthestDist = 0;\n    var camToTarget = new THREE.Vector3().copy(cameraTarget).sub(cameraPos);\n    var camPlaneNormal = new THREE.Vector3().copy(camToTarget).normalize();\n    var n = worldSpacePoints.length / 3;\n    var src = 0;\n    var p = new THREE.Vector3();\n    var camToPoint = new THREE.Vector3();\n    for(var i = 0; i < n; i++){\n        p.x = worldSpacePoints[src];\n        p.y = worldSpacePoints[src + 1];\n        p.z = worldSpacePoints[src + 2];\n        src += 3;\n        camToPoint.copy(p).sub(cameraPos);\n        var dist = camPlaneNormal.dot(camToPoint);\n        if (dist < 0) {\n            continue;\n        }\n        furthestDist = dist > furthestDist ? dist : furthestDist;\n        shortestDist = dist < shortestDist ? dist : shortestDist;\n    }\n    return [\n        shortestDist,\n        furthestDist\n    ];\n}\nexports.getNearFarPoints = getNearFarPoints;\nfunction prepareTexture(texture, needsUpdate) {\n    if (needsUpdate === void 0) {\n        needsUpdate = true;\n    }\n    texture.needsUpdate = needsUpdate;\n    texture.minFilter = THREE.LinearFilter;\n    texture.generateMipmaps = false;\n    texture.flipY = false;\n    return texture;\n}\nfunction createTextureFromCanvas(image) {\n    var texture = new THREE.Texture(image);\n    return prepareTexture(texture);\n}\nexports.createTextureFromCanvas = createTextureFromCanvas;\nfunction createTextureFromImage(image, onImageLoad) {\n    var texture = new THREE.Texture(image);\n    if (image.complete) {\n        texture.needsUpdate = true;\n        onImageLoad();\n    } else {\n        image.onload = function() {\n            texture.needsUpdate = true;\n            onImageLoad();\n        };\n    }\n    return prepareTexture(texture, false);\n}\nexports.createTextureFromImage = createTextureFromImage;\nfunction hasWebGLSupport() {\n    try {\n        var c = document.createElement(\"canvas\");\n        var gl = c.getContext(\"webgl\") || c.getContext(\"experimental-webgl\");\n        return gl != null;\n    } catch (e) {\n        return false;\n    }\n}\nexports.hasWebGLSupport = hasWebGLSupport;\nfunction extent(data) {\n    var minimum = Infinity;\n    var maximum = -Infinity;\n    for(var i = 0; i < data.length; i++){\n        var item = data[i];\n        if (item < minimum) minimum = item;\n        if (item > maximum) maximum = item;\n    }\n    return [\n        minimum,\n        maximum\n    ];\n}\nexports.extent = extent;\nfunction scaleLinear(value, domain, range) {\n    var domainDifference = domain[1] - domain[0];\n    var rangeDifference = range[1] - range[0];\n    var percentDomain = (value - domain[0]) / domainDifference;\n    return percentDomain * rangeDifference + range[0];\n}\nexports.scaleLinear = scaleLinear;\nfunction scaleExponential(value, domain, range) {\n    var domainDifference = Math.pow(domain[1], Math.E) - Math.pow(domain[0], Math.E);\n    var rangeDifference = range[1] - range[0];\n    var percentDomain = (Math.pow(value, Math.E) - domain[0]) / domainDifference;\n    return percentDomain * rangeDifference + range[0];\n}\nexports.scaleExponential = scaleExponential;\nfunction packRgbIntoUint8Array(rgbArray, labelIndex, r, g, b) {\n    rgbArray[labelIndex * 3] = r;\n    rgbArray[labelIndex * 3 + 1] = g;\n    rgbArray[labelIndex * 3 + 2] = b;\n}\nexports.packRgbIntoUint8Array = packRgbIntoUint8Array;\nfunction styleRgbFromHexColor(hex) {\n    var c = new THREE.Color(hex);\n    return [\n        c.r * 255 | 0,\n        c.g * 255 | 0,\n        c.b * 255 | 0\n    ];\n}\nexports.styleRgbFromHexColor = styleRgbFromHexColor;\nvar toPercent = function(percent) {\n    return 100 * percent + \"%\";\n};\nfunction getDefaultPointInPolylineColor(index, totalPoints, startHue, endHue, saturation, lightness) {\n    var hue = startHue + (endHue - startHue) * index / totalPoints;\n    var hsl = \"hsl(\" + hue + \", \" + toPercent(saturation) + \", \" + toPercent(lightness) + \")\";\n    return new THREE.Color(hsl);\n}\nexports.getDefaultPointInPolylineColor = getDefaultPointInPolylineColor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2NhdHRlci1nbC9kaXN0L3V0aWwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYkEsOENBQTZDO0lBQUVHLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0QsSUFBSUMsUUFBUUMsbUJBQU9BLENBQUMsK0RBQU87QUFDM0IsU0FBU0MsdUJBQXVCQyxHQUFHLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxDQUFDO0lBQ3hDLElBQUlDLE1BQU1DLE9BQU9DLGdCQUFnQjtJQUNqQyxJQUFJQyxLQUFLLElBQUlWLE1BQU1XLE9BQU8sR0FBR0MsSUFBSSxDQUFDTixHQUFHTyxPQUFPLENBQUNWO0lBQzdDLElBQUlXLFNBQVM7UUFDUEosQ0FBQUEsR0FBR0ssQ0FBQyxHQUFHLEtBQUssSUFBS1gsSUFBSUc7UUFDdkIsQ0FBRSxFQUFFRyxHQUFHTSxDQUFDLEdBQUcsS0FBSyxJQUFLWCxDQUFBQSxJQUFLRTtLQUM3QjtJQUNELE9BQU9PO0FBQ1g7QUFDQWhCLDhCQUE4QixHQUFHSTtBQUNqQyxTQUFTZSx1QkFBdUJDLENBQUMsRUFBRUMsVUFBVTtJQUN6QyxJQUFJQyxTQUFTRCxhQUFhO0lBQzFCLE9BQU8sSUFBSW5CLE1BQU1XLE9BQU8sQ0FBQ08sQ0FBQyxDQUFDRSxPQUFPLEVBQUVGLENBQUMsQ0FBQ0UsU0FBUyxFQUFFLEVBQUVGLENBQUMsQ0FBQ0UsU0FBUyxFQUFFO0FBQ3BFO0FBQ0F0Qiw4QkFBOEIsR0FBR21CO0FBQ2pDLFNBQVNJLGlCQUFpQkMsZ0JBQWdCLEVBQUVDLFNBQVMsRUFBRUMsWUFBWTtJQUMvRCxJQUFJQyxlQUFlQztJQUNuQixJQUFJQyxlQUFlO0lBQ25CLElBQUlDLGNBQWMsSUFBSTVCLE1BQU1XLE9BQU8sR0FBR0MsSUFBSSxDQUFDWSxjQUFjSyxHQUFHLENBQUNOO0lBQzdELElBQUlPLGlCQUFpQixJQUFJOUIsTUFBTVcsT0FBTyxHQUFHQyxJQUFJLENBQUNnQixhQUFhRyxTQUFTO0lBQ3BFLElBQUlDLElB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O0FBQUs7QUFDakUsU0FBU0MsK0JBQStCQyxLQUFLLEVBQUVDLFdBQVcsRUFBRUMsUUFBUSxFQUFFQyxNQUFNLEVBQUVDLFVBQVUsRUFBRUMsU0FBUztJQUMvRixJQUFJQyxNQUFNSixXQUFXLENBQUVDLFNBQVNELFFBQU8sSUFBS0YsUUFBU0M7SUFDckQsSUFBSU0sTUFBTSxTQUFTRCxNQUFNLE9BQU9ULFVBQVVPLGNBQWMsT0FBT1AsVUFBVVEsYUFBYTtJQUN0RixPQUFPLElBQUk5RixNQUFNcUYsS0FBSyxDQUFDVztBQUMzQjtBQUNBbEcsc0NBQXNDLEdBQUcwRiIsInNvdXJjZXMiOlsid2VicGFjazovL3lvZ2Fwb3NlcGVyZmVjdC8uL25vZGVfbW9kdWxlcy9zY2F0dGVyLWdsL2Rpc3QvdXRpbC5qcz9hODViIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFRIUkVFID0gcmVxdWlyZShcInRocmVlXCIpO1xuZnVuY3Rpb24gdmVjdG9yM0RUb1NjcmVlbkNvb3JkcyhjYW0sIHcsIGgsIHYpIHtcbiAgICB2YXIgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgdmFyIHB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKS5jb3B5KHYpLnByb2plY3QoY2FtKTtcbiAgICB2YXIgY29vcmRzID0gW1xuICAgICAgICAoKHB2LnggKyAxKSAvIDIpICogdyAqIGRwcixcbiAgICAgICAgLSgoKHB2LnkgLSAxKSAvIDIpICogaCkgKiBkcHIsXG4gICAgXTtcbiAgICByZXR1cm4gY29vcmRzO1xufVxuZXhwb3J0cy52ZWN0b3IzRFRvU2NyZWVuQ29vcmRzID0gdmVjdG9yM0RUb1NjcmVlbkNvb3JkcztcbmZ1bmN0aW9uIHZlY3RvcjNGcm9tUGFja2VkQXJyYXkoYSwgcG9pbnRJbmRleCkge1xuICAgIHZhciBvZmZzZXQgPSBwb2ludEluZGV4ICogMztcbiAgICByZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjMoYVtvZmZzZXRdLCBhW29mZnNldCArIDFdLCBhW29mZnNldCArIDJdKTtcbn1cbmV4cG9ydHMudmVjdG9yM0Zyb21QYWNrZWRBcnJheSA9IHZlY3RvcjNGcm9tUGFja2VkQXJyYXk7XG5mdW5jdGlvbiBnZXROZWFyRmFyUG9pbnRzKHdvcmxkU3BhY2VQb2ludHMsIGNhbWVyYVBvcywgY2FtZXJhVGFyZ2V0KSB7XG4gICAgdmFyIHNob3J0ZXN0RGlzdCA9IEluZmluaXR5O1xuICAgIHZhciBmdXJ0aGVzdERpc3QgPSAwO1xuICAgIHZhciBjYW1Ub1RhcmdldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuY29weShjYW1lcmFUYXJnZXQpLnN1YihjYW1lcmFQb3MpO1xuICAgIHZhciBjYW1QbGFuZU5vcm1hbCA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuY29weShjYW1Ub1RhcmdldCkubm9ybWFsaXplKCk7XG4gICAgdmFyIG4gPSB3b3JsZFNwYWNlUG9pbnRzLmxlbmd0aCAvIDM7XG4gICAgdmFyIHNyYyA9IDA7XG4gICAgdmFyIHAgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBjYW1Ub1BvaW50ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICBwLnggPSB3b3JsZFNwYWNlUG9pbnRzW3NyY107XG4gICAgICAgIHAueSA9IHdvcmxkU3BhY2VQb2ludHNbc3JjICsgMV07XG4gICAgICAgIHAueiA9IHdvcmxkU3BhY2VQb2ludHNbc3JjICsgMl07XG4gICAgICAgIHNyYyArPSAzO1xuICAgICAgICBjYW1Ub1BvaW50LmNvcHkocCkuc3ViKGNhbWVyYVBvcyk7XG4gICAgICAgIHZhciBkaXN0ID0gY2FtUGxhbmVOb3JtYWwuZG90KGNhbVRvUG9pbnQpO1xuICAgICAgICBpZiAoZGlzdCA8IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZ1cnRoZXN0RGlzdCA9IGRpc3QgPiBmdXJ0aGVzdERpc3QgPyBkaXN0IDogZnVydGhlc3REaXN0O1xuICAgICAgICBzaG9ydGVzdERpc3QgPSBkaXN0IDwgc2hvcnRlc3REaXN0ID8gZGlzdCA6IHNob3J0ZXN0RGlzdDtcbiAgICB9XG4gICAgcmV0dXJuIFtzaG9ydGVzdERpc3QsIGZ1cnRoZXN0RGlzdF07XG59XG5leHBvcnRzLmdldE5lYXJGYXJQb2ludHMgPSBnZXROZWFyRmFyUG9pbnRzO1xuZnVuY3Rpb24gcHJlcGFyZVRleHR1cmUodGV4dHVyZSwgbmVlZHNVcGRhdGUpIHtcbiAgICBpZiAobmVlZHNVcGRhdGUgPT09IHZvaWQgMCkgeyBuZWVkc1VwZGF0ZSA9IHRydWU7IH1cbiAgICB0ZXh0dXJlLm5lZWRzVXBkYXRlID0gbmVlZHNVcGRhdGU7XG4gICAgdGV4dHVyZS5taW5GaWx0ZXIgPSBUSFJFRS5MaW5lYXJGaWx0ZXI7XG4gICAgdGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHMgPSBmYWxzZTtcbiAgICB0ZXh0dXJlLmZsaXBZID0gZmFsc2U7XG4gICAgcmV0dXJuIHRleHR1cmU7XG59XG5mdW5jdGlvbiBjcmVhdGVUZXh0dXJlRnJvbUNhbnZhcyhpbWFnZSkge1xuICAgIHZhciB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmUoaW1hZ2UpO1xuICAgIHJldHVybiBwcmVwYXJlVGV4dHVyZSh0ZXh0dXJlKTtcbn1cbmV4cG9ydHMuY3JlYXRlVGV4dHVyZUZyb21DYW52YXMgPSBjcmVhdGVUZXh0dXJlRnJvbUNhbnZhcztcbmZ1bmN0aW9uIGNyZWF0ZVRleHR1cmVGcm9tSW1hZ2UoaW1hZ2UsIG9uSW1hZ2VMb2FkKSB7XG4gICAgdmFyIHRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZShpbWFnZSk7XG4gICAgaWYgKGltYWdlLmNvbXBsZXRlKSB7XG4gICAgICAgIHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICBvbkltYWdlTG9hZCgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGV4dHVyZS5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICBvbkltYWdlTG9hZCgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcHJlcGFyZVRleHR1cmUodGV4dHVyZSwgZmFsc2UpO1xufVxuZXhwb3J0cy5jcmVhdGVUZXh0dXJlRnJvbUltYWdlID0gY3JlYXRlVGV4dHVyZUZyb21JbWFnZTtcbmZ1bmN0aW9uIGhhc1dlYkdMU3VwcG9ydCgpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgZ2wgPSBjLmdldENvbnRleHQoJ3dlYmdsJykgfHwgYy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnKTtcbiAgICAgICAgcmV0dXJuIGdsICE9IG51bGw7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnRzLmhhc1dlYkdMU3VwcG9ydCA9IGhhc1dlYkdMU3VwcG9ydDtcbmZ1bmN0aW9uIGV4dGVudChkYXRhKSB7XG4gICAgdmFyIG1pbmltdW0gPSBJbmZpbml0eTtcbiAgICB2YXIgbWF4aW11bSA9IC1JbmZpbml0eTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBkYXRhW2ldO1xuICAgICAgICBpZiAoaXRlbSA8IG1pbmltdW0pXG4gICAgICAgICAgICBtaW5pbXVtID0gaXRlbTtcbiAgICAgICAgaWYgKGl0ZW0gPiBtYXhpbXVtKVxuICAgICAgICAgICAgbWF4aW11bSA9IGl0ZW07XG4gICAgfVxuICAgIHJldHVybiBbbWluaW11bSwgbWF4aW11bV07XG59XG5leHBvcnRzLmV4dGVudCA9IGV4dGVudDtcbmZ1bmN0aW9uIHNjYWxlTGluZWFyKHZhbHVlLCBkb21haW4sIHJhbmdlKSB7XG4gICAgdmFyIGRvbWFpbkRpZmZlcmVuY2UgPSBkb21haW5bMV0gLSBkb21haW5bMF07XG4gICAgdmFyIHJhbmdlRGlmZmVyZW5jZSA9IHJhbmdlWzFdIC0gcmFuZ2VbMF07XG4gICAgdmFyIHBlcmNlbnREb21haW4gPSAodmFsdWUgLSBkb21haW5bMF0pIC8gZG9tYWluRGlmZmVyZW5jZTtcbiAgICByZXR1cm4gcGVyY2VudERvbWFpbiAqIHJhbmdlRGlmZmVyZW5jZSArIHJhbmdlWzBdO1xufVxuZXhwb3J0cy5zY2FsZUxpbmVhciA9IHNjYWxlTGluZWFyO1xuZnVuY3Rpb24gc2NhbGVFeHBvbmVudGlhbCh2YWx1ZSwgZG9tYWluLCByYW5nZSkge1xuICAgIHZhciBkb21haW5EaWZmZXJlbmNlID0gTWF0aC5wb3coZG9tYWluWzFdLCBNYXRoLkUpIC0gTWF0aC5wb3coZG9tYWluWzBdLCBNYXRoLkUpO1xuICAgIHZhciByYW5nZURpZmZlcmVuY2UgPSByYW5nZVsxXSAtIHJhbmdlWzBdO1xuICAgIHZhciBwZXJjZW50RG9tYWluID0gKE1hdGgucG93KHZhbHVlLCBNYXRoLkUpIC0gZG9tYWluWzBdKSAvIGRvbWFpbkRpZmZlcmVuY2U7XG4gICAgcmV0dXJuIHBlcmNlbnREb21haW4gKiByYW5nZURpZmZlcmVuY2UgKyByYW5nZVswXTtcbn1cbmV4cG9ydHMuc2NhbGVFeHBvbmVudGlhbCA9IHNjYWxlRXhwb25lbnRpYWw7XG5mdW5jdGlvbiBwYWNrUmdiSW50b1VpbnQ4QXJyYXkocmdiQXJyYXksIGxhYmVsSW5kZXgsIHIsIGcsIGIpIHtcbiAgICByZ2JBcnJheVtsYWJlbEluZGV4ICogM10gPSByO1xuICAgIHJnYkFycmF5W2xhYmVsSW5kZXggKiAzICsgMV0gPSBnO1xuICAgIHJnYkFycmF5W2xhYmVsSW5kZXggKiAzICsgMl0gPSBiO1xufVxuZXhwb3J0cy5wYWNrUmdiSW50b1VpbnQ4QXJyYXkgPSBwYWNrUmdiSW50b1VpbnQ4QXJyYXk7XG5mdW5jdGlvbiBzdHlsZVJnYkZyb21IZXhDb2xvcihoZXgpIHtcbiAgICB2YXIgYyA9IG5ldyBUSFJFRS5Db2xvcihoZXgpO1xuICAgIHJldHVybiBbKGMuciAqIDI1NSkgfCAwLCAoYy5nICogMjU1KSB8IDAsIChjLmIgKiAyNTUpIHwgMF07XG59XG5leHBvcnRzLnN0eWxlUmdiRnJvbUhleENvbG9yID0gc3R5bGVSZ2JGcm9tSGV4Q29sb3I7XG52YXIgdG9QZXJjZW50ID0gZnVuY3Rpb24gKHBlcmNlbnQpIHsgcmV0dXJuIDEwMCAqIHBlcmNlbnQgKyBcIiVcIjsgfTtcbmZ1bmN0aW9uIGdldERlZmF1bHRQb2ludEluUG9seWxpbmVDb2xvcihpbmRleCwgdG90YWxQb2ludHMsIHN0YXJ0SHVlLCBlbmRIdWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcykge1xuICAgIHZhciBodWUgPSBzdGFydEh1ZSArICgoZW5kSHVlIC0gc3RhcnRIdWUpICogaW5kZXgpIC8gdG90YWxQb2ludHM7XG4gICAgdmFyIGhzbCA9IFwiaHNsKFwiICsgaHVlICsgXCIsIFwiICsgdG9QZXJjZW50KHNhdHVyYXRpb24pICsgXCIsIFwiICsgdG9QZXJjZW50KGxpZ2h0bmVzcykgKyBcIilcIjtcbiAgICByZXR1cm4gbmV3IFRIUkVFLkNvbG9yKGhzbCk7XG59XG5leHBvcnRzLmdldERlZmF1bHRQb2ludEluUG9seWxpbmVDb2xvciA9IGdldERlZmF1bHRQb2ludEluUG9seWxpbmVDb2xvcjtcbiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlRIUkVFIiwicmVxdWlyZSIsInZlY3RvcjNEVG9TY3JlZW5Db29yZHMiLCJjYW0iLCJ3IiwiaCIsInYiLCJkcHIiLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwicHYiLCJWZWN0b3IzIiwiY29weSIsInByb2plY3QiLCJjb29yZHMiLCJ4IiwieSIsInZlY3RvcjNGcm9tUGFja2VkQXJyYXkiLCJhIiwicG9pbnRJbmRleCIsIm9mZnNldCIsImdldE5lYXJGYXJQb2ludHMiLCJ3b3JsZFNwYWNlUG9pbnRzIiwiY2FtZXJhUG9zIiwiY2FtZXJhVGFyZ2V0Iiwic2hvcnRlc3REaXN0IiwiSW5maW5pdHkiLCJmdXJ0aGVzdERpc3QiLCJjYW1Ub1RhcmdldCIsInN1YiIsImNhbVBsYW5lTm9ybWFsIiwibm9ybWFsaXplIiwibiIsImxlbmd0aCIsInNyYyIsInAiLCJjYW1Ub1BvaW50IiwiaSIsInoiLCJkaXN0IiwiZG90IiwicHJlcGFyZVRleHR1cmUiLCJ0ZXh0dXJlIiwibmVlZHNVcGRhdGUiLCJtaW5GaWx0ZXIiLCJMaW5lYXJGaWx0ZXIiLCJnZW5lcmF0ZU1pcG1hcHMiLCJmbGlwWSIsImNyZWF0ZVRleHR1cmVGcm9tQ2FudmFzIiwiaW1hZ2UiLCJUZXh0dXJlIiwiY3JlYXRlVGV4dHVyZUZyb21JbWFnZSIsIm9uSW1hZ2VMb2FkIiwiY29tcGxldGUiLCJvbmxvYWQiLCJoYXNXZWJHTFN1cHBvcnQiLCJjIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2wiLCJnZXRDb250ZXh0IiwiZSIsImV4dGVudCIsImRhdGEiLCJtaW5pbXVtIiwibWF4aW11bSIsIml0ZW0iLCJzY2FsZUxpbmVhciIsImRvbWFpbiIsInJhbmdlIiwiZG9tYWluRGlmZmVyZW5jZSIsInJhbmdlRGlmZmVyZW5jZSIsInBlcmNlbnREb21haW4iLCJzY2FsZUV4cG9uZW50aWFsIiwiTWF0aCIsInBvdyIsIkUiLCJwYWNrUmdiSW50b1VpbnQ4QXJyYXkiLCJyZ2JBcnJheSIsImxhYmVsSW5kZXgiLCJyIiwiZyIsImIiLCJzdHlsZVJnYkZyb21IZXhDb2xvciIsImhleCIsIkNvbG9yIiwidG9QZXJjZW50IiwicGVyY2VudCIsImdldERlZmF1bHRQb2ludEluUG9seWxpbmVDb2xvciIsImluZGV4IiwidG90YWxQb2ludHMiLCJzdGFydEh1ZSIsImVuZEh1ZSIsInNhdHVyYXRpb24iLCJsaWdodG5lc3MiLCJodWUiLCJoc2wiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/scatter-gl/dist/util.js\n");

/***/ })

};
;